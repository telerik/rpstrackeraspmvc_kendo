{"version":3,"file":"kendo.dropdowns-loader.chunk.min.js","names":["global","factory","exports","module","define","amd","globalThis","self","kendo","_globals","DropdownsLoaderChunk","this","$","jQuery","LOADING","SELECTOR","ARIA_BUSY","toggleLoader","toggle","that","loaderIsShown","wrapper","hasClass","inputValuesWrapper","find","isMultiSelect","options","name","toLowerCase","_loading","addClass","_suffixContainer","separators","length","before","_arrow","insertAfter","element","removeClass","remove","showBusyHandler","_focused","attr","_toggleLoader","_hideClear","showBusy","e","isDefaultPrevented","_request","_busy","setTimeout","_showBusyHandler","hideBusy","clearTimeout","_toggleCloseVisibility","_showClear","__meta__","id","category","description","depends","hidden","chunk","i","loader","_showBusy","bind","_hideBusy"],"sources":["kendo.dropdowns-loader.chunk.js"],"mappings":"CAAA,SAAWA,EAAQC,GACI,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,SACrD,mBAAXE,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,WAAYH,GACUA,IAA1ED,EAA+B,oBAAfM,WAA6BA,WAAaN,GAAUO,MAAsBC,MAAQR,EAAOQ,OAAS,CAAC,EAAGR,EAAOQ,MAAMC,SAAWT,EAAOQ,MAAMC,UAAY,CAAC,EAAGT,EAAOQ,MAAMC,SAASC,qBAAuB,CAAC,GAC7N,CAJD,CAIGC,MAAM,SAAWT,GAWhB,IAAIU,EAAIJ,MAAMK,OAEd,MAAMC,EAAU,YAEVC,EAAW,gBAEXC,EAAY,YAalB,SAASC,EAAaC,GAClB,MAAMC,EAAOR,KACPS,EAAgBD,EAAKE,QAAQC,SAASR,GACtCS,EAAqBJ,EAAKE,QAAQG,KAAK,mBACvCC,EAAoD,gBAApCN,EAAKO,QAAQC,KAAKC,cACxC,GAAIT,EAAKU,SACL,GAAIX,IAAWE,EAEX,GADAD,EAAKE,QAAQS,SAAShB,GAClBK,EAAKY,iBAAkB,CACvB,MAAMC,EAAab,EAAKE,QAAQG,KAAK,sBACrCZ,EAAEoB,EAAWA,EAAWC,OAAS,IAAIC,OAAOf,EAAKU,SACrD,MAAO,GAAIV,EAAKgB,OACZhB,EAAKgB,OAAOD,OAAOf,EAAKU,eACrB,GAAIN,EAAmBU,OAAS,GAAKR,EACxCN,EAAKU,SAASO,YAAYb,OACvB,CACH,MAAMc,EAAUlB,EAAKkB,QAAQf,SAASP,GAAYI,EAAKkB,QAAUlB,EAAKE,QAAQG,KAAK,IAAIT,KACvFI,EAAKU,SAASO,YAAYC,EAC9B,MACOjB,IACPD,EAAKE,QAAQiB,YAAYxB,GACzBK,EAAKU,SAASU,SAG1B,CAEA,SAASC,IACD,MAAMrB,EAAOR,KACb,GAAIQ,EAAKsB,SACLtB,EAAKsB,SAASC,KAAK1B,GAAW,OAC3B,EACaG,EAAKkB,QAAQf,SAASP,GAAYI,EAAKkB,QAAUlB,EAAKE,QAAQG,KAAK,IAAIT,MAC/E2B,KAAK1B,GAAW,EAC5B,CAEAG,EAAKwB,eAAc,GACnBxB,EAAKyB,YACb,CAEA,SAASC,EAASC,GACd,MAAM3B,EAAOR,KAETmC,GAAKA,EAAEC,uBAIX5B,EAAK6B,UAAW,EAEZ7B,EAAK8B,QAIT9B,EAAK8B,MAAQC,WAAW/B,EAAKgC,iBAAkB,MACnD,CAGA,SAASC,IACL,MAAMjC,EAAOR,KASb,GARA0C,aAAalC,EAAK8B,OAClB9B,EAAKwB,eAAc,GACnBxB,EAAK8B,MAAQ,KAET9B,EAAK6B,WACL7B,EAAK6B,UAAW,GAGhB7B,EAAKsB,SACLtB,EAAKsB,SAASC,KAAK1B,GAAW,OAC3B,EACaG,EAAKkB,QAAQf,SAASP,GAAYI,EAAKkB,QAAUlB,EAAKE,QAAQG,KAAK,IAAIT,MAC/E2B,KAAK1B,GAAW,EAC5B,CAEIG,EAAKmC,uBACLnC,EAAKmC,yBAELnC,EAAKoC,YAEb,CAEArD,EAAQsD,SA7GS,CACbC,GAAI,yBACJ9B,KAAM,uBACN+B,SAAU,MACVC,YAAa,oCACbC,QAAS,GACTC,QAAQ,EACRC,OAAO,GAuGX5D,EAAQ6D,EA5FR,WACI,MAAM5C,EAAOR,KACPqD,EAASpD,EAAE,iBAAiBkB,SAPvB,2CAOwCY,KAAK,OAAQ,gBAChEvB,EAAKU,SAAWmC,EAEhB7C,EAAK8C,UAAYpB,EAASqB,KAAK/C,GAC/BA,EAAKgD,UAAYf,EAASc,KAAK/C,GAC/BA,EAAKwB,cAAgB1B,EAAaiD,KAAK/C,GACvCA,EAAKgC,iBAAmBX,EAAgB0B,KAAK/C,EACjD,CAqFH","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.DropdownsLoaderChunk = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"dropdowns-loader.chunk\",\n        name: \"DropdownsLoaderChunk\",\n        category: \"web\",\n        description: \"A reusable outputed chunk of code\",\n        depends: [],\n        hidden: true,\n        chunk: true\n    };\n\n    let $ = kendo.jQuery;\n\n    const LOADING = \"k-loading\",\n          LOADER = \"k-icon k-i-loading k-input-loading-icon\",\n          SELECTOR = \"k-input-inner\",\n          INPUT_VALUES = \"k-input-values\",\n          ARIA_BUSY = \"aria-busy\";\n\n    function initLoader() {\n        const that = this;\n        const loader = $(\"<span></span>\").addClass(LOADER).attr(\"role\", \"presentation\");\n        that._loading = loader;\n\n        that._showBusy = showBusy.bind(that);\n        that._hideBusy = hideBusy.bind(that);\n        that._toggleLoader = toggleLoader.bind(that);\n        that._showBusyHandler = showBusyHandler.bind(that);\n    }\n\n    function toggleLoader(toggle) {\n        const that = this;\n        const loaderIsShown = that.wrapper.hasClass(LOADING);\n        const inputValuesWrapper = that.wrapper.find(`.${INPUT_VALUES}`);\n        const isMultiSelect = that.options.name.toLowerCase() === \"multiselect\";\n        if (that._loading) {\n            if (toggle && !loaderIsShown) {\n                that.wrapper.addClass(LOADING);\n                if (that._suffixContainer) {\n                    const separators = that.wrapper.find('.k-input-separator');\n                    $(separators[separators.length - 1]).before(that._loading);\n                } else if (that._arrow) {\n                    that._arrow.before(that._loading);\n                } else if (inputValuesWrapper.length > 0 && isMultiSelect) {\n                    that._loading.insertAfter(inputValuesWrapper);\n                } else {\n                    const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n                    that._loading.insertAfter(element);\n                }\n            } else if (loaderIsShown) {\n                that.wrapper.removeClass(LOADING);\n                that._loading.remove();\n            }\n        }\n    }\n\n    function showBusyHandler() {\n            const that = this;\n            if (that._focused) {\n                that._focused.attr(ARIA_BUSY, true);\n            } else {\n                const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n                element.attr(ARIA_BUSY, true);\n            }\n\n            that._toggleLoader(true);\n            that._hideClear();\n    }\n\n    function showBusy(e) {\n        const that = this;\n\n        if (e && e.isDefaultPrevented()) {\n            return;\n        }\n\n        that._request = true;\n\n        if (that._busy) {\n            return;\n        }\n\n        that._busy = setTimeout(that._showBusyHandler, 100);\n    }\n\n\n    function hideBusy() {\n        const that = this;\n        clearTimeout(that._busy);\n        that._toggleLoader(false);\n        that._busy = null;\n\n        if (that._request) {\n            that._request = false;\n        }\n\n        if (that._focused) {\n            that._focused.attr(ARIA_BUSY, false);\n        } else {\n            const element = that.element.hasClass(SELECTOR) ? that.element : that.wrapper.find(`.${SELECTOR}`);\n            element.attr(ARIA_BUSY, true);\n        }\n\n        if (that._toggleCloseVisibility) {\n            that._toggleCloseVisibility();\n        } else {\n            that._showClear();\n        }\n    }\n\n    exports.__meta__ = __meta__;\n    exports.i = initLoader;\n\n}));\n"]}