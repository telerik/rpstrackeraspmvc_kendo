{"version":3,"file":"kendo.captcha.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Captcha","this","$","window","Widget","ui","extend","ajax","isFunction","NS","DOT","CLICK","CHANGE","REQUEST_START","REQUEST_END","ERROR","init","element","options","that","fn","call","_captchaField","dataCaptchaField","_valueField","attr","_captchaIdField","dataCaptchaIdField","_wrapper","_idInput","_captchaImage","audioButton","resetButton","_buttons","captcha","captchaId","_resetHandler","validateOnBlur","on","_validationHandler","ev","_isValid","trigger","value","val","originalEvent","notify","events","name","handler","audioHandler","validationHandler","volumeControl","messages","reset","audio","imageAlt","success","destroy","textbox","off","_audioEnded","styles","wrapper","inputWrapper","imageWrapper","cssText","style","css","kendoTextBox","clearButton","data","_inputWrapper","wrap","parent","prepend","captchaImage","find","append","_tabindex","_attachImageErrorHandler","one","type","nameAttr","idInput","ns","after","buttonsWrapper","_audioButton","_resetButton","button","iconButton","icon","resetIcon","iconClass","bind","audioIcon","_audioHandler","focusResetButton","deferred","Deferred","_resetCaptcha","_toggleSuccessMessage","_progress","_callHandler","done","fail","args","reject","promise","console","error","msg","_playAudio","_validate","_error","requestEnd","_requestEnd","url","cache","jqXHR","textStatus","errorThrown","id","resolve","_canPlayWav","audioElement","Audio","volume","_audioVolume","_showVolumeControl","play","volumeControlWrapper","volumeControlElm","_isRtl","width","kendoSlider","min","max","smallStep","largeStep","orientation","showButtons","tickPlacement","tooltip","enabled","change","document","activeElement","is","remove","pause","_canPlayAudio","canPlayType","replace","toggle","idAttr","successMessage","removeAttr","htmlEncode","_toggleButtons","prop","toggleClass","loading","disabled","_toggleSkeleton","skeleton","height","before","support","isRtl","getCaptchaId","toJSON","obj","validate","isValid","enable","readonly","speak","plugin","buttonIcon","hidden","jQuery","kendo$1","__meta__","category","description","depends","default","Object","defineProperty"],"sources":["kendo.captcha.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.core.js'), require('kendo.slider.js'), require('kendo.textbox.js'), require('kendo.skeletoncontainer.js'), require('kendo.icons.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.core', 'kendo.slider', 'kendo.textbox', 'kendo.skeletoncontainer', 'kendo.icons'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Captcha = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n            id: \"captcha\",\n            name: \"Captcha\",\n            category: \"web\",\n            description: \"The Captcha widget displays captcha validation image and an input so that user case be validated against captcha value.\",\n            depends: [\"core\", \"slider\", \"textbox\", \"skeletoncontainer\", \"icons\"]\n        };\n\n        (function($, undefined$1) {\n            var kendo = window.kendo,\n                Widget = kendo.ui.Widget,\n                extend = $.extend,\n                ajax = $.ajax,\n                isFunction = kendo.isFunction,\n\n                STRING = \"string\",\n\n                DOT = \".\",\n                NS = DOT + \"kendoCaptcha\",\n\n                CLICK = \"click\",\n                BLUR = \"blur\",\n\n                CHANGE = \"change\",\n                REQUEST_START = \"requestStart\",\n                REQUEST_END = \"requestEnd\",\n                ERROR = \"error\";\n\n            var CaptchaStyles = {\n                wrapper: \"k-captcha\",\n                textbox: \"k-textbox\",\n                button: \"k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n                buttonIcon: \"k-button-icon\",\n                iconButton: \"k-icon-button\",\n                resetIcon: \"arrow-rotate-cw\",\n                audioIcon: \"volume-up\",\n                disabled: \"k-disabled\",\n                inputWrapper: \"k-captcha-input k-vstack\",\n                imageWrapper: \"k-captcha-image-wrap k-hstack\",\n                captchaImage: \"k-captcha-image\",\n                buttonsWrapper: \"k-captcha-image-controls k-vstack\",\n                volumeControlWrapper: \"k-captcha-volume-control k-vstack k-pos-absolute\",\n                hidden: \"k-hidden\",\n                success: \"k-captcha-validation-message k-text-success\",\n                loading: \"k-captcha-loading\"\n            };\n\n            var Captcha = Widget.extend({\n                init: function(element, options) {\n                    var that = this;\n\n                    Widget.fn.init.call(that, element, options);\n\n                    that._captchaField = that.options.dataCaptchaField;\n                    that._valueField = that.element.attr(\"name\") || \"captcha\";\n                    that._captchaIdField = that.options.dataCaptchaIdField;\n\n                    that._wrapper();\n                    that._idInput();\n                    that._captchaImage();\n\n                    if (that.options.audioButton || that.options.resetButton) {\n                        that._buttons();\n\n                    }\n\n                    if (!that.options.captcha || !that.options.captchaId) {\n                        that._resetHandler();\n                    }\n\n                    if (that.options.validateOnBlur) {\n                        that.element.on(BLUR + NS, function() {\n                            that._validationHandler();\n                        });\n                    }\n\n                    that.element.on(CHANGE + NS, function(ev) {\n                        delete that._isValid;\n                        that.trigger(CHANGE, { value: that.element.val(), originalEvent: ev });\n                    });\n\n                    kendo.notify(that);\n                },\n\n                events: [\n                    CHANGE,\n                    REQUEST_START,\n                    REQUEST_END,\n                    ERROR\n                ],\n\n                options: {\n                    name: \"Captcha\",\n                    dataCaptchaField: \"captcha\",\n                    dataCaptchaIdField: \"captchaId\",\n                    captchaId: \"\",\n                    captcha: null,\n                    handler: null,\n                    audioHandler: null,\n                    validationHandler: null,\n                    validateOnBlur: false,\n                    resetButton: true,\n                    audioButton: true,\n                    volumeControl: true,\n                    messages: {\n                        reset: \"Reset captcha\",\n                        audio: \"Speak captcha\",\n                        imageAlt: \"Type the Captcha code from the image\",\n                        success: \"Verification successful\"\n                    }\n                },\n\n                destroy: function() {\n                    var that = this;\n\n                    that.textbox.destroy();\n\n                    if (that.resetButton) {\n                        that.resetButton.off(NS);\n                    }\n\n                    if (that.audioButton) {\n                        that.audioButton.off(NS);\n                    }\n\n                    that.element.off(NS);\n\n                    // Just in case, destroy slider.\n                    that._audioEnded();\n\n                    Widget.fn.destroy.call(that);\n                },\n\n                _wrapper: function() {\n                    var that = this,\n                        styles = Captcha.styles,\n                        wrapper = \"<div class='\" + styles.wrapper + \"'><div class='\" + styles.inputWrapper + \"'></div></div>\",\n                        imageWrapper = \"<div class='\" + styles.imageWrapper + \"'></div>\",\n                        cssText = that.element[0].style.cssText;\n\n                    that.element.css(\"width\", \"auto\");\n                    that.element.css(\"height\", \"auto\");\n                    that.textbox = that.element.kendoTextBox({ clearButton: true }).data(\"kendoTextBox\");\n                    that._inputWrapper = that.textbox.wrapper;\n                    that.wrapper = that._inputWrapper.wrap(wrapper).parent().parent();\n                    that.wrapper[0].style.cssText = cssText;\n                    that.imageWrapper = $(imageWrapper);\n                    that.wrapper.prepend(that.imageWrapper);\n                },\n\n                _captchaImage: function() {\n                    var that = this,\n                        options = that.options,\n                        messages = options.messages,\n                        styles = Captcha.styles;\n\n\n                    that.captchaImage = $(\"<div class=\\\"\" + styles.captchaImage + \"\\\">\" +\n                                            \"<img alt=\\\"\" + messages.imageAlt + \"\\\" src= \\\"\" + (options.captcha || \"\") + \"\\\"/>\" +\n                                        \"</div>\").find(\"img\");\n\n                    that.imageWrapper.append(that.captchaImage.parent());\n\n                    that._tabindex(that.captchaImage);\n\n                    that._attachImageErrorHandler();\n                },\n\n                _attachImageErrorHandler: function() {\n                    var that = this;\n\n                    that.captchaImage.off(\"error\");\n                    that.captchaImage.one(\"error\", function(ev) {\n                        that.trigger(ERROR, { type: \"image\", originalEvent: ev });\n                    });\n                },\n\n                _idInput: function() {\n                    var that = this,\n                        options = that.options,\n                        nameAttr = that._captchaIdField;\n\n                    that.idInput = $(\"<input type=\\\"hidden\\\" name=\\\"\" + nameAttr + \"\\\" value=\\\"\" + options.captchaId + \"\\\" data-\" + kendo.ns + \"stop=\\\"true\\\" />\");\n                    that._inputWrapper.after(that.idInput);\n                },\n\n                _buttons: function() {\n                    var that = this,\n                        styles = Captcha.styles;\n\n                    that.buttonsWrapper = $(\"<div class=\\\"\" + styles.buttonsWrapper + \"\\\"></div>\");\n                    that.imageWrapper.append(that.buttonsWrapper);\n\n                    if (that.options.audioButton) {\n                        that._audioButton();\n                    }\n\n                    if (that.options.resetButton) {\n                        that._resetButton();\n                    }\n                },\n\n                _resetButton: function() {\n                    var that = this,\n                        messages = that.options.messages,\n                        styles = Captcha.styles;\n\n                    that.resetButton = $(\"<button type=\\\"button\\\" title=\\\"\" + messages.reset + \"\\\" class=\\\"\" + styles.button + \" \" + styles.iconButton + \"\\\">\" +\n                                            kendo.ui.icon({ icon: styles.resetIcon, iconClass: \"k-button-icon\" }) +\n                                        \"</button>\");\n\n                    that.buttonsWrapper.append(that.resetButton);\n\n                    that.resetButton.on(CLICK + NS, that._resetHandler.bind(that, true));\n                },\n\n                _audioButton: function() {\n                    var that = this,\n                        messages = that.options.messages,\n                        styles = Captcha.styles;\n\n                    that.audioButton = $(\"<button type=\\\"button\\\" title=\\\"\" + messages.audio + \"\\\" class=\\\"\" + styles.button + \" \" + styles.iconButton + \"\\\">\" +\n                                            kendo.ui.icon({ icon: styles.audioIcon, iconClass: \"k-button-icon\" }) +\n                                        \"</button>\");\n\n                    that.buttonsWrapper.append(that.audioButton);\n\n                    that.audioButton.on(CLICK + NS, that._audioHandler.bind(that));\n                },\n\n                _resetHandler: function(focusResetButton) {\n                    var that = this,\n                        handler = that.options.handler,\n                        deferred = $.Deferred(),\n                        success = that._resetCaptcha.bind(that, deferred);\n\n                    delete that._isValid;\n                    that._toggleSuccessMessage(false);\n                    that._audioEnded();\n                    that._progress(true);\n\n                    if (!handler) {\n                        window.console.error(\"Captcha's handler option is not defined!\");\n                        deferred.reject({ msg: \"Captcha's handler option is not defined!\", error: \"handler_not_defined\" });\n                        that._progress(false);\n                        return deferred.promise();\n                    }\n\n                    that._callHandler(\"reset\", handler, success)\n                        .done(function() {\n                            if (focusResetButton) {\n                                that.resetButton.trigger(\"focus\");\n                            }\n                        })\n                        .fail(function(args) {\n                            that._progress(false);\n                            deferred.reject(args);\n                        });\n                    return deferred.promise();\n                },\n\n                _audioHandler: function() {\n                    var that = this,\n                        handler = that.options.audioHandler,\n                        deferred = $.Deferred(),\n                        success = that._playAudio.bind(that, deferred),\n                        data = {};\n\n                    data[that._captchaIdField] = that.idInput.val();\n\n                    if (!handler) {\n                        window.console.error(\"Captcha's audioHandler option is not defined!\");\n                        deferred.reject({ msg: \"Captcha's audioHandler option is not defined!\", error: \"handler_not_defined\" });\n                        return deferred.promise();\n                    }\n\n                    that._callHandler(\"audio\", handler, success, data).fail(deferred.reject);\n                    return deferred.promise();\n                },\n\n                _validationHandler: function() {\n                    var that = this,\n                        handler = that.options.validationHandler,\n                        deferred = $.Deferred(),\n                        success = that._validate.bind(that, deferred),\n                        data = {};\n\n                    delete that._isValid;\n\n                    data[that._captchaIdField] = that.idInput.val();\n                    data[that._valueField] = that.element.val();\n\n                    if (!handler) {\n                        window.console.error(\"Captcha's validationHandler option is not defined!\");\n                        deferred.reject({ msg: \"Captcha's validationHandler option is not defined!\", error: \"handler_not_defined\" });\n                        return deferred.promise();\n                    }\n\n                    that._callHandler(\"validation\", handler, success, data).fail(deferred.reject);\n                    return deferred.promise();\n                },\n\n                _callHandler: function(type, handler, success, data) {\n                    var that = this,\n                        error = that._error.bind(that, type),\n                        requestEnd = that._requestEnd.bind(that, type),\n                        args;\n\n                    if (isFunction(handler)) {\n                        handler({ success: success, data: data });\n                        return $.Deferred().promise();\n                    } else {\n                        args = typeof handler === STRING ? { url: handler, cache: false } : extend({}, handler);\n                        args.success = success;\n                        args.data = extend({}, data, args.data);\n\n                        if (!that.trigger(REQUEST_START, { type: type, data: data })) {\n                            return ajax(args).done(requestEnd).fail(error);\n                        }\n                    }\n                },\n\n                _requestEnd: function(type, data) {\n                    var that = this;\n                    that.trigger(REQUEST_END, { type: type, data: data });\n                },\n\n                _error: function(type, jqXHR, textStatus, errorThrown) {\n                    var that = this;\n                    that.trigger(ERROR, { type: type, jqXHR: jqXHR, textStatus: textStatus, errorThrown: errorThrown });\n                },\n\n                _resetCaptcha: function(deferred, data) {\n                    var that = this,\n                        id = data[that._captchaIdField],\n                        captcha = data[that._captchaField];\n\n                    that.idInput.val(id);\n                    that.captchaImage.attr(\"src\", captcha || \"\");\n\n                    that.captchaImage.off(\"load\");\n                    that.captchaImage.one(\"load\", function() {\n                        that._progress(false);\n                    });\n\n                    that._attachImageErrorHandler();\n\n                    deferred.resolve(data);\n                },\n\n                _playAudio: function(deferred, data) {\n                    var that = this;\n\n                    if (that._canPlayWav()) {\n                        if (that.audioElement) {\n                            return;\n                        }\n\n                        that.audioElement = new Audio(data);\n                        that.audioElement.volume = that._audioVolume || that.audioElement.volume;\n\n                        if (that.options.volumeControl) {\n                            $(that.audioElement).on(\"loadeddata\" + NS, function() {\n                                that._showVolumeControl(that.audioElement.volume);\n                            });\n                        }\n\n                        $(that.audioElement).on(\"ended\" + NS + \" error\" + NS, that._audioEnded.bind(that, deferred));\n\n                        that.audioElement.play();\n                    }\n                },\n\n                _showVolumeControl: function(volume) {\n                    var that = this,\n                        styles = Captcha.styles,\n                        volumeControlWrapper = $(\"<div class=\\\"\" + styles.volumeControlWrapper + \"\\\"></div>\");\n\n                    if (that.volumeControl) {\n                        return;\n                    }\n\n                    that.volumeControlElm = $(\"<input />\");\n                    that.volumeControlWrapper = volumeControlWrapper.append(that.volumeControlElm);\n                    that.imageWrapper.append(volumeControlWrapper);\n                    that.volumeControlWrapper.css(that._isRtl() ? \"right\" : \"left\", that.wrapper.width());\n\n                    that.volumeControl = that.volumeControlElm.kendoSlider({\n                        min: 0,\n                        max: 1,\n                        smallStep: 0.1,\n                        largeStep: 0.5,\n                        orientation: \"vertical\",\n                        showButtons: false,\n                        tickPlacement: \"none\",\n                        value: volume,\n                        tooltip: {\n                            enabled: false\n                        },\n                        change: function(ev) {\n                            that._audioVolume = that.audioElement.volume = ev.value;\n                        }\n                    }).data(\"kendoSlider\");\n                },\n\n                _audioEnded: function(deferred) {\n                    var that = this;\n\n                    if ($(document.activeElement).is(\"a.k-draghandle\")) {\n                        that.audioButton.trigger(\"focus\");\n                    }\n\n                    if (that.volumeControl) {\n                        that.volumeControl.destroy();\n                        that.volumeControl.wrapper.remove();\n                        delete that.volumeControl;\n                        that.volumeControlElm.remove();\n                        that.volumeControlWrapper.remove();\n                        delete that.volumeControlElm;\n                        delete that.volumeControlWrapper;\n                    }\n\n                    if (that.audioElement) {\n                        that.audioElement.pause();\n                    }\n\n                    $(that.audioElement).off(NS);\n                    $(that.audioElement).remove();\n                    delete that.audioElement;\n\n                    if (deferred && deferred.resolve) {\n                        deferred.resolve();\n                    }\n                },\n\n                _canPlayWav: function() {\n                    var that = this,\n                        audio;\n\n                    if (that._canPlayAudio) {\n                        return that._canPlayAudio;\n                    }\n\n                    audio = new Audio();\n                    that._canPlayAudio = audio.canPlayType(\"audio/wav\").replace(/no/gi, \"\") !== \"\";\n\n                    return that._canPlayAudio;\n                },\n\n                _validate: function(deferred, data) {\n                    var that = this;\n                    that._isValid = data;\n                    that._toggleSuccessMessage(that._isValid);\n                    deferred.resolve(data);\n                },\n\n                _toggleSuccessMessage: function(toggle) {\n                    var that = this,\n                        idAttr = (that.element.attr(\"id\") || that.element.attr(\"name\")) + \"-success\",\n                        messages = that.options.messages;\n\n                    $(that.successMessage).remove();\n                    that.element.removeAttr(\"aria-describedby\");\n\n                    if (toggle) {\n                        that.successMessage = $(\"<span id=\\\"\" + idAttr + \"\\\" class=\\\"\" + Captcha.styles.success + \"\\\">\" + kendo.htmlEncode(messages.success) + \"</span>\");\n                        that._inputWrapper.after(that.successMessage);\n                        that.element.attr(\"aria-describedby\", idAttr);\n                    }\n                },\n\n                _toggleButtons: function(toggle) {\n                    var that = this;\n\n                    if (that.resetButton) {\n                        that.resetButton.prop(\"disabled\", !toggle);\n                    }\n\n                    if (that.audioButton) {\n                        that.audioButton.prop(\"disabled\", !toggle);\n                    }\n                },\n\n                _progress: function(toggle) {\n                    var that = this;\n\n                    that.wrapper.toggleClass(Captcha.styles.loading, toggle);\n                    that._inputWrapper.toggleClass(Captcha.styles.disabled, toggle);\n                    that._toggleButtons(!toggle);\n                    that._toggleSkeleton(toggle);\n                },\n\n                _toggleSkeleton: function(toggle) {\n                    var that = this;\n\n                    if (that.skeleton) {\n                        that.skeleton.remove();\n                    }\n\n                    if (toggle) {\n                        that.skeleton = $(\"<span class='k-skeleton k-skeleton-rect k-skeleton-pulse'></span>\").css({\n                            width: \"100%\",\n                            height: \"100%\"\n                        });\n                        that.captchaImage.before(that.skeleton);\n                    }\n                },\n\n                _isRtl: function() {\n                    return kendo.support.isRtl(this.wrapper);\n                },\n\n                value: function() {\n                    return this.element.val();\n                },\n\n                getCaptchaId: function() {\n                    return this.idInput.val();\n                },\n\n                toJSON: function() {\n                    var that = this,\n                        obj = {};\n\n                    obj[that._valueField] = that.value();\n                    obj[that._captchaIdField] = that.getCaptchaId();\n\n                    return obj;\n                },\n\n                validate: function() {\n                    return this._validationHandler();\n                },\n\n                isValid: function() {\n                    return this._isValid;\n                },\n\n                enable: function(toggle) {\n                    var that = this;\n\n                    toggle = toggle !== false;\n\n                    that._toggleButtons(toggle);\n\n                    that.textbox.enable(toggle);\n\n                    if (toggle) {\n                        that.captchaImage.removeAttr(\"tabIndex\");\n                        that._tabindex(that.captchaImage);\n                    } else {\n                        that.captchaImage.attr(\"tabIndex\", \"-1\");\n                    }\n\n                    that.captchaImage.toggleClass(Captcha.styles.disabled, !toggle);\n                    that.wrapper.toggleClass(Captcha.styles.disabled, !toggle);\n                },\n\n                readonly: function(toggle) {\n                    var that = this;\n\n                    toggle = toggle !== false;\n\n                    if (that.resetButton) {\n                        that.resetButton.prop(\"disabled\", toggle);\n                    }\n\n                    that.textbox.readonly(toggle);\n                },\n\n                speak: function() {\n                    return this._audioHandler();\n                },\n\n                reset: function() {\n                    return this._resetHandler();\n                }\n            });\n\n            kendo.ui.plugin(Captcha);\n\n            extend(true, Captcha, { styles: CaptchaStyles });\n\n        })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}