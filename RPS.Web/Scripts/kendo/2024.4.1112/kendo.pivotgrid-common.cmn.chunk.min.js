/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("kendo.data-query.cmn.chunk.js")):"function"==typeof define&&define.amd?define(["exports","kendo.data-query.cmn.chunk"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).kendo=e.kendo||{},e.kendo._globals=e.kendo._globals||{},e.kendo._globals.PivotgridCommonCmnChunk={}),e.kendo._globals.DataQueryCmnChunk)}(this,(function(e,n){var r={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}")',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"'},t="doesnotcontain",a="in",o="neq";function i(e){var n="",i=String(e.value),u=e.field,c=e.operator;return c===a?(n+="{",n+=i,n+="}"):(n+=c===o||c===t?"-":"",n+="Filter(",n+=u+".MEMBERS",n+=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.forEach((function(n,r){e=e.replace(new RegExp("\\{"+r+"\\}","g"),n)})),e}(r[c],u,i),n+=")"),n}function u(e,n,r){var t,a="",o=function(e){for(var n,r=[],t=[],a=[],o=0;o<e.length;o++){var i=e[o],u=i.name;if(n=!1,u.length>1)t.push(i);else{for(var c=m(u[0]),l=0,s=a.length;l<s;l++)if(0===a[l].name[0].indexOf(c)){n=!0;break}n||a.push(i),i.expand&&r.push(i)}}return r=r.concat(t),{expanded:r,root:a}}(e=e||[]),i=o.expanded,u=function(e){var n=[];return e.forEach((function(e){var r=e.name[0],t=m(r);n.some((function(e){return 0===e.indexOf(t)}))||n.push(r)})),n}(o.root),c=[],p=i.length,d=0,h=[];if(u.length>1||n.length>1){for(c.push(s(u,n));d<p;d++)h=l(t=f(i[d].name,r),u),c.push(s(h,n));a+=c.join(",")}else{for(;d<p;d++)t=f(i[d].name,r),h.push(t[0]);a+=u.concat(h).join(",")}return a}function c(e){for(var n,r=e.length,t=[],a=0;a<r;a++)n=e[a],t.push(void 0!==n.name?n.name:n);return t}function l(e,n){var r=n.length;n=n.slice(0);for(var t=0;t<e.length;t++)for(var a=e[t],o=0;o<r;o++){var i=m(n[o]);if(-1!==a.indexOf(i)){n[o]=a;break}}return n}function s(e,n){var r=e.slice(0);return n.length>1&&r.push("{"+c(n).join(",")+"}"),p(r)}function f(e,n){var r=e.length-1,t=e[r],a=function(e,n){for(var r=0,t=e.length;r<t;r++)if(0===n.indexOf(e[r].field))return e[r];return null}(n,t);return a&&a.dir?t="ORDER("+t+".Children,"+a.field+".CurrentMember.MEMBER_CAPTION,"+a.dir+")":t+=".Children",e[r]=t,e}function m(e){var n=e.split(".");return n.length>2?n[0]+"."+n[1]:e}function p(e){var n,r="CROSSJOIN({";return e.length>2?(n=e.pop(),r+=p(e)):(r+=e.shift(),n=e.pop()),r+="},{",r+=n,r+="})"}function d(e){var n='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>',r=e.columnAxes,t=void 0===r?[]:r,a=e.rowAxes,o=void 0===a?[]:a,l=e.measureAxes,s=void 0===l?[]:l,f=e.sort,m=void 0===f?[]:f,p=e.filter,d=void 0===p?[]:p,h="rows"===e.measuresAxis;return n+="SELECT NON EMPTY {",!t.length&&o.length&&(!s.length||s.length&&h)&&(t=o,o=[],h=!1),t.length||o.length||(h=!1),t.length?n+=u(t,h?[]:s,m):s.length&&!h&&(n+=c(s).join(",")),n+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(o.length||h&&s.length>1)&&(n+=", NON EMPTY {",o.length?n+=u(o,h?s:[],m):n+=c(s).join(","),n+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),d.length?(n+=" FROM ",n+="(",n+=function(e,n){for(var r="",t="",a=e.length-1;a>=0;a--)t="SELECT (",t+=i(e[a]),t+=") ON 0",r=a===e.length-1?t+=" FROM ["+n+"]":t+" FROM ( "+r+" )";return r}(d,e.connection.cube),n+=")"):n+=" FROM ["+e.connection.cube+"]",1===s.length&&t.length&&(n+=" WHERE ("+c(s).join(",")+")"),(n+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>").replace(/&/g,"&amp;")}var h=function(e,n){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])},h(e,n)};function v(e,n){function r(){this.constructor=e}h(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var A=function(){return A=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},A.apply(this,arguments)};function E(e,n,r,t){return new(r||(r=Promise))((function(a,o){function i(e){try{c(t.next(e))}catch(e){o(e)}}function u(e){try{c(t.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,u)}c((t=t.apply(e,n||[])).next())}))}function y(e,n){var r,t,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(a=2&o[0]?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;switch(t=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,t=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=n.call(e,i)}catch(e){o=[6,e],t=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function g(e){var n=(new DOMParser).parseFromString(e,"text/xml"),r=Array.from(n.querySelectorAll("Axis")),t=Array.from(n.querySelectorAll("CellData > Cell")).map((function(e){return{fmtValue:I(e,"FmtValue"),ordinal:parseInt(e.getAttribute("CellOrdinal"),10),value:I(e,"Value")}})),a={tuples:[]},o={tuples:[]},i=[];r.forEach((function(e){if("SlicerAxis"!==e.getAttribute("name")){var n=0===a.tuples.length?a.tuples:o.tuples;Array.prototype.push.apply(n,function(e){var n=Array.from(e.querySelectorAll("Tuple"));return n.map((function(e){return{members:Array.from(e.querySelectorAll("Member")).map((function(e){var n=parseInt(I(e,"LNum")||"0",10),r=parseInt(I(e,"CHILDREN_CARDINALITY")||"0",10)>0;return{caption:I(e,"Caption"),children:[],hasChildren:r,hierarchy:e.getAttribute("Hierarchy"),levelName:I(e,"LName"),levelNum:n,name:I(e,"UName"),parentName:I(e,"PARENT_UNIQUE_NAME")}}))}}))}(e))}}));var u=new Array(o.tuples.length*a.tuples.length).fill(null);t.forEach((function(e){u[e.ordinal]=e}));var c=0;return o.tuples.forEach((function(e){a.tuples.forEach((function(n){i.push({columnTuple:n,data:u[c],rowTuple:e}),c++}))})),{columns:a,data:i,rows:o}}function I(e,n){var r=e.querySelector(n);return r?r.textContent:""}var N={schemaCatalogs:"DBSCHEMA_CATALOGS",schemaCubes:"MDSCHEMA_CUBES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaKPIs:"MDSCHEMA_KPIS",schemaLevels:"MDSCHEMA_LEVELS",schemaMeasures:"MDSCHEMA_MEASURES",schemaMembers:"MDSCHEMA_MEMBERS"};function O(e){var n={},r='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return r+="<RequestType>"+(N[e.command]||e.command)+"</RequestType>",r+="<Restrictions>"+_("RestrictionList",e.restrictions,!0)+"</Restrictions>",e.connection&&e.connection.catalog&&(n.Catalog=e.connection.catalog),r+="<Properties>"+_("PropertyList",n,!1)+"</Properties>",r+="</Discover></Body></Envelope>"}function _(e,n,r){var t="";if(n){t+="<"+e+">";var a=void 0;for(var o in n)n[o]&&(a=n[o],r&&(o=o.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),t+="<"+o+">"+a+"</"+o+">");t+="</"+e+">"}else t+="<"+e+"/>";return t}var x=void 0,R={schemaCatalogs:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"CATALOG_NAME"),description:I(e,"DESCRIPTION")}}))},schemaCubes:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"CUBE_NAME"),caption:I(e,"CUBE_CAPTION"),description:I(e,"DESCRIPTION"),type:I(e,"CUBE_TYPE")}}))},schemaDimensions:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{caption:I(e,"DIMENSION_CAPTION"),defaultHierarchy:I(e,"DEFAULT_HIERARCHY"),description:I(e,"DESCRIPTION"),name:I(e,"DIMENSION_NAME"),type:parseInt(I(e,"DIMENSION_TYPE"),10),uniqueName:I(e,"DIMENSION_UNIQUE_NAME")}}))},schemaHierarchies:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"HIERARCHY_NAME"),caption:I(e,"HIERARCHY_CAPTION"),description:I(e,"DESCRIPTION"),uniqueName:I(e,"HIERARCHY_UNIQUE_NAME"),dimensionUniqueName:I(e,"DIMENSION_UNIQUE_NAME"),displayFolder:I(e,"HIERARCHY_DISPLAY_FOLDER"),origin:I(e,"HIERARCHY_ORIGIN"),defaultMember:I(e,"DEFAULT_MEMBER")}}))},schemaKPIs:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"KPI_NAME"),uniqueName:I(e,"KPI_NAME"),caption:I(e,"KPI_CAPTION"),value:I(e,"KPI_VALUE"),goal:I(e,"KPI_GOAL"),status:I(e,"KPI_STATUS"),trend:I(e,"KPI_TREND"),statusGraphic:I(e,"KPI_STATUS_GRAPHIC"),trendGraphic:I(e,"KPI_TREND_GRAPHIC"),description:I(e,"KPI_DESCRIPTION"),groupName:I(e,"MEASUREGROUP_NAME"),type:"kpi"}}))},schemaLevels:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"LEVEL_NAME"),caption:I(e,"LEVEL_CAPTION"),description:I(e,"DESCRIPTION"),uniqueName:I(e,"LEVEL_UNIQUE_NAME"),dimensionUniqueName:I(e,"DIMENSION_UNIQUE_NAME"),displayFolder:I(e,"LEVEL_DISPLAY_FOLDER"),orderingProperty:I(e,"LEVEL_ORDERING_PROPERTY"),origin:I(e,"LEVEL_ORIGIN"),hierarchyUniqueName:I(e,"HIERARCHY_UNIQUE_NAME")}}))},schemaMeasures:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"MEASURE_NAME"),caption:I(e,"MEASURE_CAPTION"),uniqueName:I(e,"MEASURE_UNIQUE_NAME"),description:I(e,"DESCRIPTION"),aggregator:I(e,"MEASURE_AGGREGATOR"),groupName:I(e,"MEASUREGROUP_NAME"),displayFolder:I(e,"MEASURE_DISPLAY_FOLDER"),defaultFormat:I(e,"DEFAULT_FORMAT_STRING")}}))},schemaMembers:function(e){var n=(new DOMParser).parseFromString(e,"text/xml");return Array.from(n.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:I(e,"MEMBER_NAME"),caption:I(e,"MEMBER_CAPTION"),uniqueName:I(e,"MEMBER_UNIQUE_NAME"),dimensionUniqueName:I(e,"DIMENSION_UNIQUE_NAME"),hierarchyUniqueName:I(e,"HIERARCHY_UNIQUE_NAME"),levelUniqueName:I(e,"LEVEL_UNIQUE_NAME"),childrenCardinality:I(e,"CHILDREN_CARDINALITY")}}))}},S=function(e){return"[Measures]"===e.hierarchy},T=function(e,n){return void 0===n&&(n=new Set),(e.children||[]).forEach((function(e){n.add(e.levelName),T(e,n)})),n.size},M=function(e){var n=0;return(e.children||[]).forEach((function(e){n+=M(e)||1})),n},C=function(e,n){return(n&&n.hierarchy===e.hierarchy?(n.normalizedPath||[]).slice(0,-1).concat([e.name||null]):(n&&n.normalizedPath?n.normalizedPath:[]).concat([e.name])).filter(Boolean)},b=function(e,n,r,t,a,o,i,u){void 0===n&&(n=-1),void 0===r&&(r=0),void 0===t&&(t=void 0),void 0===a&&(a=void 0),void 0===o&&(o=void 0),void 0===i&&(i=void 0),void 0===u&&(u=void 0);var c=T(e),l=M(e),s=t||c,f=a||l,m=o?o.slice():[],p=i?i.slice():new Array(f),d=m.findIndex((function(n){return n&&n.name===e.levelName&&n.level===e.levelNum})),h=m[d],v={name:e.levelName,level:e.levelNum,index:n,cells:new Array(f).fill(null)},A=-1!==n&&-1!==r,E={caption:e.caption,name:e.name,levelName:e.levelName,levelNum:e.levelNum,hasChildren:e.hasChildren,parentName:e.parentName,hierarchy:e.hierarchy,total:void 0!==e.total&&e.total||u&&u.children.length<=1&&u.total,parent:u,rowIndex:n,colIndex:r,depth:1,breadth:1,path:e.path||[],normalizedPath:e.normalizedPath||[],children:e.children.filter((function(n){return n.hierarchy===e.hierarchy}))};if(A)if(h)h.cells[r]=E,h.index>=n&&(n=h.index);else if(m[n]&&m[n].cells.length){for(var y=n;y<m.length;y++){m[y].index++}m.splice(n,0,v),m[n].cells[r]=E}else m[n]=v,m[n].cells[r]=E;var g=0;return e.children&&e.children.length?e.children.forEach((function(e){var t=b(e,n+1,r+g,s,f,m,p,E),a=t[0],o=t[1],i=t[3];g+=i||1,m=a.slice(),p=o.slice()})):e.normalizedPath&&(p[r]={total:E.total,path:e.normalizedPath}),E.depth=c,E.breadth=l,[m,p,c,l]},w=function(e,n,r){var t;void 0===n&&(n=null),void 0===r&&(r=0);for(var a=A({},e,{total:!0,hasChildren:!1,children:[]}),o=0;o<e.children.length;o++){var i=w(e.children[o],e,o);t=t||i.hierarchy,i.hierarchy===t||!n||n.children.some((function(e){return e.total&&e.name===a.name}))||e.total||(a.children.push(i),e.children.splice(o,1),o--)}if(e.children.filter((function(e){return!e.total})).length>=1&&n&&!n.children.some((function(e){return e.total&&e.name===a.name}))&&!e.total){var u=e.children[0].hierarchy;e.hierarchy===u&&n.children.splice(r+1,0,a)}return e};function P(e){return JSON.parse(JSON.stringify(e))}var D=function(e,n,r){return{hierarchyUniqueName:e,uniqueName:n,caption:n,measure:n,name:n,type:r,kpi:!0}};function k(e){var n=e.name;return[D(n,e.value,"value"),D(n,e.goal,"goal"),D(n,e.status,"status"),D(n,e.trend,"trend")]}var U=function(e,n){return String(e.name)===String([n.defaultHierarchy?n.defaultHierarchy:n.uniqueName])},L=function(e,n){return String(e.name)===String(n.name)},F=function(e,n){for(var r=function(r){var t=e[r],a=t.name.findIndex((function(e){return U({name:[e]},n)||String(e).startsWith(n.uniqueName)}));if(-1!==a)if(a===t.name.length-1||1===t.name.length)e.splice(r,1);else{t.name.splice(a,1);var o=e.findIndex((function(e){return e!==t&&String(e.name)===String(t.name)}));-1!==o&&(e[o]=A({},e[o],t,e[o].expand||t.expand?{expand:!0}:{}),e.splice(r,1))}},t=e.length-1;t>=0;t--)r(t)},H=function(e,n,r){var t=-1;if(r.dropTarget&&r.dropDirection){var a=r.dropDirection?"before"===r.dropDirection?0:1:0;t=e.findIndex((function(e){return L(e,r.dropTarget)}))+a}-1!==t?(e.forEach((function(e){var r;e.expand&&e.name.length>1&&e.name.length>t&&(r=e.name).splice.apply(r,[t,0].concat(n.name))})),e.splice(t,0,n)):e.push(n)},q=function(e){var n=e.length&&e[0],r=n&&n.members[n.members.length-1];if(r&&S(r)){for(var t=[],a=new Set(e.map((function(e){return e.members[e.members.length-1].caption}))).size,o=0;o<e.length;o+=a)t.push(e.slice(o,o+a));var i=[];return t.forEach((function(e){i.push.apply(i,e.reverse())})),i}return e};var V;!function(e){e.toggle="HEADERS_ACTION_TOGGLE",e.expand="HEADERS_ACTION_EXPAND",e.collapse="HEADERS_ACTION_COLLAPSE"}(V||(V={}));var G,j=function(e,n,r){var t=new Set;return e.children.forEach((function(e){var a=n(e);r&&t.add(String(e.path)),j(e,n,r||a).map((function(e){t.add(e)}))})),Array.from(t.values())},B=function(e,n){switch(n.type){case V.toggle:var r=e.find((function(e){return String(e.name)===String(n.payload)}));return B(e,A({},n,{type:r&&r.expand?V.collapse:V.expand}));case V.expand:var t=e.find((function(e){return String(e.name)===String(n.payload)}));if(t&&!0===t.expand)return e;if(!t||!1!==t.expand&&void 0!==t.expand){var a=e.slice();return a.push({name:n.payload,expand:!0}),a}return e.map((function(e){return e===t?A({},t,{expand:!0}):e}));case V.collapse:var o=j(n.tree,(function(e){return!e.total&&String(e.path)===String(n.payload)}));return e.slice().filter((function(e){return!o.some((function(n){return n===String(e.name)}))})).map((function(e){return A({},e,{expand:Boolean(e.expand)})})).map((function(e){return String(e.name)===String(n.payload)?n.payload.length>1?void 0:{name:n.payload,expand:!1}:e})).filter(Boolean);default:return e}};e.I=void 0,(G=e.I||(e.I={})).toggleSelection="PIVOT_CONFIGURATOR_ACTION_TOGGLE_SELECTION",G.addColumnAxis="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXIS",G.addColumnAxes="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXES",G.removeColumnAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXIS",G.removeColumnAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXES",G.addRowAxis="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXIS",G.addRowAxes="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXES",G.removeRowAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXIS",G.removeRowAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXES",G.addMeasureAxis="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXIS",G.addMeasureAxes="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXES",G.removeMeasureAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXIS",G.removeMeasureAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXES",G.remove="PIVOT_CONFIGURATOR_ACTION_REMOVE",G.setSort="PIVOT_CONFIGURATOR_ACTION_SET_SORT",G.setFilter="PIVOT_CONFIGURATOR_ACTION_SET_FILTER",G.addFilter="PIVOT_CONFIGURATOR_ACTION_ADD_FILTER",G.changeFilter="PIVOT_CONFIGURATOR_ACTION_CHANGE_FILTER",G.removeFilter="PIVOT_CONFIGURATOR_ACTION_REMOVE_FILTER",G.setDragItem="PIVOT_CONFIGURATOR_ACTION_SET_DRAGITEM",G.drop="PIVOT_CONFIGURATOR_ACTION_DROP",G.setDropZone="PIVOT_CONFIGURATOR_ACTION_SET_DROP_ZONE",G.setDropTarget="PIVOT_CONFIGURATOR_ACTION_SET_DROP_TARGET",G.setDropDirection="PIVOT_CONFIGURATOR_ACTION_SET_DROP_DIRECTION";var Y=function(n,r){var t,a,o,i,u,c,l,s,f;switch(r.type){case e.I.toggleSelection:if(!Array.isArray(r.payload)){var m=r.payload;if(2===m.type||"aggregator"in m)return n.measureAxes.some((function(e){return U(e,m)}))?Y(n,A({},r,{type:e.I.removeMeasureAxis})):Y(n,A({},r,{type:e.I.addMeasureAxis}));if("kpi"===m.type){var p=k(m);return p.every((function(e){return n.measureAxes.some((function(n){return U(n,e)}))}))?Y(n,A({},r,{type:e.I.removeMeasureAxes,payload:p})):Y(n,A({},r,{type:e.I.addMeasureAxes,payload:p.filter((function(e){return!n.measureAxes.some((function(n){return U(n,e)}))}))}))}return r.payload.kpi?n.measureAxes.some((function(e){return U(e,m)}))?Y(n,A({},r,{type:e.I.removeMeasureAxis})):Y(n,A({},r,{type:e.I.addMeasureAxis})):n.columnAxes.some((function(e){return U(e,m)}))?Y(n,A({},r,{type:e.I.removeColumnAxis})):n.rowAxes.some((function(e){return U(e,m)}))?Y(n,A({},r,{type:e.I.removeRowAxis})):!n.columnAxes||!n.columnAxes.length||n.rowAxes&&n.rowAxes.length?Y(n,A({},r,{type:e.I.addColumnAxis})):Y(n,A({},r,{type:e.I.addRowAxis}))}break;case e.I.addColumnAxis:a=(n.columnAxes||[]).concat([{name:[r.payload.defaultHierarchy||r.payload.uniqueName]}]);break;case e.I.addColumnAxes:break;case e.I.removeColumnAxis:a=(n.columnAxes||[]).filter((function(e){return!U(e,r.payload)})).slice(),F(a,r.payload);break;case e.I.removeColumnAxes:break;case e.I.addRowAxis:t=(n.rowAxes||[]).concat([{name:[r.payload.defaultHierarchy||r.payload.uniqueName]}]);break;case e.I.addRowAxes:break;case e.I.removeRowAxis:t=(n.rowAxes||[]).filter((function(e){return!U(e,r.payload)})).slice(),F(t,r.payload);break;case e.I.removeRowAxes:break;case e.I.addMeasureAxis:o=(n.measureAxes||[]).concat([{name:[r.payload.defaultHierarchy||r.payload.uniqueName]}]);break;case e.I.removeMeasureAxis:o=(n.measureAxes||[]).filter((function(e){return!U(e,r.payload)})).slice();break;case e.I.addMeasureAxes:o=(n.measureAxes||[]).concat((r.payload||[]).map((function(e){return{name:[e.defaultHierarchy||e.uniqueName]}})));break;case e.I.removeMeasureAxes:o=(n.measureAxes||[]).filter((function(e){return!r.payload.some((function(n){return U(e,n)}))})).slice();break;case e.I.remove:n.columnAxes.some((function(e){return L(e,r.payload)}))&&(a=n.columnAxes.filter((function(e){return!L(e,r.payload)})).slice(),F(a,{uniqueName:r.payload.name})),n.rowAxes.some((function(e){return L(e,r.payload)}))&&(t=n.rowAxes.filter((function(e){return!L(e,r.payload)})).slice(),F(t,{uniqueName:r.payload.name})),n.measureAxes.some((function(e){return L(e,r.payload)}))&&(o=n.measureAxes.filter((function(e){return!L(e,r.payload)})).slice());break;case e.I.setDragItem:c=r.payload;break;case e.I.setDropZone:l=r.payload;break;case e.I.setDropTarget:f=r.payload;break;case e.I.setDropDirection:s=r.payload;break;case e.I.drop:if(n.dragItem&&n.dropZone){var d=n.columnAxes.find((function(e){return L(e,r.payload)})),h=n.rowAxes.find((function(e){return L(e,r.payload)})),v=n.measureAxes.find((function(e){return L(e,r.payload)})),E=void 0;switch(d&&(E=d,a=n.columnAxes.filter((function(e){return!L(e,r.payload)})).slice(),F(a,{uniqueName:r.payload.name})),h&&(E=h,t=n.rowAxes.filter((function(e){return!L(e,r.payload)})).slice(),F(t,{uniqueName:r.payload.name})),v&&(E=v,o=n.measureAxes.filter((function(e){return!L(e,r.payload)})).slice()),n.dropZone){case"columnAxes":a=a||n.columnAxes.slice(),H(a,E,n);break;case"rowAxes":t=t||n.rowAxes.slice(),H(t,E,n);break;case"measureAxes":o=o||n.measureAxes.slice(),H(o,E,n)}}c=null,l=null,f=null;break;case e.I.setSort:i=r.payload;break;case e.I.setFilter:u=Array.isArray(r.payload)?r.payload:[r.payload];break;case e.I.addFilter:u=(n.filter||[]).slice(),Array.isArray(r.payload)?u.push.apply(u,r.payload):u.push(r.payload);break;case e.I.changeFilter:u=Array.isArray(r.payload)?(n.filter||[]).map((function(e){return r.payload.some((function(n){return n.field===e.field}))?r.payload.find((function(n){return n.field===e.field})):e})):(n.filter||[]).map((function(e){return e.field===r.payload.field?r.payload:e}));break;case e.I.removeFilter:u=(n.filter||[]).slice(),u=Array.isArray(r.payload)?u.filter((function(e){return!r.payload.some((function(n){return n.field===e.field&&n.operator===e.operator}))})):u.filter((function(e){return!(e.field===r.payload.field&&e.operator===r.payload.operator)}))}return{dragItem:c,dropTarget:f,dropDirection:s,dropZone:l,columnAxes:a,rowAxes:t,measureAxes:o,filter:u,sort:i}},K={init:function(e){"min"in e==!1&&(e.min=Number.POSITIVE_INFINITY)},merge:function(e,n){n.min=Math.min(e.min,n.min)},accumulate:function(e,n){e.min=Math.min(n,e.min)},result:function(e){return Number.isFinite(e.min)?e.min:NaN},format:function(e){return e.toFixed(2)}},z={init:function(e){"max"in e==!1&&(e.max=Number.NEGATIVE_INFINITY)},merge:function(e,n){n.max=Math.max(e.max,n.max)},accumulate:function(e,n){e.max=Math.max(n,e.max)},result:function(e){return Number.isFinite(e.max)?e.max:NaN},format:function(e){return e.toFixed(2)}};function Q(e,n){"filters"in e?e.filters.map((function(e){return Q(e,n)})):n(e)}var W=function(e,n){(Array.isArray(e)?e:e.filters).forEach((function(e){return Q(e,n)}))},X=function(e,n,r){var t=e.get(n);return t||(t=r||new Map,e.set(n,t)),t},Z=function(e){var n=e.indexOf("&");return-1!==n?[e.substring(0,n),e.substring(n+1)]:[e,void 0]},J=function(e,n,r){e.forEach((function(t,a){if(a!==r){t.size>0&&J(t,n,r);var o=t.get(r),i=X(e,r,{});n.forEach((function(e){e.aggregate.init(i),e.aggregate.merge(o,i)}))}}))},$=function(e,n,r,t){e.forEach((function(e,a){var o;a!==t?(o=X(n,a),$(e,o,r,t)):(o=X(n,a,{}),r.forEach((function(n){n.aggregate.init(o),n.aggregate.merge(e,o)})))}))},ee=function(e,n,r,t){e.forEach((function(a,o){if(o!==r){a.size>0&&ee(a,n,r,t);var i=X(a,r),u=X(e,r);$(i,u,n,t)}}))},ne=function(e,n,r){var t=Z(e),a=t[0],o=t[1],i=r.slice();if(a&&o){var u=n.find((function(e){return e.key===a})),c=u?u.caption:"";return i.map((function(n){return n===c?e:n}))}return i},re=function(e,n,r,t,a,o,i){for(var u=i||new Map,c=t.map((function(e){return e.caption}));n.length>1&&t.some((function(e){return e.caption===n[n.length-1].caption}));)n.pop(),c.pop();var l=e;return n.forEach((function(e,n){if(c=ne(e.name,t,c),l&&!t.some((function(n){return n.caption===e.name}))){if(!l.has(e.name)&&!u.has(c.slice(0,c.indexOf(e.name)+1).join("-")))for(var i=Array.from(l).find((function(e){return e[0]!==r})),s=i&&i[0],f=s&&Z(s)[0],m=f?n-t.findIndex((function(e){return e.key===f})):0,p=function(n){var i=[];l.forEach((function(e,n){n!==r&&i.push.apply(i,Array.from(e).filter((function(e){return e[0]!==r})))}));var s=new Map;i.forEach((function(e){if(s.has(e[0])){var n=s.get(e[0]),r=e[1],t=new Map;$(n,t,a,o),$(r,t,a,o),s.set(e[0],t)}else s.set(e[0],new Map(e[1]))}));var f=c.slice(0,c.indexOf(e.name));s.forEach((function(e,n){u.set(ne(n,t,f.concat([n])).join("-"),e)})),s.set(r,l.get(r)),l=s},d=0;d<m;d++)p();l=l.get(e.name)||u.get(c.slice(0,c.indexOf(e.name)+1).join("-"))}})),l},te=function(e,n,r,t,a,o,i){var u=[],c=t.dataField,l=t.columnsData,s=new Map;return n.forEach((function(n){var t=re(e,n.members.slice(),l,o,i,c,s),f=t&&t.get(l);r.forEach((function(e){var r=e.members.slice(),t=i[0];if("[Measures].[MeasuresLevel]"===r[r.length-1].levelName){var o=r.pop();t=i.find((function(e){return String(e.name)===o.caption}))||t}var l=f&&re(f,r,c,a,i,c),s="",m="";if(l&&t){var p=t.aggregate.result(l.get(c));s=String(p),m=t.aggregate.format(p)}u.push({columnTuple:e,data:{fmtValue:m,ordinal:0,value:s},rowTuple:n})}))})),u},ae=function(e,n,r){e.forEach((function(e,t){if(!r[t]){var a=X(n,t);ae(e,a,r)}}))},oe=function(e){var n=new Set;return e.forEach((function(e){1!==e.name.length||Z(e.name[0])[1]||n.add(e.name[0])})),n},ie=function(e,n,r,t,a){var o=oe(n),i=[],u=function(e,n){var r={members:[]};return e.forEach((function(e){var t=n.find((function(n){return n.key===e})),a=t?t.caption:"",o={caption:a,children:[],hasChildren:!0,parentName:"",levelNum:0,levelName:a,hierarchy:e,name:a};r.members.push(o)})),r}(o,e);i.push(u);for(var c=function(u){var c=n[u];if(1===c.name.length&&!c.expand&&o.has(c.name[0]))return"continue";var l,s=new Set(o.keys()),f=[],m=[],p=[];c.name.forEach((function(n,o){var u,d=Z(n),h=d[0],v=d[1];if(l=e.find((function(e){return e.key===h})),v){s.delete(h),m.push(n);var A={children:[],caption:v,hierarchy:h,levelNum:1,levelName:h+" "+h,name:n,parentName:l?l.caption:""};f.push(A)}else if(c.expand&&c.name.length-1===o){s.delete(n),m.push(n);var E=function(e,n,r){for(var t,a=[],o=function(e){return Array.from(e).filter((function(e){return!r[e[0]]}))},i=new Map(e),u=function(e){if(t=i.get(n[e]))i=new Map(t);else if(e<n.length-1&&Array.from(i).some((function(r){return Z(r[0])[0]===n[e]}))){var u=[];i.forEach((function(e,n){r[n]||u.push.apply(u,o(new Map(e)))})),i=new Map,u.forEach((function(e){if(i.has(e[0])){var n=i.get(e[0]),t=e[1],a=new Map;ae(n,a,r),ae(t,a,r),i.set(e[0],a)}else i.set(e[0],new Map(e[1]))}))}else 0!==e&&e!==n.length-1||Array.from(i).some((function(r){return Z(r[0])[0]===n[e]}))&&a.push.apply(a,o(i))},c=0;c<n.length;c++)u(c);return a}(r,m,a),y=t.find((function(e){return e.field===h}));y&&y.dir&&E.sort(function(e,n){return function(r,t){var a=e.dir,o=n.sortValue(Z(r[0])[1]),i=n.sortValue(Z(t[0])[1]);return o<i?"asc"===a?-1:1:o>i?"asc"===a?1:-1:0}}(y,l));for(var g=0;g<E.length;g++){var I=E[g][0],N={members:[]};p.push(N);var O=Z(I)[1];l=e.find((function(e){return e.key===n}));A={caption:O,children:[],levelName:n+" "+n,levelNum:1,parentName:l?l.caption:"",hierarchy:n,name:I};(u=N.members).push.apply(u,f),N.members.push(A)}}else if(c.expand){var _=(l=e.find((function(e){return e.key===n})))?l.caption:"";s.delete(n),m.push(n);A={children:[],caption:_,hierarchy:n,levelName:_,levelNum:0,name:_,parentName:""};f.push(A)}s.forEach((function(n){p.forEach((function(r){var t=(l=e.find((function(e){return e.key===n})))?l.caption:"",a={children:[],hasChildren:!0,caption:t,hierarchy:n,levelName:t,levelNum:0,name:t,parentName:""};r.members.push(a)}))})),i.push.apply(i,p)}))},l=0;l<n.length;l++)c(l);return i},ue=function(e){return{caption:String(e.name),children:[],hasChildren:!1,hierarchy:"[Measures]",levelName:"[Measures].[MeasuresLevel]",levelNum:0,name:"[Measures].["+e.name+"]",parentName:""}},ce=function(e,n){var r=ue(n),t=P(e);return t.members.push(r),t},le=function(e,n){if(n.length<2)return e;for(var r=e.slice(),t=r.length-1;t>=0;t--){var a=r[t];r[t]=ce(r[t],n[0]);for(var o=1;o<n.length;o++){var i=ce(a,n[o]);r.splice(t+o,0,i)}}return q(r)},se=function(){function e(e){this.tabIndex=0,this.root=null,this.eventHandlers={},this.update=function(){},this.tabIndex=e.tabIndex}return Object.defineProperty(e.prototype,"elements",{get:function(){return this.root?Array.from(this.root.querySelectorAll(this.selectors.join(","))):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this.root&&this.root.querySelector(this.selectors.join(","))||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=this.elements;return e[e.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.elements.find((function(e){return e.matches(":focus")}))},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var n=this;this.root=e;var r=function(r){t.mouseEvents[r]&&(t.eventHandlers[r]=function(e){var t=e.target instanceof Element&&e.target.closest(n.selectors.join(","));t&&n.mouseEvents[r].call(void 0,t,n,e)},e.addEventListener(r,t.eventHandlers[r]))},t=this;for(var a in this.mouseEvents)r(a);var o=function(r){i.keyboardEvents[r]&&(i.eventHandlers[r]=function(e){var t=e.target instanceof Element&&e.target.closest(n.selectors.join(",")),a=" "===e.key?"Space":e.key;t&&n.keyboardEvents[r][a]&&n.keyboardEvents[r][a].call(void 0,t,n,e)},e.addEventListener(r,i.eventHandlers[r]))},i=this;for(var a in this.keyboardEvents)o(a)},e.prototype.stop=function(){if(this.root)for(var e in this.eventHandlers)this.eventHandlers[e]&&this.root.removeEventListener(e,this.eventHandlers[e]);this.root=null},e.prototype.focusElement=function(e,n){e&&(n&&(n.removeAttribute("tabindex"),n.classList.remove("k-focus")),e.setAttribute("tabindex",String(this.tabIndex)),e.focus({preventScroll:!0}))},e}(),fe=".k-pivotgrid .k-pivotgrid-values",me=".k-pivotgrid .k-pivotgrid-column-headers",pe=".k-pivotgrid .k-pivotgrid-row-headers",de=".k-pivotgrid > .k-pivotgrid-empty-cell",he="table.k-pivotgrid-table",ve=".k-pivotgrid-cell",Ae=[fe,me,pe].join(","),Ee=[de,[me,he,ve].join(" "),[pe,he,ve].join(" "),[fe,he,ve].join(" ")],ye=function(e,n,r){var t=e.querySelector(".k-icon, .k-svg-icon");if(t){var a=n.elements.indexOf(e);n.update=function(){n.focusElement(n.elements[a],null),n.update=function(){}},t.click(),r.preventDefault()}},ge=function(e,n,r){e.offsetLeft<n.scrollLeft&&(r.scrollLeft=e.offsetLeft)},Ie=function(e,n,r){e.offsetLeft+e.offsetWidth>n.scrollLeft+n.offsetWidth&&e.offsetWidth<n.offsetWidth&&(r.scrollLeft=e.offsetLeft+e.offsetWidth-n.offsetWidth)},Ne=function(e,n,r){n.scrollTop&&e.offsetTop<n.scrollTop&&(r.scrollTop=e.offsetTop)},Oe=function(e,n,r){e.offsetTop+e.offsetHeight>n.scrollTop+n.offsetHeight&&e.offsetHeight<n.offsetHeight&&(r.scrollTop=e.offsetTop+e.offsetHeight-n.offsetHeight)},_e=function(e,n,r){var t=n.querySelector(fe),a=e&&e.closest(Ae);t&&a&&e&&r.forEach((function(n){return n(e,a,t)}))},xe=function(e){var n=Array.from(e.rows),r=Array.from(n&&n[0]&&n[0].cells||[]).map((function(e){return e.colSpan})).reduce((function(e,n){return e+n}),0),t=n.map((function(){return new Array(r)}));return n.forEach((function(e,n){var r=0;Array.from(e.cells).forEach((function(e){for(var a=0;a<e.colSpan;a++){for(var o=0;o<e.rowSpan;o++){var i=t[n+o].findIndex((function(e,n){return n>=r&&!e}));t[n+o][i]=e}r++}}))})),t},Re=function(e){for(var n=xe(e.querySelector([me,he].join(" "))),r=xe(e.querySelector([pe,he].join(" "))),t=xe(e.querySelector([fe,he].join(" "))),a=e.querySelector(de),o=new Array(r[0].length).fill(a),i=[],u=0;u<n.length;u++)i.push(o.concat(n[u]));for(u=0;u<r.length;u++)i.push(r[u].concat(t[u]));return i},Se=function(e){return e.ctrlKey||e.metaKey},Te=function(e,n,r){for(var t=Re(e),a=function(e,n){for(var r=0;r<e.length;r++)for(var t=0;t<e[r].length;t++)if(e[r][t]===n)return[r,t];return[-1,-1]}(t,n),o=[a[0]+r[0],a[1]+r[1]],i=t[o[0]]&&t[o[0]][o[1]];i&&i===n;)i=t[(o=[o[0]+r[0],o[1]+r[1]])[0]]&&t[o[0]][o[1]];return i},Me={keydown:{ArrowLeft:function(e,n,r){r.preventDefault();var t=Te(n.root,e,[0,-1]);n.focusElement(t,e),_e(t,n.root,[Ie,ge,Oe,Ne])},ArrowRight:function(e,n,r){r.preventDefault();var t=Te(n.root,e,[0,1]);n.focusElement(t,e),_e(t,n.root,[ge,Ie,Oe,Ne])},ArrowUp:function(e,n,r){r.preventDefault();var t=Te(n.root,e,[-1,0]);n.focusElement(t,e),_e(t,n.root,[Ie,ge,Oe,Ne])},ArrowDown:function(e,n,r){r.preventDefault();var t=Te(n.root,e,[1,0]);n.focusElement(t,e),_e(t,n.root,[Ie,ge,Ne,Oe])},o:function(e,n,r){if(n.root){var t=n.root.nextElementSibling;t&&t instanceof HTMLElement&&t.matches("div.k-pivotgrid-configurator-button")&&(t.click(),setTimeout((function(){if(n.root.parentNode){var e=n.root.parentNode.querySelector(".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview");e instanceof HTMLElement&&(e.setAttribute("tabindex",String(n.tabIndex)),e.focus())}}),0))}},Enter:ye,Space:ye,Home:function(e,n,r){var t=Re(n.root),a=(Se(r)?t[0]:t.find((function(n){return Boolean(n.find((function(n){return n===e})))}))||[])[0];a&&(n.focusElement(a,e),_e(a,n.root,[Ie,ge,Oe,Ne]),r.preventDefault())},End:function(e,n,r){var t=Re(n.root),a=Se(r)?t[t.length-1]:t.find((function(n){return Boolean(n.find((function(n){return n===e})))}))||[],o=a&&a[a.length-1]||null;o&&(n.focusElement(o,e),_e(o,n.root,[ge,Ie,Ne,Oe]),r.preventDefault())}}},Ce={click:function(e,n){if(e&&e instanceof HTMLElement){var r=n.elements.find((function(e){return e.hasAttribute("tabindex")}))||null;n.focusElement(e,r)}}},be=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.selectors=Ee,n.mouseEvents=Ce,n.keyboardEvents=Me,n}return v(n,e),n}(se),we=[".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview",".k-pivotgrid-configurator-content .k-chip",".k-pivotgrid-configurator-actions button"],Pe=function(e,n,r,t){r.preventDefault();var a=n.elements,o=a.indexOf(e)+t;o<0&&(o=a.length-1),n.focusElement(a[o%a.length],e)},De=function(e,n,r){r.target instanceof HTMLElement&&(r.target.querySelector(".k-icon.k-i-x-circle, .k-svg-icon.k-svg-i-x-circle")instanceof HTMLElement&&(r.preventDefault(),Pe(e,n,r,-1)))},ke={keydown:{Tab:function(e,n,r){Pe(e,n,r,r.shiftKey?-1:1)},Escape:function(e,n,r){if(r.target instanceof HTMLElement&&n.root){var t=n.root.previousElementSibling,a=n.root.nextElementSibling,o=Array.from(t instanceof HTMLElement?t.querySelectorAll("[tabindex]"):[]).find((function(e){return e.tabIndex>=0}));o instanceof HTMLElement&&(o.focus(),a instanceof HTMLElement&&a.click())}},Delete:De,Backspace:De}},Ue={click:function(e,n){if(e&&e instanceof HTMLElement){var r=n.elements.find((function(e){return e.hasAttribute("tabindex")}))||null;n.focusElement(e,r)}}},Le=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.selectors=we,n.mouseEvents=Ue,n.keyboardEvents=ke,n}return v(n,e),n}(se);e.A=N,e.B=$,e.C=g,e.D=te,e.E=oe,e.F=function(e,n){void 0===n&&(n=[]),e.filter=n},e.G=function(e,n){void 0===n&&(n=[]),e.sort=n},e.H=Le,e.P=be,e.__meta__={id:"pivotgrid-common.cmn.chunk",name:"PivotgridCommonCmnChunk",category:"web",description:"A reusable outputed chunk of code",depends:["data-query.cmn.chunk"],hidden:!0,chunk:!0},e.a=function(e){var n,r=e.dataTree,t=e.rowSettings,a=e.columnSettings,o=e.rowAxes,i=e.columnAxes,u=e.measures,c=e.sort,l=e.fields,s=((n={})[l.columnsData]=l.columnsData,n[l.dataField]=l.dataField,n),f=i.length?ie(a,i,r.get(l.columnsData),c,s):u.map((function(e){return{members:[ue(e)]}})),m=i.length>0?le(f,u):f,p=o.length?ie(t,o,r,c,s):[{members:[]}];return{columns:m,data:te(r,p,m,l,a,t,u),rows:p}},e.b={init:function(e){"count"in e==!1&&(e.sumA=0,e.count=0)},merge:function(e,n){n.sumA+=e.sumA,n.count+=e.count},accumulate:function(e,n){e.sumA+=n,e.count+=1},result:function(e){return e.sumA/e.count},format:function(e){return e.toFixed(2)}},e.c=function(e,r,t,a,o,i){var u=new Map,c=new Map,l=r.concat(t),s=new Set,f=o.dataField,m=o.columnsData,p=function(e,r,t){var a=t?Array.isArray(t)?{logic:"and",filters:t}:t:void 0,o=a?n.c(a):function(){return!0},i=e.concat(r),u=[];W(t||[],(function(e){"field"in e&&e.field&&u.push(e.field)}));var c={hasFilter:!1,predicate:o,filteringAxes:[]};if(u.some((function(e){return"function"==typeof e})))c.filteringAxes=i.slice();else if(u.length>0){var l=Array.from(new Set(u).values()),s=i.filter((function(e){return l.indexOf(e.key)>=0}));c.filteringAxes=s}return c.hasFilter=c.filteringAxes.length>0,c}(r,t,i),d=p.hasFilter,h=p.predicate,v=p.filteringAxes;return e.forEach((function(e){if(d){var n={};if(v.forEach((function(r){n[r.key]=r.displayValue(e)})),!h(n))return}var o=l.map((function(n){return n.displayValue(e)})),i="".concat.apply("",o),p=c.get(i);if(!p){var A=u,E=function(n){var r,t;A=X(A,(r=n.key,t=n.displayValue(e),r+"&"+t))};r.forEach(E),A=X(A,m),s.add(A),t.forEach(E),p={},A.set(f,p),c.set(i,p),a.forEach((function(e){e.aggregate.init(p)}))}a.forEach((function(n){n.aggregate.accumulate(p,n.value(e))}))})),s.forEach((function(e){return J(e,a,f)})),ee(u,a,m,f),u},e.d=z,e.e={init:function(e){"countA"in e==!1&&(e.countA=0)},merge:function(e,n){n.countA+=e.countA},accumulate:function(e,n){e.countA+=1},result:function(e){return e.countA},format:function(e){return e.toFixed()}},e.f=function(e,n){return E(x,void 0,void 0,(function(){var r;return y(this,(function(t){switch(t.label){case 0:return r=A({body:d(n),headers:{"Content-Type":"text/xml"},method:"POST"},e.init),[4,fetch(e.url,r)];case 1:return[4,t.sent().text()];case 2:return[2,g(t.sent())]}}))}))},e.g=function(e){return{columns:q(e.columns.tuples),data:e.data,rows:e.rows.tuples}},e.h=function(e,n){return E(x,void 0,void 0,(function(){var r,t;return y(this,(function(a){switch(a.label){case 0:return r=A({body:O(n),headers:{"Content-Type":"text/xml"},method:"POST"},e.init),[4,fetch(e.url,r)];case 1:return[4,a.sent().text()];case 2:return t=a.sent(),[2,R[n.command](t)]}}))}))},e.i=B,e.j=function(e){var n={children:[]},r={};if(e.every((function(e){return 1===e.members.length&&S(e.members[0])})))return{children:e.map((function(e){var n=e.members[0];return A({},n,{normalizedPath:[n.name],parentName:n.name,path:[n.hierarchy]})}))};for(var t=0;t<e.length;t++)for(var a=P(e[t]),o="",i=function(e){var t,i,u,c=a.members[e];if(n.children&&0===n.children.length)t=n;else if(r[o]&&!r[o+c.name]&&0===c.levelNum)t=r[o];else if(r[o+c.parentName]&&c.levelNum>0&&!r[o+c.parentName+c.name])t=r[o+c.parentName];else if(!r[o+c.parentName]&&c.levelNum>0&&!r[o+c.parentName+c.name]){var l=Object.keys(r).find((function(e){return c.parentName===r[e].name}));l&&(t=r[l])}if(t){c.path=(i=c,((u=t)&&u.hierarchy===i.hierarchy?(u.path||[]).slice(0,-1).concat([(0===i.levelNum?i.hierarchy:i.name)||null]):(u&&u.path?u.path:[]).concat([0===i.levelNum?i.hierarchy:i.name])).filter(Boolean)),c.normalizedPath=C(c,t);var s=t.children.findIndex((function(e){return e.hierarchy!==t.hierarchy}));-1!==s?t.children.splice(s,0,c):t.children.push(c)}c.parentName+=c.name,o+=c.parentName,r[o]||(r[o]=c)},u=0;u<a.members.length;u++)i(u);return P(w(n))},e.k=function(e){for(var n=b(e),r=n[0],t=n[1],a=n[2],o=n[3],i=0;i<o;i++)for(var u=null,c=0;c<a;c++)if(r[c]){var l=r[c].cells[i];!l&&u&&(u.rowSpan=(u.rowSpan||1)+1),u&&(u.colSpan=u.breadth||1),l&&(u=l)}return[r,t,a,o]},e.l=function(e){for(var n=b(e),r=n[0],t=n[1],a=n[2],o=n[3],i=0;i<o;i++)for(var u=null,c=0;c<a;c++)if(r[c]){var l=r[c].cells[i];!l&&u&&(u.rowSpan=(u.rowSpan||1)+1),u&&(u.colSpan=u.breadth),l&&(u=l)}return function(e,n,r,t){for(var a=new Array(t),o=0;o<t;o++)for(var i=0;i<r;i++)if(e[i]&&e[i].cells[o]){var u=e[i].cells[o];a[o]||(a[o]={cells:new Array(r).fill(null)}),a[o].cells[i]=A({},u,{rowSpan:u.colSpan,colSpan:u.rowSpan})}return[a,n,t,r]}(r,t,a,o)},e.m=K,e.n=function(e){for(var n,r=0;r<e.length;r++)if(2===e[r].type){n=!0;break}n&&e.splice(r+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})},e.o=le,e.p=k,e.q=function(e,n,r){var t=new Map;return $(e,t,r,n),t},e.r=L,e.s={init:function(e){"sum"in e==!1&&(e.sum=0)},merge:function(e,n){n.sum+=e.sum},accumulate:function(e,n){e.sum+=n},result:function(e){return e.sum},format:function(e){return e.toFixed(2)}},e.t=function(e,n,r,t,a){var o=Array.from(new Array(a),(function(){return{cells:Array.from(new Array(t),(function(){return null}))}})),i=function(e){return e.join("|")},u=function(e){return e.members.map((function(e){return e.name}))},c=new Map,l=new Map;return n.forEach((function(e,n){c.set(i(e.path),n)})),r.forEach((function(e,n){l.set(i(e.path),n)})),e.forEach((function(e){var n=c.get(i(u(e.columnTuple))),t=l.get(i(u(e.rowTuple)));void 0!==n&&void 0!==t&&(o[t].cells[n]||(o[t].row=r[t].path,o[t].cells[n]=e))})),o},e.u=Y,e.v=function(e){for(var n=[],r=0,t=Object.keys(e);r<t.length;r++){var a=t[r];n.push({name:JSON.parse(a),expand:e[a]})}return n},e.w=O,e.x=function(e,n){var r=Object.keys(e).map((function(e){return{caption:e,defaultHierarchy:e,description:"",name:e,uniqueName:e,hierarchyUniqueName:e,measure:!0,type:1}}));return n.length&&r.push({caption:"Measures",children:n.map((function(e){return{aggregator:"1",caption:String(e.name),defaultFormat:"",description:"",displayFolder:"",groupName:String(e.name),name:String(e.name),uniqueName:String(e.name)}})),type:2,description:"",name:"Measures",uniqueName:"[Measures]"}),r},e.y=d,e.z=ie}));
//# sourceMappingURL=kendo.pivotgrid-common.cmn.chunk.min.js.map
