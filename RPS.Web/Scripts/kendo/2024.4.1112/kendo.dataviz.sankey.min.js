/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("kendo.charts.cmn.chunk.js"),require("kendo.dataviz.core.js"),require("kendo.dataviz.themes.js")):"function"==typeof define&&define.amd?define(["exports","kendo.charts.cmn.chunk","kendo.dataviz.core","kendo.dataviz.themes"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).kendo=t.kendo||{},t.kendo._globals=t.kendo._globals||{},t.kendo._globals.DatavizSankey={}),t.kendo._globals.ChartsCmnChunk)}(this,(function(t,e){!function(){var t=window.kendo,e=t.ui.Widget,i=t.htmlEncode,n="__style",o=`${n}="display: flex; align-items: center;"`,s=t=>`<span ${n}="margin: 0 3px">${t}</span>`,a=t=>`<div ${n}="width: 15px; height: 15px; background-color: ${t}; display: inline-flex; margin-left: 3px"></div>`,l={node:function({dataItem:t,value:e}){const{color:n,label:l}=t;return`<div ${o}>\n                    ${a(n)}\n                    ${s(i(l.text))}\n                    ${s(e)}\n                </div>`},link:function({dataItem:e,value:n,rtl:l}){const{source:d,target:r}=e;return`<div ${o}>\n                    ${a(d.color)}\n                    ${s(i(d.label.text))}\n                    ${s(t.ui.icon({icon:l?"arrow-left":"arrow-right"}))}\n                    ${a(r.color)}\n                    ${s(i(r.label.text))}\n                    ${s(n)}\n                </div>`}},d=e.extend({init:function(t,i){this.options=i,e.fn.init.call(this,t),i.rtl&&this.element.addClass("k-rtl"),this.element.addClass("k-tooltip k-chart-tooltip k-chart-shared-tooltip").append('<div class="k-tooltip-content"></div>')},size:function(){return{width:this.element.outerWidth(),height:this.element.outerHeight()}},setContent:function(t){this.element.find(".k-tooltip-content").html(t),this.element.find(`[${n}]`).each(((t,e)=>{e.getAttribute(n).split(";").filter((t=>""!==t)).forEach((t=>{const i=t.split(":");e.style[i[0].trim()]=i[1].trim()})),e.removeAttribute(n)}))},setPosition:function(t,e,i){const n=this.size(),o={...e};o.left+="left"===t.horizontal?i:-1*i,"right"===t.horizontal&&(o.left-=n.width),"bottom"===t.vertical?o.top-=n.height+i:o.top+=i,this.element.css(o)},show:function(){this.element.show()},hide:function(){this.element.hide()},destroy:function(){this.element.remove()}});t.deepExtend(t.dataviz,{SankeyTooltip:{Tooltip:d,ContentTemplates:l}})}(window.kendo.jQuery);!function(t){window.kendo.dataviz=window.kendo.dataviz||{};const i=window.kendo,n=i.template,o=i.ui.Widget,s=i.dataviz,a=i.htmlEncode,l=i.support.isRtl,{Tooltip:d,ContentTemplates:r}=s.SankeyTooltip,h=o.extend({init:function(e,n){i.destroy(e),t(e).empty(),this.options=i.deepExtend({},this.options,n,{rtl:l(e)}),this._parseAriaLabelTemplates(this.options),o.fn.init.call(this,e),this.wrapper=this.element,this._initSankey(),this._attachEvents(),i.notify(this,s.ui),this._showWatermarkOverlay&&this._showWatermarkOverlay(this.wrapper[0])},setOptions:function(t){var e=this.options;this.events.forEach((t=>{e[t]&&this.unbind(t,e[t])}));const n=i.deepExtend(t,{rtl:l(this.element)});this._parseAriaLabelTemplates(n),this._instance.setOptions(n),this.bind(this.events,this._instance.options)},_initSankey:function(){const t=this._getThemeOptions(this.options),{seriesColors:e,axisDefaults:i,seriesDefaults:n,legend:o,title:s}=t,{line:a,labels:l}=i,d=n.labels.background;this._createSankey(this.options,{nodeColors:e,links:a,labels:{...l,stroke:{color:d}},legend:o,title:s}),this.options=this._instance.options},_createSankey:function(t,i){this._instance=new e.k(this.element[0],t,i)},_getThemeOptions:function(t){var i=(t||{}).theme;if(i&&-1!==s.SASS_THEMES.indexOf(i.toLowerCase()))return s.autoTheme().chart;if(e.e(i)){var n=s.ui.themes||{};return(n[i]||n[i.toLowerCase()]||{}).chart||{}}},_parseAriaLabelTemplates:function(t){const{nodes:e,links:i}=t;e&&e.labels&&e.labels.ariaTemplate&&(e.labels.ariaTemplate=n(e.labels.ariaTemplate)),i&&i.labels&&i.labels.ariaTemplate&&(i.labels.ariaTemplate=n(i.labels.ariaTemplate))},_attachEvents:function(){this.events.forEach((t=>{this._instance.bind(t,(e=>{this._events[t]&&this._events[t].forEach((t=>t.call(void 0,e)))}))})),this._instance.bind("tooltipShow",this.tooltipShow.bind(this)),this._instance.bind("tooltipHide",this.tooltipHide.bind(this))},tooltipShow:function(o){const{tooltip:s,rtl:l}=this.options,{nodeTemplate:h,linkTemplate:p,offset:c}=s;if(!this._tooltip){const e=this.element[0].ownerDocument;this._tooltip=new d(e.createElement("div"),{rtl:l});const{appendTo:i=e.body}=this.options.tooltip;this._tooltip.element.appendTo(t(i))}const u=n(("node"===o.targetType?h:p)||r[o.targetType]),f=a(i.format(this.options.messages.tooltipUnits,e.e(o.nodeValue)?o.nodeValue:o.dataItem.value));this._tooltip.setContent(u({dataItem:o.dataItem,value:f,rtl:l})),this._tooltip.setPosition(o.tooltipData.popupAlign,o.tooltipData.popupOffset,c),this._tooltip.show()},tooltipHide:function(){this._tooltip&&(this._tooltip.destroy(),this._tooltip=null)},exportVisual:function(t){return this._instance.exportVisual(t)},destroy:function(){o.fn.destroy.call(this),this.tooltipHide(),this._instance.destroy(),this._instance=null},events:["nodeClick","linkClick","nodeEnter","nodeLeave","linkEnter","linkLeave"],options:{name:"Sankey",theme:"default",tooltip:{offset:12},messages:{tooltipUnits:"({0} Units)"}}});s.ExportMixin.extend(h.fn),i.PDFMixin&&i.PDFMixin.extend(h.fn),s.ui.plugin(h),i.deepExtend(s,{Sankey:h,createSankeyData:e.l})}(window.kendo.jQuery);var i=kendo;t.__meta__={id:"dataviz.sankey",name:"Sankey",category:"dataviz",description:"The Sankey widget uses modern browser technologies to render high-quality data visualizations in the browser.",depends:["data","userevents","drawing","dataviz.core","dataviz.themes","charts.cmn.chunk"],features:[{id:"dataviz.sankey-pdf-export",name:"PDF export",description:"Export Sankey as PDF",depends:["pdf"]}]},t.default=i,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.dataviz.sankey.min.js.map
