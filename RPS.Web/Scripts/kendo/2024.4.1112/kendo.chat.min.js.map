{"version":3,"file":"kendo.chat.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Chat","this","$","window","Widget","ui","extend","NS","keys","ChatMessageBox","init","element","options","fn","call","_wrapper","_attachEvents","_typing","events","messages","placeholder","toggleButton","sendButton","destroy","input","off","remove","empty","styles","inputId","guid","inputWrapper","addClass","appendTo","attr","separator","inputSuffix","toolbar","toggleable","buttons","length","html","renderButton","buttonToggle","toolbarId","icon","buttonToggleIcon","fillMode","size","buttonSend","buttonSendIcon","on","_keydown","bind","_input","_inputFocusout","_buttonClick","_toggleToolbar","start","val","_triggerTyping","e","keyCode","ENTER","preventDefault","_sendMessage","F10","trigger","value","args","text","ev","originalEvent","button","buttonFlat","iconButton","buttonIcon","hidden","chat","jQuery","DATA_K_BUTTON_NAME","SCROLL_LEFT_NAME","SCROLL_RIGHT_NAME","VISIBLE","TABINDEX","DEFAULT_ANIMATION","effects","duration","NO_ANIMATION","expand","show","collapse","hide","ChatToolBar","toolbarOptions","name","buttonsDefined","_createButtonList","scrollable","buttonsWidth","width","_initScrolling","_setupAnimation","toggle","_onClick","_onKeydown","buttonList","i","_createButton","append","first","removeAttr","btnOptions","attributes","buttonElm","title","type","tabindex","data","buttonDefaults","iconClass","prepend","renderIcon","target","closest","is","scrollButton","_scrolling","_scroll","key","LEFT","_focusButton","RIGHT","dir","current","not","candidate","index","removeAttribute","scrollButtonLeft","scrollButtonLeftIcon","class","scrollButtonRight","scrollButtonRightIcon","_refreshScrollButtons","commandName","that","buttonWidth","maxScrollSize","scrollAmmount","scrollValue","currentScrollLeft","Math","min","max","scrollLeft","isNaN","parseInt","animation","defaultExpandAnimation","defaultCollapseAnimation","reverse","_animationComplete","_animationCompleteExpand","round","scrollWidth","clientWidth","children","last","outerWidth","skipAnimation","complete","kendoStop","kendoAnimate","focus","encode","htmlEncode","DOT","AVATAR_TEMPLATE","url","IMG_TEMPLATE","MESSAGE_GROUP_TEMPLATE","messageGroup","noAvatar","author","SELF_MESSAGE_GROUP_TEMPLATE","TEXT_MESSAGE_TEMPLATE","timestamp","message","messageTime","toString","parseDate","bubble","TYPING_INDICATOR_TEMPLATE","messageListContent","typingIndicatorBubble","typingIndicator","CARD_ACTIONS_TEMPLATE","cardActions","cardActionsVertical","map","cardAction","buttonPrimary","CARD_ACTION_BUTTON_TEMPLATE","join","HERO_CARD_TEMPLATE","images","subtitle","card","cardRich","alt","cardMedia","HERO_IMG_TEMPLATE","cardBody","cardTitle","cardSubtitle","Templates","Components","registerTemplate","templateName","template","getTemplate","suggestedActions","action","suggestedAction","SUGGESTED_ACTION_TEMPLATE","registerComponent","componentName","component","getComponent","Component","Class","view","Calendar","kendoCalendar","change","viewStyles","wrapper","messageList","only","middle","avatar","scrollButtonIconLeft","scrollButtonIconRight","cardWrapper","cardDeckScrollWrap","cardDeck","cardList","cardActionsHorizontal","cardActionsStart","cardActionsCenter","cardActionsEnd","cardActionsStretched","selected","ChatView","_list","_lastSender","typingParticipants","_scrollable","isTyping","areTyping","and","_scrollDraggable","list","messageListLabel","_listClick","_messageClick","_suggestedActionClick","_cardActionClick","_suggestedActionKeydown","_scrollButtonClick","currentTarget","scrollToLeft","find","scrollContainer","siblings","cardWidth","renderMessage","sender","Date","bubbleElement","_renderTemplate","_renderBubble","_removeTypingParticipant","id","renderSuggestedActions","_removeSuggestedActions","_scrollToBottom","renderAttachments","_renderAttachmentWrapper","attachmentLayout","cardContainer","attachments","cardElement","contentType","content","_removeTypingIndicator","renderComponent","layout","buttonLeft","_renderScrollButton","buttonRight","directionClass","targetElement","hasClass","parents","_clearSelection","SPACEBAR","messageType","group","_getMessageGroup","_appendToGroup","componentType","templateOptions","_getMessageGroupTemplate","appendTarget","iconUrl","user","messageElement","childrenCount","filter","removeClass","_renderTypingIndicator","participants","indicator","_addTypingParticipant","_composeTypingParticipantsText","found","push","splice","typingAction","typingText","replace","trimRight","selectedClass","scrollTop","prop","undefined$1","chatStyles","canvas","viewWrapper","messageBoxWrapper","toolbarBoxWrapper","_events","_user","_view","_toolbar","_messageBox","notify","setOptions","_setEvents","messageBox","unbind","_resetToolbarButtons","getUser","height","uiElements","toolbarElement","css","postMessage","toggleToolbar","postArgs","from","renderUserTypingIndicator","clearUserTypingIndicator","removeTypingIndicator","plugin","kendo$1","__meta__","category","description","depends","default","Object","defineProperty"],"sources":["kendo.chat.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.core.js'), require('kendo.html.button.js'), require('kendo.icons.js'), require('kendo.draganddrop.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.core', 'kendo.html.button', 'kendo.icons', 'kendo.draganddrop'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Chat = {})));\n})(this, (function (exports) {\n    (function($, undefined$1) {\n\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var DOT = \".\";\n        var NS = \".kendoChat\";\n        var keys = kendo.keys;\n\n        var messageBoxStyles = {\n            input: \"k-input-inner\",\n            inputWrapper: \"k-textbox k-input k-input-md k-input-solid k-rounded-md\",\n            button: \"k-button\",\n            buttonFlat: \"k-button-lg k-button-flat k-button-flat-base\",\n            iconButton: \"k-icon-button\",\n            buttonIcon: \"k-button-icon\",\n            buttonSend: \"k-chat-send\",\n            buttonSendIcon: \"paper-plane\",\n            buttonToggle: \"k-button-toggle\",\n            buttonToggleIcon: \"more-horizontal\",\n            hidden: \"k-hidden\",\n            inputSuffix: \"k-input-suffix k-input-suffix-horizontal\",\n            separator: \"k-input-separator k-input-separator-vertical\"\n        };\n\n        var ChatMessageBox = Widget.extend({\n            init: function(element, options) {\n                Widget.fn.init.call(this, element, options);\n\n                this._wrapper();\n\n                this._attachEvents();\n\n                this._typing = false;\n            },\n\n            events: [\n                \"focusToolbar\",\n                \"sendMessage\",\n                \"toggleToolbar\",\n                \"typingEnd\",\n                \"typingStart\"\n            ],\n\n            options: {\n                messages: {\n                    placeholder: \"Type a message...\",\n                    toggleButton: \"Toggle toolbar\",\n                    sendButton: \"Send message\"\n                }\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n\n                if (this.input) {\n                    this.input.off(NS);\n                    this.input.remove();\n                    this.input = null;\n                }\n\n                this.element.off(NS);\n                this.element.empty();\n            },\n\n            _wrapper: function() {\n                var styles = ChatMessageBox.styles;\n                var options = this.options;\n                var messages = options.messages;\n                var inputId = \"inputId_\" + kendo.guid();\n\n                this.inputWrapper = this.element\n                    .addClass(styles.inputWrapper)\n                    .appendTo(this.element);\n\n                this.input = $(\"<input type='text'>\")\n                    .addClass(styles.input)\n                    .attr(\"id\", inputId)\n                    .attr(\"aria-label\", messages.placeholder)\n                    .attr(\"placeholder\", messages.placeholder)\n                    .appendTo(this.inputWrapper);\n\n                this.separator = $(\"<span></span>\")\n                    .addClass(styles.separator)\n                    .appendTo(this.inputWrapper);\n\n                this.inputSuffix = $(\"<span></span>\")\n                    .addClass(styles.inputSuffix)\n                    .appendTo(this.inputWrapper);\n\n                if (options.toolbar && options.toolbar.toggleable && options.toolbar.buttons && options.toolbar.buttons.length) {\n                    $(kendo.html.renderButton(`<button class=\"${styles.buttonToggle}\" title=\"${messages.toggleButton}\" aria-label=\"${messages.toggleButton}\" aria-controls=\"${options.toolbarId}\"></button>`,\n                        {\n                            icon: styles.buttonToggleIcon,\n                            fillMode: \"flat\",\n                            size: \"medium\"\n                        }))\n                    .appendTo(this.inputSuffix);\n                }\n\n                $(kendo.html.renderButton(`<button class=\"${styles.buttonSend}\" title=\"${messages.sendButton}\" aria-label=\"${messages.sendButton}\"></button>`,\n                    {\n                        icon: styles.buttonSendIcon,\n                        fillMode: \"flat\",\n                        size: \"medium\"\n                    }))\n                .appendTo(this.inputSuffix);\n            },\n\n            _attachEvents: function() {\n                var styles = ChatMessageBox.styles;\n\n                this.input\n                    .on(\"keydown\" + NS, this._keydown.bind(this))\n                    .on(\"input\" + NS, this._input.bind(this))\n                    .on(\"focusout\" + NS, this._inputFocusout.bind(this));\n\n                this.element\n                    .on(\"click\" + NS, DOT + styles.buttonSend, this._buttonClick.bind(this));\n\n                this.element\n                    .on(\"click\" + NS, DOT + styles.buttonToggle, this._toggleToolbar.bind(this));\n            },\n\n            _input: function() {\n                var currentValue = this.input.val();\n                var start = currentValue.length > 0;\n\n                this._triggerTyping(start);\n            },\n\n            _keydown: function(e) {\n                var key = e.keyCode;\n\n                switch (key) {\n                    case keys.ENTER:\n                        e.preventDefault();\n\n                        this._sendMessage();\n                        break;\n                    case keys.F10:\n                        e.preventDefault();\n\n                        this.trigger(\"focusToolbar\");\n                        break;\n                }\n            },\n\n            _buttonClick: function(e) {\n                e.preventDefault();\n\n                this._sendMessage();\n            },\n\n            _sendMessage: function() {\n                var value = this.input.val();\n\n                if (!value.length) {\n                    return;\n                }\n\n                this._triggerTyping(false);\n\n                var args = {\n                    text: value\n                };\n\n                this.trigger(\"sendMessage\", args);\n\n                this.input.val(\"\");\n            },\n\n            _inputFocusout: function() {\n                this._triggerTyping(false);\n            },\n\n            _triggerTyping: function(start) {\n                if (start) {\n                    if (!this._typing) {\n                        this.trigger(\"typingStart\", {});\n                        this._typing = true;\n                    }\n                } else if (this._typing) {\n                    this.trigger(\"typingEnd\", {});\n                    this._typing = false;\n                }\n            },\n\n            _toggleToolbar: function(ev) {\n                this.trigger(\"toggleToolbar\", { originalEvent: ev });\n            }\n        });\n\n        extend(true, ChatMessageBox, { styles: messageBoxStyles });\n        extend(kendo, {\n            chat: {\n                ChatMessageBox: ChatMessageBox\n            }\n        });\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1) {\n\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var DOT = \".\";\n        var NS = \".kendoChat\";\n\n        var DATA_K_BUTTON_NAME = \"kButtonName\";\n        var SCROLL_LEFT_NAME = \"chatToolbarScrollLeft\";\n        var SCROLL_RIGHT_NAME = \"chatToolbarScrollRight\";\n        var VISIBLE = \":visible\";\n        var TABINDEX = \"tabindex\";\n\n        var DEFAULT_ANIMATION = {\n            effects: \"expand:vertical\",\n            duration: 200\n        };\n        var NO_ANIMATION = {\n            expand: {\n                show: true\n            },\n            collapse: {\n                hide: true\n            }\n        };\n\n        var toolbarStyles = {\n            button: \"k-button\",\n            buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n            buttonList: \"k-button-list k-toolbar-group\",\n            scrollButton: \"k-scroll-button\",\n            scrollButtonLeft: \"k-scroll-button-left\",\n            scrollButtonRight: \"k-scroll-button-right\",\n            scrollButtonLeftIcon: \"chevron-left\",\n            scrollButtonRightIcon: \"chevron-right\",\n            iconButton: \"k-icon-button\"\n        };\n\n        var ChatToolBar = Widget.extend({\n            init: function(element, options) {\n                options = extend({}, options, { name: \"ChatToolbar\" });\n                var toolbarOptions = options.toolbar;\n                var buttonsDefined = toolbarOptions.buttons && toolbarOptions.buttons.length;\n\n                Widget.fn.init.call(this, element, options);\n\n                if (buttonsDefined) {\n                    this._createButtonList();\n                }\n\n                if (buttonsDefined && toolbarOptions.scrollable &&\n                        this.buttonsWidth() > this.element.width()) {\n                    this._initScrolling();\n                }\n\n                this._setupAnimation();\n\n                if (buttonsDefined && toolbarOptions.toggleable) {\n                    this.toggle(true);\n                }\n\n                this.element\n                    .on(\"click\" + NS, this._onClick.bind(this))\n                    .on(\"keydown\" + NS, this._onKeydown.bind(this));\n            },\n\n            events: [\n                \"click\"\n            ],\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n\n                this.element.off(NS);\n                this.element.empty();\n            },\n\n            _createButtonList: function() {\n                var that = this;\n                var styles = ChatToolBar.styles;\n                var buttons = that.options.toolbar.buttons;\n                var buttonList = $(\"<div class='\" + styles.buttonList + \"'></div>\");\n\n                for (var i = 0; i < buttons.length; i++) {\n                    var button = that._createButton(buttons[i]);\n                    buttonList.append(button);\n                }\n\n                buttonList.appendTo(this.element);\n\n                this.buttonList = buttonList;\n                this.buttons().first().removeAttr(TABINDEX);\n            },\n\n            _createButton: function(btnOptions) {\n                var styles = ChatToolBar.styles;\n                var buttonElm = $(\"<button>\");\n                var attributes;\n\n                if (typeof btnOptions === \"string\") {\n                    btnOptions = {\n                        name: btnOptions\n                    };\n                }\n\n                attributes = $.extend({}, btnOptions.attr || {}, {\n                    title: btnOptions.text || btnOptions.name,\n                    \"aria-label\": btnOptions.text || btnOptions.name,\n                    type: \"button\",\n                    tabindex: -1\n                });\n\n                buttonElm\n                    .attr(attributes)\n                    .addClass(btnOptions.name)\n                    .data(DATA_K_BUTTON_NAME, btnOptions.name)\n                    .addClass(styles.button)\n                    .addClass(styles.buttonDefaults);\n\n                if (btnOptions.icon || btnOptions.iconClass) {\n                    buttonElm.addClass(styles.iconButton);\n                    buttonElm.prepend(kendo.html.renderIcon({ icon: btnOptions.icon, iconClass: \"k-button-icon\" + (btnOptions.iconClass ? ` ${btnOptions.iconClass}` : \"\") }));\n                }\n\n                return buttonElm;\n            },\n\n            _onClick: function(ev) {\n                var styles = ChatToolBar.styles;\n                var target = $(ev.target).closest(DOT + styles.button);\n\n                if (target.is(DOT + styles.scrollButton) && !this._scrolling) {\n                    this._scroll(target.data(DATA_K_BUTTON_NAME));\n                }\n\n                if (target.data(DATA_K_BUTTON_NAME)) {\n                    this.buttons().attr(TABINDEX, -1);\n                    target.removeAttr(TABINDEX);\n\n                    this.trigger(\"click\", {\n                        button: target[0],\n                        name: target.data(DATA_K_BUTTON_NAME),\n                        originalEvent: ev\n                    });\n                }\n            },\n\n            _onKeydown: function(e) {\n                var key = e.keyCode,\n                    keys = kendo.keys;\n\n                switch (key) {\n                    case keys.LEFT:\n                        this._focusButton(-1);\n                        break;\n                    case keys.RIGHT:\n                        this._focusButton(1);\n                        break;\n                }\n            },\n\n            _focusButton: function(dir) {\n                var buttons = this.buttons(),\n                    current = buttons.not(\"[tabindex=-1]\"),\n                    candidateIndex = current.index() + dir,\n                    candidate = buttons[candidateIndex];\n\n                if (candidate) {\n                    current.attr(TABINDEX, -1);\n                    candidate.removeAttribute(TABINDEX);\n                    candidate.trigger(\"focus\");\n                }\n            },\n\n            _initScrolling: function() {\n                var styles = ChatToolBar.styles;\n\n                this.scrollButtonLeft = this._createButton({\n                    name: SCROLL_LEFT_NAME,\n                    icon: styles.scrollButtonLeftIcon,\n                    attr: {\n                        \"class\": styles.scrollButton + \" \" + styles.scrollButtonLeft\n                    }\n                });\n\n                this.scrollButtonRight = this._createButton({\n                    name: SCROLL_RIGHT_NAME,\n                    icon: styles.scrollButtonRightIcon,\n                    attr: {\n                        \"class\": styles.scrollButton + \" \" + styles.scrollButtonRight\n                    }\n                });\n\n                this.element.prepend(this.scrollButtonLeft);\n                this.element.append(this.scrollButtonRight);\n                this._refreshScrollButtons();\n\n                this.element.on(\"keydown\" + NS, this._refreshScrollButtons.bind(this));\n            },\n\n            _scroll: function(commandName) {\n                var that = this;\n                var buttonWidth = that.buttonWidth();\n                var maxScrollSize = this.maxScrollSize();\n                var scrollAmmount = commandName === SCROLL_LEFT_NAME ? buttonWidth * -1 : buttonWidth;\n                var currentScroll = this.currentScrollLeft();\n                var scrollValue = currentScroll + scrollAmmount;\n                scrollValue = Math.min(Math.max(scrollValue, 0), maxScrollSize);\n\n                if (commandName !== SCROLL_LEFT_NAME && commandName !== SCROLL_RIGHT_NAME) {\n                    return;\n                }\n\n                kendo.scrollLeft(that.buttonList, scrollValue);\n                that._refreshScrollButtons(scrollValue);\n            },\n\n            _refreshScrollButtons: function(value) {\n                var maxScrollSize = this.maxScrollSize();\n                var currentScrollLeft = value === undefined$1 || isNaN(parseInt(value, 10)) ? this.currentScrollLeft() : value;\n\n                if (!this.scrollButtonLeft && !this.scrollButtonRight) {\n                    return;\n                }\n\n                this.scrollButtonLeft.toggle(currentScrollLeft !== 0);\n                this.scrollButtonRight.toggle(currentScrollLeft !== maxScrollSize);\n            },\n\n            _setupAnimation: function() {\n                var animation = this.options.toolbar.animation;\n                var defaultExpandAnimation = extend({}, DEFAULT_ANIMATION);\n                var defaultCollapseAnimation = extend({\n                    reverse: true,\n                    hide: true\n                }, DEFAULT_ANIMATION);\n\n                if (animation === false) {\n                    animation = extend(true, {}, NO_ANIMATION);\n                } else {\n                    animation = extend(true, {\n                        expand: defaultExpandAnimation,\n                        collapse: defaultCollapseAnimation\n                    }, animation);\n                }\n\n                this.options.toolbar.animation = animation;\n            },\n\n            _animationComplete: function() {\n                this._refreshScrollButtons();\n            },\n\n            _animationCompleteExpand: function() {\n                this._animationComplete();\n                this.buttons().not(\"[tabindex=-1]\").trigger(\"focus\");\n            },\n\n            currentScrollLeft: function() {\n                return Math.round(kendo.scrollLeft(this.buttonList));\n            },\n\n            maxScrollSize: function() {\n                return Math.round(this.buttonList[0].scrollWidth - this.buttonList[0].clientWidth);\n            },\n\n            buttons: function() {\n                var styles = ChatToolBar.styles;\n                return this.buttonList ? this.buttonList.children(DOT + styles.button) : null;\n            },\n\n            buttonWidth: function() {\n                return Math.round(this.buttons().last().outerWidth(true));\n            },\n\n            buttonsWidth: function() {\n                var width = 0;\n\n                if (this.buttons()) {\n                    width = this.buttonWidth() * this.buttons().length;\n                }\n\n                return width;\n            },\n\n            toggle: function(skipAnimation) {\n                var animation = this.options.toolbar.animation;\n\n                if (skipAnimation) {\n                    animation = extend(true, {}, NO_ANIMATION);\n                }\n\n                animation.expand.complete = this._animationCompleteExpand.bind(this);\n                animation.collapse.complete = this._animationComplete.bind(this);\n\n                if (this.element.is(VISIBLE)) {\n                    this.element.kendoStop().kendoAnimate(animation.collapse);\n                } else {\n                    this.element.kendoStop().kendoAnimate(animation.expand);\n                }\n\n            },\n\n            focus: function() {\n                if (!this.element.is(VISIBLE)) {\n                    this.toggle();\n                } else {\n                    this.buttons().not(\"[tabindex=-1]\").trigger(\"focus\");\n                }\n            }\n        });\n\n        extend(true, ChatToolBar, { styles: toolbarStyles });\n        extend(kendo.chat, {\n            ChatToolBar: ChatToolBar\n        });\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1) {\n\n        var kendo = window.kendo;\n        var encode = kendo.htmlEncode;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var DOT = \".\";\n        var SPACE = \" \";\n        var NS = \".kendoChat\";\n\n        var IMG_TEMPLATE = ({ url, text, styles }) => `<img src=\"${url}\" alt=\"${encode(text)}\">`;\n\n        var AVATAR_TEMPLATE = ({ url, text, styles }) => `<div class=\"k-avatar k-avatar-md k-avatar-solid k-avatar-solid-primary k-rounded-full\">` +\n                                    `<span class=\"k-avatar-image\">` +\n                                        IMG_TEMPLATE({ url, text, styles }) +\n                                    `</span>` +\n                                `</div>`;\n\n        var MESSAGE_GROUP_TEMPLATE = ({ text, url, styles }) => `<div ${encode(text)} class=\"${styles.messageGroup} ${ url ? \"\" : styles.noAvatar }\">\n            <p class=\"${styles.author}\">${encode(text)}</p>\n            ${ url ? AVATAR_TEMPLATE({ url, text, styles }) : '' }\n        </div>`;\n\n        var SELF_MESSAGE_GROUP_TEMPLATE = ({ url, text, styles }) => `<div me class=\"${styles.messageGroup} ${styles.self} ${ url ? \"\" : styles.noAvatar }\">\n        ${ url ? AVATAR_TEMPLATE({ url, text, styles }) : '' }\n    </div>`;\n\n        var TEXT_MESSAGE_TEMPLATE = ({ styles, text, timestamp }) => `<div class=\"${styles.message}\">\n        <time class=\"${styles.messageTime}\">${ kendo.toString(kendo.parseDate(timestamp), \"HH:mm:ss\") }</time>\n        <div class=\"${styles.bubble}\">${encode(text)}</div>\n    </div>`;\n\n        var TYPING_INDICATOR_TEMPLATE = ({ styles, text }) => `<div class=\"${styles.messageListContent} ${styles.typingIndicatorBubble}\">\n        <p class=\"${styles.author}\">${encode(text)}</p>\n        <div class=\"${styles.message}\">\n            <div class=\"${styles.bubble}\">\n                <div class=\"${styles.typingIndicator}\">\n                    <span></span><span></span><span></span>\n                </div>\n            </div>\n        </div>\n    </div>`;\n\n        var SUGGESTED_ACTION_TEMPLATE = ({ styles, action }) => `<span role=\"button\" tabindex=\"0\" class=\"${styles.suggestedAction}\" data-value=\"${encode(action.value)}\">${encode(action.title)}</span>`;\n\n        var SUGGESTED_ACTIONS_TEMPLATE = ({ styles, suggestedActions }) => `<div class=\"${styles.suggestedActions}\">\n        ${ suggestedActions.map(action => SUGGESTED_ACTION_TEMPLATE({ styles, action })).join('') }\n    </div>`;\n\n        var HERO_IMG_TEMPLATE = ({ images, styles }) => `<img src=\"${encode(images[0].url)}\" alt=\"${images[0].alt}\" class=\"${styles.cardMedia}\" />`;\n\n        var CARD_ACTION_BUTTON_TEMPLATE = ({ button, styles }) => `<span class=\"${styles.cardAction}\"><button class=\"${styles.button} ${styles.buttonPrimary}\" data-value=\"${encode(button.value)}\"><span class=\"k-button-text\">${encode(button.title)}</span></button></span>`;\n\n        var CARD_ACTIONS_TEMPLATE = ({ styles, buttons }) => `<div class=\"k-actions ${styles.cardActions} ${styles.cardActionsVertical}\">\n        ${ buttons.map((button) => CARD_ACTION_BUTTON_TEMPLATE({ styles, button })).join('') }\n    </div>`;\n\n        var HERO_CARD_TEMPLATE = ({ styles, images, buttons, title, subtitle, text }) => `<div class=\"${styles.card} ${styles.cardRich}\">\n        ${ (typeof images !== \"undefined\" && images.length > 0) ? HERO_IMG_TEMPLATE({ images, styles }) : '' }\n        <div class=\"${styles.cardBody}\">\n            ${ typeof title !== \"undefined\" ? (() => `<h5 class=\"${styles.cardTitle}\">${encode(title)}</h5>`)() : '' }\n            ${ typeof subtitle !== \"undefined\" ? (() => `<h6 class=\"${styles.cardSubtitle}\">${encode(subtitle)}</h6>`)() : '' }\n            ${ typeof text !== \"undefined\" ? (() => `<p>${encode(text)}</p>`)() : '' }\n        </div>\n        ${ (typeof buttons !== \"undefined\" && buttons.length > 0) ? CARD_ACTIONS_TEMPLATE({ buttons, styles }) : ''}\n    </div>`;\n\n        extend(kendo.chat, {\n            Templates: {},\n            Components: {}\n        });\n\n        kendo.chat.registerTemplate = function(templateName, template) {\n            kendo.chat.Templates[templateName] = kendo.template(template);\n        };\n\n        kendo.chat.getTemplate = function(templateName) {\n            return kendo.chat.Templates[templateName] || TEXT_MESSAGE_TEMPLATE;\n        };\n\n        kendo.chat.registerTemplate(\"text\", TEXT_MESSAGE_TEMPLATE);\n        kendo.chat.registerTemplate(\"message\", TEXT_MESSAGE_TEMPLATE);\n        kendo.chat.registerTemplate(\"typing\", TYPING_INDICATOR_TEMPLATE);\n        kendo.chat.registerTemplate(\"suggestedAction\", SUGGESTED_ACTIONS_TEMPLATE);\n        kendo.chat.registerTemplate(\"heroCard\", HERO_CARD_TEMPLATE);\n        kendo.chat.registerTemplate(\"application/vnd.microsoft.card.hero\", HERO_CARD_TEMPLATE);\n\n        kendo.chat.registerComponent = function(componentName, component) {\n            kendo.chat.Components[componentName] = component;\n        };\n\n        kendo.chat.getComponent = function(componentName) {\n            return kendo.chat.Components[componentName] || null;\n        };\n\n        var Component = kendo.chat.Component = kendo.Class.extend({\n            init: function(options, view) {\n                this.element = $('<div></div>');\n                this.options = options;\n                this.view = view;\n            },\n\n            destroy: function() {\n                kendo.destroy(this.element);\n            }\n        });\n\n        var Calendar = Component.extend({\n            init: function(options, view) {\n                Component.fn.init.call(this, options, view);\n\n                this.element.kendoCalendar({\n                    change: function() {\n                        view.trigger(\"suggestedAction\", { text: kendo.toString(this.value(), 'd'), type: \"message\" });\n                    }\n                });\n            },\n\n            destroy: function() {\n            }\n        });\n        kendo.chat.registerComponent(\"calendar\", Calendar);\n\n        var viewStyles = {\n            wrapper: \"k-chat\",\n            messageList: \"k-avatars\",\n            messageListContent: \"k-message-list-content\",\n            messageTime: \"k-message-time\",\n            messageGroup: \"k-message-group\",\n            message: \"k-message\",\n            only: \"k-only\",\n            first: \"k-first\",\n            middle: \"k-middle\",\n            last: \"k-last\",\n            author: \"k-author\",\n            avatar: \"k-avatar\",\n            noAvatar: \"k-no-avatar\",\n            self: \"k-alt\",\n            button: \"k-button\",\n            buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n            iconButton: \"k-icon-button\",\n            buttonIcon: \"k-button-icon\",\n            buttonPrimary: \"k-button-md k-rounded-md k-button-flat k-button-flat-primary\",\n            scrollButtonIconLeft: \"chevron-left\",\n            scrollButtonIconRight: \"chevron-right\",\n            typingIndicator: \"k-typing-indicator\",\n            typingIndicatorBubble: \"k-typing-indicator-bubble\",\n            bubble: \"k-chat-bubble\",\n            suggestedActions: \"k-quick-replies\",\n            suggestedAction: \"k-quick-reply\",\n            cardWrapper: \"k-card-container\",\n            cardDeckScrollWrap: \"k-card-deck-scrollwrap\",\n            cardDeck: \"k-card-deck\",\n            cardList: \"k-card-list\",\n            card: \"k-card\",\n            cardRich: \"k-card-type-rich\",\n            cardBody: \"k-card-body\",\n            cardMedia: \"k-card-media\",\n            cardTitle: \"k-card-title\",\n            cardSubtitle: \"k-card-subtitle\",\n            cardActions: \"k-card-actions\",\n            cardActionsVertical: \"k-actions-vertical\",\n            cardActionsHorizontal: \"k-actions-horizontal\",\n            cardActionsStart: \"k-actions-start\",\n            cardActionsCenter: \"k-actions-center\",\n            cardActionsEnd: \"k-actions-end\",\n            cardActionsStretched: \"k-actions-stretched\",\n            cardAction: \"k-card-action\",\n            selected: \"k-selected\"\n        };\n\n        var ChatView = kendo.chat.ChatView = Widget.extend({\n            init: function(element, options) {\n                Widget.fn.init.call(this, element, options);\n\n                this._list();\n\n                this._lastSender = null;\n\n                this.typingParticipants = [];\n\n                this._attachEvents();\n\n                this._scrollable();\n            },\n\n            events: [\n            ],\n\n            options: {\n                messages: {\n                    isTyping: \" is typing.\",\n                    areTyping: \" are typing.\",\n                    and: \" and \"\n                }\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n\n                if (this._scrollDraggable) {\n                    this._scrollDraggable.destroy();\n                }\n\n                this.element.empty();\n                this.element.off(NS);\n\n                this.list = null;\n                this._lastSender = null;\n            },\n\n            _list: function() {\n                var viewStyles = ChatView.styles;\n\n                this.element\n                    .addClass(viewStyles.messageList)\n                    .attr(\"role\", \"log\")\n                    .attr(\"aria-label\", this.options.messages.messageListLabel);\n\n                this.list = $(\"<div>\")\n                    .addClass(viewStyles.messageListContent)\n                    .appendTo(this.element);\n            },\n\n            _attachEvents: function() {\n                var styles = ChatView.styles;\n\n                this.element\n                    .on(\"click\" + NS, this._listClick.bind(this))\n                    .on(\"click\" + NS, DOT + styles.message, this._messageClick.bind(this))\n                    .on(\"click\" + NS, DOT + styles.suggestedAction, this._suggestedActionClick.bind(this))\n                    .on(\"click\" + NS, DOT + styles.cardAction + SPACE + DOT + styles.button, this._cardActionClick.bind(this));\n\n                this.element.on(\"keydown\" + NS, DOT + styles.suggestedAction, this._suggestedActionKeydown.bind(this));\n            },\n\n            _scrollable: function() {\n                var viewStyles = ChatView.styles;\n\n                this.element\n                    .on(\"click\" + NS, DOT + viewStyles.cardDeckScrollWrap + SPACE + DOT + viewStyles.button, this._scrollButtonClick.bind(this));\n            },\n\n            _scrollButtonClick: function(e) {\n                var viewStyles = ChatView.styles;\n                var button = $(e.currentTarget);\n                var scrollToLeft = button.find(`${DOT + viewStyles.buttonIcon}[class*=${viewStyles.scrollButtonIconLeft}]`).length !== 0;\n                var scrollContainer = button.siblings(DOT + viewStyles.cardDeck);\n                var lastCard = scrollContainer.find(DOT + viewStyles.card).last();\n                var cardWidth = lastCard.outerWidth(true);\n\n                if (scrollToLeft) {\n                    kendo.scrollLeft(scrollContainer, kendo.scrollLeft(scrollContainer) - cardWidth);\n                } else {\n                    kendo.scrollLeft(scrollContainer, kendo.scrollLeft(scrollContainer) + cardWidth);\n                }\n            },\n\n            getTemplate: function(templateName) {\n                return kendo.chat.getTemplate(templateName);\n            },\n\n            getComponent: function(type) {\n               return kendo.chat.getComponent(type);\n            },\n\n            renderMessage: function(message, sender) {\n                if (!message.timestamp) {\n                    message.timestamp = new Date();\n                }\n\n                if (!message.text) {\n                    message.text = \"\";\n                }\n\n                var bubbleElement = this._renderTemplate(message.type, message);\n\n                this._renderBubble(message.type, bubbleElement, sender);\n\n                if (message.type == \"typing\") {\n                    if (this.typingParticipants.length > 0) {\n                        this._removeTypingParticipant(sender);\n                    }\n                } else {\n                    this._lastSender = sender.id;\n                }\n            },\n\n            renderSuggestedActions: function(suggestedActions) {\n                this._removeSuggestedActions();\n\n                var element = this._renderTemplate(\"suggestedAction\", { suggestedActions: suggestedActions });\n\n                this.list.append(element);\n\n                this._scrollToBottom();\n            },\n\n            renderAttachments: function(options) {\n                var wrapper = this._renderAttachmentWrapper(options.attachmentLayout);\n                var cardContainer = options.attachmentLayout === \"carousel\" ? wrapper.find(DOT + ChatView.styles.cardDeck) : wrapper;\n                var attachments = options.attachments;\n\n                if (!attachments.length) {\n                    return;\n                }\n\n                for (var i = 0; i < attachments.length; i++) {\n                    var cardElement = this._renderTemplate(attachments[i].contentType, attachments[i].content);\n\n                    cardContainer.append(cardElement);\n                }\n\n                this._removeSuggestedActions();\n                this._removeTypingIndicator();\n\n                this.list.append(wrapper);\n\n                this._lastSender = null;\n            },\n\n            renderComponent: function(type) {\n                var componentType = this.getComponent(type);\n                var component = new componentType({}, this);\n\n                this.list.append(component.element);\n\n                this._scrollToBottom();\n            },\n\n            _renderAttachmentWrapper: function(layout) {\n                var viewStyles = ChatView.styles;\n                var wrapper = $(\"<div>\");\n\n                if (layout === \"carousel\") {\n                    wrapper.addClass(viewStyles.cardDeckScrollWrap);\n\n                    var buttonLeft = this._renderScrollButton(viewStyles.scrollButtonIconLeft);\n                    wrapper.append(buttonLeft);\n\n                    wrapper.append($(\"<div>\").addClass(viewStyles.cardDeck));\n\n                    var buttonRight = this._renderScrollButton(viewStyles.scrollButtonIconRight);\n                    wrapper.append(buttonRight);\n                } else {\n                    wrapper.addClass(viewStyles.cardList);\n                }\n\n                return wrapper;\n            },\n\n            _renderScrollButton: function(directionClass) {\n                var viewStyles = ChatView.styles;\n\n                return $(\"<button>\")\n                    .addClass(viewStyles.button)\n                    .addClass(viewStyles.buttonDefaults)\n                    .addClass(viewStyles.iconButton)\n                    .append(kendo.html.renderIcon({ icon: directionClass, iconClass: viewStyles.buttonIcon }));\n            },\n\n            _removeSuggestedActions: function() {\n                this.list.find(DOT + ChatView.styles.suggestedActions).remove();\n            },\n\n            _listClick: function(e) {\n                var styles = ChatView.styles;\n                var targetElement = $(e.target);\n\n                if (targetElement.hasClass(styles.message) || targetElement.parents(DOT + styles.message).length) {\n                    return;\n                }\n\n                this._clearSelection();\n            },\n\n            _messageClick: function(e) {\n                this._clearSelection();\n\n                $(e.currentTarget).addClass(ChatView.styles.selected);\n            },\n\n            _suggestedActionClick: function(e) {\n                var text = $(e.target).data(\"value\") || \"\";\n\n                this.trigger(\"actionClick\", { text: text });\n\n                this._removeSuggestedActions();\n            },\n\n            _suggestedActionKeydown: function(e) {\n                if (e.keyCode === kendo.keys.SPACEBAR || e.keyCode === kendo.keys.ENTER) {\n                    this._suggestedActionClick(e);\n                }\n            },\n\n            _cardActionClick: function(e) {\n                var text = $(e.target).data(\"value\") || \"\";\n\n                this.trigger(\"actionClick\", { text: text });\n            },\n\n            _renderBubble: function(messageType, bubbleElement, sender) {\n                this._removeSuggestedActions();\n                this._removeTypingIndicator();\n\n                var group = this._getMessageGroup(sender, messageType);\n\n                this._appendToGroup(group, bubbleElement, messageType);\n\n                this._scrollToBottom();\n            },\n\n            _renderTemplate: function(type, options) {\n                var componentType = this.getComponent(type);\n                var element;\n\n                if (componentType) {\n                    var component = new componentType(options, this);\n\n                    element = component.element;\n                } else {\n                    var template = this.getTemplate(type);\n                    var templateOptions = extend(true, {}, options, { styles: ChatView.styles });\n\n                    element = $(template(templateOptions));\n                }\n\n                return element;\n            },\n\n            _getMessageGroup: function(sender, messageType) {\n                var viewStyles = ChatView.styles;\n                var template = this._getMessageGroupTemplate(sender, messageType);\n                var appendTarget = messageType == \"typing\" ? this.element : this.list;\n                var group;\n\n                if (sender.id === this._lastSender && this._lastSender !== null && messageType !== \"typing\") {\n                    group = this.list.find(DOT + viewStyles.messageGroup).last();\n\n                    if (group.length) {\n                        return group;\n                    }\n                }\n\n                return $(template({ text: sender.name, url: sender.iconUrl, styles: viewStyles })).appendTo(appendTarget);\n            },\n\n            _getMessageGroupTemplate: function(sender, messageType) {\n                var isOwnMessage = sender.id === this.options.user.id;\n                var template = isOwnMessage ?\n                    SELF_MESSAGE_GROUP_TEMPLATE :\n                    MESSAGE_GROUP_TEMPLATE;\n\n                if (messageType == \"typing\") {\n                    template = TYPING_INDICATOR_TEMPLATE;\n                }\n\n                return template;\n            },\n\n            _appendToGroup: function(group, messageElement, messageType) {\n                var viewStyles = ChatView.styles;\n                var children = group.find(DOT + viewStyles.message);\n                var childrenCount = children.length;\n                var indicator = this.element.find(DOT + viewStyles.typingIndicator);\n\n                if (indicator.length && messageType == \"typing\") {\n                    return;\n                }\n\n                messageElement.addClass(childrenCount === 0 ? viewStyles.only : viewStyles.last);\n\n                children.filter(DOT + viewStyles.only)\n                    .removeClass(viewStyles.only)\n                    .addClass(viewStyles.first);\n\n                children.filter(DOT + viewStyles.last)\n                    .removeClass(viewStyles.last)\n                    .addClass(viewStyles.middle);\n\n                group.append(messageElement);\n            },\n\n            _renderTypingIndicator: function(sender) {\n                var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble),\n                    indicatorList,\n                    participants;\n\n                this._addTypingParticipant(sender);\n\n                if (indicator.length) {\n                    participants = this._composeTypingParticipantsText(this.typingParticipants);\n\n                    indicatorList = indicator.find(DOT + viewStyles.author).first();\n                    indicatorList.text(participants);\n\n                } else {\n                    $(TYPING_INDICATOR_TEMPLATE({\n                        text: sender.name + this.options.messages.isTyping,\n                        styles: viewStyles\n                    })).appendTo(this.element);\n                }\n\n                this._scrollToBottom();\n            },\n\n            _addTypingParticipant: function(sender) {\n                var found = false;\n                for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                    if (this.typingParticipants[i].id == sender.id) {\n                        found = true;\n                        break;\n                    }\n                }\n                if (!found) {\n                    this.typingParticipants.push(sender);\n                }\n            },\n\n            _removeTypingParticipant: function(sender) {\n                var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble),\n                    indicatorList,\n                    participants;\n\n                if (indicator.length) {\n                    for (var i = 0; i < this.typingParticipants.length; i += 1) {\n                        if (this.typingParticipants[i].id == sender.id) {\n                            this.typingParticipants.splice(i, 1);\n                        }\n                    }\n\n                    participants = this._composeTypingParticipantsText(this.typingParticipants);\n\n                    if (participants === \"\") {\n                        indicator.remove();\n                    } else {\n                        indicatorList = indicator.find(DOT + viewStyles.author).first();\n                        indicatorList.text(participants);\n                    }\n                }\n            },\n\n            _composeTypingParticipantsText: function(participants) {\n                var messages = this.options.messages,\n                    typingAction = participants.length == 1 ? messages.isTyping : messages.areTyping,\n                    typingText = \"\";\n\n                if (participants.length === 0) {\n                    return typingText;\n                }\n\n                typingText = this.typingParticipants.map(function(author) {\n                    return author.name;\n                }).join(', ').replace(/,(?!.*,)/gmi, messages.and.trimRight()) + typingAction;\n\n                return typingText;\n            },\n\n            _removeTypingIndicator: function() {\n                var indicator = this.element.find(DOT + viewStyles.typingIndicatorBubble);\n\n                if (indicator.length) {\n                    this.typingParticipants = [];\n                    indicator.remove();\n                }\n            },\n\n            _clearSelection: function() {\n                var selectedClass = ChatView.styles.selected;\n\n                this.element.find(DOT + selectedClass).removeClass(selectedClass);\n            },\n\n            _scrollToBottom: function() {\n                this.element.scrollTop(this.element.prop(\"scrollHeight\"));\n            }\n        });\n\n        extend(true, ChatView, { styles: viewStyles });\n\n    })(window.kendo.jQuery);\n\n    const __meta__ = {\n        id: \"chat\",\n        name: \"Chat\",\n        category: \"web\",\n        description: \"The Chat component.\",\n        depends: [ \"core\", \"draganddrop\", \"html.button\" ]\n    };\n\n    (function($, undefined$1) {\n\n        var kendo = window.kendo;\n        var Widget = kendo.ui.Widget;\n        var extend = $.extend;\n        var DOT = \".\";\n\n        var chatStyles = {\n            wrapper: \"k-chat\",\n            canvas: \"k-chat-canvas\",\n            viewWrapper: \"k-message-list\",\n            messageBoxWrapper: \"k-message-box\",\n            toolbarBoxWrapper: \"k-toolbar-box\"\n        };\n\n        var Chat = Widget.extend({\n            init: function(element, options, events) {\n                Widget.fn.init.call(this, element, options);\n\n                if (events) {\n                    this._events = events;\n                }\n\n                this._user();\n\n                this._wrapper();\n\n                this._view();\n\n                if (options && options.toolbar && options.toolbar.buttons) {\n                    this._toolbar();\n                }\n\n                this._messageBox();\n\n                kendo.notify(this);\n            },\n\n            events: [\n                \"typingStart\",\n                \"typingEnd\",\n                \"post\",\n                \"sendMessage\",\n                \"actionClick\",\n                \"toolClick\"\n            ],\n\n            options: {\n                user: {\n                    name: \"User\",\n                    iconUrl: \"\"\n                },\n                name: \"Chat\",\n                messages: {\n                    messageListLabel: \"Message list\",\n                    placeholder: \"Type a message...\",\n                    toggleButton: \"Toggle toolbar\",\n                    sendButton: \"Send message\"\n                },\n                toolbar: false\n            },\n\n            setOptions: function(options) {\n                this._setEvents(options);\n                $.extend(true, this.options, options);\n\n                if (this.toolbar && \"toolbar\" in options) {\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n\n                if (this.messageBox) {\n                    this.messageBox.unbind();\n                    this.messageBox.destroy();\n                    this.messageBox = null;\n                }\n\n                this._messageBox();\n\n                if (\"toolbar\" in options) {\n                    this._resetToolbarButtons(options);\n                    this._toolbar();\n                }\n            },\n\n            _resetToolbarButtons: function(options) {\n                var toolbarBoxWrapper = this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper);\n\n                if (!toolbarBoxWrapper.is(\":visible\")) {\n                    toolbarBoxWrapper.show();\n                }\n\n                if (options.toolbar && typeof options.toolbar == \"object\" && \"buttons\" in options.toolbar) {\n                    this.options.toolbar.buttons = options.toolbar.buttons;\n                }\n            },\n\n            destroy: function() {\n                if (this.view) {\n                    this.view.unbind();\n                    this.view.destroy();\n                    this.view = null;\n                }\n\n                if (this.messageBox) {\n                    this.messageBox.unbind();\n                    this.messageBox.destroy();\n                    this.messageBox = null;\n                }\n\n                if (this.toolbar) {\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n\n                Widget.fn.destroy.call(this);\n            },\n\n            _user: function() {\n                this.options.user.id = kendo.guid();\n            },\n\n            getUser: function() {\n                return extend(true, {}, this.options.user);\n            },\n\n            _wrapper: function() {\n                var chatStyles = Chat.styles;\n                var options = this.options;\n                var height = options.height;\n                var width = options.width;\n                var uiElements = \"<div class='\" + chatStyles.viewWrapper + \"'></div>\" +\n                                 \"<span class='\" + chatStyles.messageBoxWrapper + \"'></span>\";\n                var toolbarElement = $(`<div class=\"${chatStyles.toolbarBoxWrapper}\" role=\"toolbar\"></div>`).hide();\n\n                this.wrapper = this.element\n                    .addClass(chatStyles.wrapper)\n                    .append(uiElements)\n                    .append(toolbarElement);\n\n                if (options.toolbar && options.toolbar.buttons && options.toolbar.buttons.length) {\n                    this.wrapper.find(DOT + chatStyles.toolbarBoxWrapper).show();\n                }\n\n                if (height) {\n                    this.wrapper.height(height);\n                }\n\n                if (width) {\n                    this.wrapper.css(\"max-width\", width);\n                }\n            },\n\n            _view: function() {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, this.options);\n\n                var element = this.wrapper.find(DOT + chatStyles.viewWrapper + \"\");\n\n                this.view = new kendo.chat.ChatView(element, options);\n\n                this.view\n                    .bind(\"actionClick\", function(args) {\n                        that.trigger(\"actionClick\", args);\n\n                        that.postMessage(args.text);\n                    });\n            },\n\n            _messageBox: function() {\n                let that = this;\n                let chatStyles = Chat.styles;\n                let options = extend(true, {}, { name: that.options.name, messages: that.options.messages, toolbar: that.options.toolbar, toolbarId: that.options.toolbarId });\n                let element = this.wrapper.find(DOT + chatStyles.messageBoxWrapper + \"\");\n\n                this.messageBox = new kendo.chat.ChatMessageBox(element, options);\n\n                this.messageBox\n                    .bind(\"typingStart\", function(args) {\n                        that.trigger(\"typingStart\", args);\n                    })\n                    .bind(\"typingEnd\", function(args) {\n                        that.trigger(\"typingEnd\", args);\n                    })\n                    .bind(\"sendMessage\", function(args) {\n                        that.trigger(\"sendMessage\", args);\n\n                        that.postMessage(args.text);\n                    })\n                    .bind(\"toggleToolbar\", function() {\n                        that.toggleToolbar();\n                    })\n                    .bind(\"focusToolbar\", function() {\n                        if (that.toolbar) {\n                            that.toolbar.focus();\n                        }\n                    });\n            },\n\n            _toolbar: function() {\n                var that = this;\n                var chatStyles = Chat.styles;\n                var options = extend(true, {}, that.options);\n                var element = that.wrapper.find(DOT + chatStyles.toolbarBoxWrapper + \"\");\n\n                that.options.toolbarId = kendo.guid();\n                element.attr(\"id\", that.options.toolbarId);\n\n                if (options.toolbar.scrollable === undefined$1) {\n                    this.options.toolbar.scrollable = options.toolbar.scrollable = true;\n                }\n\n                if (options.toolbar.toggleable === undefined$1) {\n                    this.options.toolbar.toggleable = options.toolbar.toggleable = false;\n                }\n\n                that.toolbar = new kendo.chat.ChatToolBar(element, options);\n\n                that.toolbar.bind(\"click\", function(ev) {\n                    that.trigger(\"toolClick\", {\n                        sender: that,\n                        name: ev.name,\n                        button: ev.button,\n                        messageBox: that.messageBox.input[0],\n                        originalEvent: ev.originalEvent\n                    });\n                });\n            },\n\n            postMessage: function(message) {\n                var postArgs = extend(true, {}, { text: message, type: \"message\", timestamp: new Date(), from: this.getUser() });\n\n                this.trigger(\"post\", postArgs);\n\n                this.renderMessage(postArgs, postArgs.from);\n            },\n\n            // TEST calling View renderMessage\n            renderMessage: function(message, sender) {\n                this.view.renderMessage(message, sender);\n            },\n\n            // TEST calling View renderSuggestedActions\n            renderSuggestedActions: function(suggestedActions) {\n                this.view.renderSuggestedActions(suggestedActions);\n            },\n\n            // TEST calling View renderCard\n            renderAttachments: function(options, sender) {\n                this.view.renderAttachments(options, sender);\n            },\n\n            toggleToolbar: function(skipAnimation) {\n                this.toolbar.toggle(skipAnimation);\n            },\n\n            renderUserTypingIndicator: function(sender) {\n                this.view._renderTypingIndicator(sender);\n            },\n\n            clearUserTypingIndicator: function(sender) {\n                this.view._removeTypingParticipant(sender);\n            },\n\n            removeTypingIndicator: function() {\n                this.view._removeTypingIndicator();\n            }\n        });\n\n        kendo.ui.plugin(Chat);\n\n        extend(true, Chat, { styles: chatStyles });\n\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}