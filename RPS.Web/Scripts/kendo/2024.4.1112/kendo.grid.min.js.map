{"version":3,"file":"kendo.grid.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Grid","Data","Columnsorter","Editable","Window","Filtermenu","Filtercell","Columnmenu","Groupable","Pager","Selectable","Sortable","Reorderable","Resizable","Ooxml","Excel","Pane","Pdf","Dialog","Switch","HtmlButton","Textbox","Form","Toolbar","Icons","Menu","Loader","HtmlLoadercontainer","LoaderContainerChunk","this","kendo_data_js","kendo_columnsorter_js","kendo_editable_js","kendo_window_js","kendo_filtermenu_js","kendo_filtercell_js","kendo_columnmenu_js","kendo_groupable_js","kendo_pager_js","kendo_selectable_js","kendo_sortable_js","kendo_reorderable_js","kendo_resizable_js","kendo_ooxml_js","kendo_excel_js","kendo_pane_js","kendo_pdf_js","kendo_dialog_js","kendo_switch_js","kendo_html_button_js","kendo_textbox_js","kendo_form_js","kendo_toolbar_js","kendo_icons_js","kendo_menu_js","kendo_loader_js","kendo_html_loadercontainer_js","kendo_loaderContainer_chunk_js","$","window","ContextMenu","ui","extend","encode","htmlEncode","ACTION","GridContextMenu","init","element","options","that","fn","call","_overrideTemplates","_extendItems","bind","_onSelect","_onOpen","templates","sprite","icon","spriteCssClass","iconClass","defaultItems","separator","name","create","text","command","rules","edit","destroy","select","items","softRules","copySelection","copySelectionNoHeaders","paste","reorderRow","exportPDF","exportExcel","sortAsc","sortDesc","moveGroupPrevious","moveGroupNext","events","concat","ev","item","data","split","map","val","indexOf","key","reduce","acc","v","Object","assign","target","action","menu","sender","elTarget","event","isEmptyObject","closest","length","preventDefault","_toggleSeparatorVisibility","find","attr","each","i","enable","_validateSoftRules","filter","prev","next","hide","isPlainObject","keys","_append","_extendItem","messages","j","forEach","subItem","commands","uid","guid","_readState","_validateRules","tool","state","states","isFunction","append","args","trigger","grid","jQuery","Command","Class","MoveGroupCommand","exec","groupable","method","dir","_change","SortCommand","idx","dataSource","sort","field","_getCellField","multipleMode","sortable","mode","compare","splice","push","AddCommand","addRow","EditCommand","inCellMode","_editMode","editCell","editRow","DeleteCommand","removeRow","CopySelectionCommand","withHeaders","copySelectionToClipboard","SelectRowCommand","selectMode","parseOptions","selectable","cell","SelectAllRowsCommand","rows","ClearSelectionCommand","clearSelection","ReorderRowCommand","newIndex","index","reorderRowTo","ExportPDFCommand","saveAsPDF","ExportExcelCommand","selection","exportSelectedToExcel","saveAsExcel","GridCommand","undefined$1","DataSource","ObservableObject","tbodySupportsInnerHtml","support","tbodyInnerHtml","activeElement","_activeElement","Widget","outerWidth","_outerWidth","outerHeight","_outerHeight","getType","type","grep","isArray","Array","inArray","prototype","contains","math","Math","DOT","PROGRESS","ERROR","DATA_CELL","DATA_CELL_HIDDENINCLUDED","NAVROW","NAVCELL","ITEMROW","COLGROUP","HEADERCELLS","CARET_ALT_DOWN","CARET_ALT_RIGHT","CARET_ALT_RIGHT_CACHE","NS","EDIT","BEFOREEDIT","SAVE","REMOVE","DETAILINIT","FILTERMENUINIT","COLUMNMENUINIT","FILTERMENUOPEN","COLUMNMENUOPEN","CELLCLOSE","CHANGING","CHANGE","COLUMNHIDE","COLUMNSHOW","SAVECHANGES","DATABOUND","DETAILEXPAND","DETAILCOLLAPSE","ITEM_CHANGE","PAGE","PAGING","PASTE","SCROLL","SYNC","LOAD_START","LOAD_END","REQUESTEND","FOCUSED","HOVER","ACTIVE","FOCUSABLE","SELECTED","CHECKBOX","CHECKBOXINPUT","NORECORDSCLASS","LINK_CLASS","ICON_CLASS","SVG_ICON_CLASS","ORDER_CLASS","SORTED_CLASS","HEADER_CLASS","HEADER_COLUMN_MENU_CLASS","FILTER_MENU_CLASS","STICKY_CELL_CLASS","STICKY_HEADER_CLASS","STICKY_FOOTER_CLASS","STICKY_HEADER_NO_BORDER_CLASS","GROUPING_ROW","RESIZE","ROWRESIZE","COLUMNRESIZE","COLUMNREORDER","COLUMNLOCK","COLUMNUNLOCK","COLUMNSTICK","COLUMNUNSTICK","ROWREORDER","NAVIGATE","CLICK","MOUSEDOWN","MOUSEUP","MOUSEENTER","MOUSELEAVE","MOUSEMOVE","DUBLECLICK","HEIGHT","WIDTH","AUTO","TABINDEX","FUNCTION","STRING","BOTTOM","CONTAINER_FOR","FIELD","INPUT","INCELL","INLINE","OVERFLOW","SORT","GROUP_SORT","COLLAPSE","EXPAND","ID","PX","TR","DIV","ARIA_LABEL","ARIA_OWNS","ARIA_ROWCOUNT","ARIA_COLCOUNT","ARIA_COLINDEX","ARIA_ROWINDEX","ARIA_EXPANDED","ARIA_CHECKED","ARIA_ACTIVEDESCENDANT","ROLE","NONE","ROW","ROWGROUP","COLUMNHEADER","GRIDCELL","formatRegExp","whitespaceRegExp","nonDataCellsRegExp","RegExp","filterRowRegExp","COMMANDBUTTONTMPL","className","DEFAULTSELECTCOLUMNTMPL","size","ariaLabel","SELECTCOLUMNTMPL","SELECTCOLUMNHEADERTMPL","DRAGHANDLECOLUMNTMPL","DEFAULTHEADERTEMPLATE","isRtl","browser","GroupsPager","isIE11","msie","version","isMac","test","navigator","userAgent","classNames","defaultBodyContextMenu","defaultHeadContextMenu","defaultGroupsContextMenu","useRanges","_omitPrefetch","totalPages","ceil","_collapsedTotal","pageSize","groupsTotal","VirtualScrollable","_refreshHandler","refresh","setDataSource","wrap","unbind","virtual","itemHeight","noop","prefetch","maxScrollHeight","wrapper","add","verticalScrollbar","off","clearTimeout","_timeout","_scrollingTimeout","drag","scrollbar","css","width","overflow","content","children","first","parent","on","_wheelScroll","_wrapper","kineticScrollNeeded","touch","UserEvents","allowSelection","start","e","capture","move","scrollTop","y","delta","scrollLeft","x","appendTo","_scroll","ctrlKey","wheelDeltaY","clientHeight","scrollHeight","delayLoading","currentTarget","rowHeight","skip","_rangeStart","height","innerHeight","isScrollingUp","_scrollbarTop","firstItemIndex","max","floor","lastItemOffset","lastItemIndex","_preventScroll","_prevScrollTop","_scrollTop","_scrolling","_fetch","setTimeout","_page","take","scrollToTop","_scrollTo","scrollToBottom","_scrollWrapperToTop","_scrollWrapperToBottom","_scrollWrapperOnColumnResize","initialScrollTop","scrollWidth","clientWidth","_wrapperScrolled","_isScrolledToBottom","_isWrapperScrolledToBottom","programmaticScrollPosition","_isScrolledToTop","parseInt","itemIndex","rowIndex","position","result","rangeStart","scrollIntoView","row","container","containerHeight","containerScroll","elementOffset","offsetTop","elementHeight","offsetHeight","scrollingUp","currentSkip","fetching","webkitCorrection","webkit","total","_isGroupPaged","_alwaysScrollTop","min","_fetching","callback","isGroupPaged","_groupRangeExists","inRange","range","repaintScrollbar","shouldScrollWrapper","totalHeight","maxHeight","wrapperElement","wasScrolledToBottom","addScrollBarHeight","offsetWidth","divElements","join","empty","cancel","page","_programmaticallyScrolling","resolve","attrEquals","attrName","attrValue","groupCells","count","stringifyAttributes","attributes","defaultCommands","save","themeColor","update","canceledit","excel","pdf","search","columns","fillMode","cursor","context","value","document","body","reorder","selector","source","dest","before","sourceIndex","eq","elements","lockedContent","attachCustomCommandEvent","commandName","click","replace","normalizeColumns","encoded","locked","parentIds","column","hidden","Function","_attributesFunction","isVisible","addHiddenStyle","footerAttributes","headerAttributes","removeHiddenStyle","headers","id","columnParent","parents","columnParents","inserted","setColumnVisibility","visible","setVisibility","show","setColumnMediaVisibility","setColumnMatchesMedia","_hideByMedia","matchesMedia","columnMatchesMedia","isUndefined","media","isCellVisible","style","display","classList","visibleColumns","columnsWithMedia","minScreenWidth","Error","toJQuery","toArray","findColumnByField","moveCellsBetweenContainers","sources","leafs","destination","groups","sourcesDepth","depth","targetDepth","insertAfter","last","cells","rowSpan","addRowSpanValue","moveCells","updateCellIndex","thead","offset","allColumns","leafColumns","el","hasClass","columnPosition","temp","sourcePosition","columnVisiblePosition","ths","t","cellCounts","decorateCellWithClass","html","classes","match","cssClasses","pop","findReorderTarget","masterColumns","parentColumns","rtl","targetLocked","findParentColumnWithChildren","targetIndex","flatColumnsInDomOrder","flatColumns","lockedColumns","nonLockedColumns","targetParentContainerIndex","hiddenLeafColumnsCount","counter","sumWidths","cols","columnsWidth","colWidth","removeEmptyRows","emptyRowsCount","remove","mapColumnToCellRows","setLeftAndRightStyles","left","right","createColumnAttribute","attribute","property","addColumnAttribute","removeColumnAttribute","removeAttributeProperty","stickyColumns","sticky","visibleNonLockedColumns","visibleLockedColumns","visibleLeafColumns","visibleLeafExportColumns","values","title","childColumns","visibleChildColumns","getColumnsFields","editField","format","editor","editorOptions","label","leafDataCells","indexAttr","a","b","indexA","indexB","parentColumnsCells","headerRows","level","parentCellsWithChildren","prevCells","prevAll","colSpan","parentCell","getAttribute","childColumnsCells","colSpanAttr","child","appendContent","tbody","table","placeholder","tmp","$html","applyStylesFromKendoAttributes","_","appendChild","createElement","innerHTML","addClass","getValidCssClass","firstChild","replaceChild","kendoStyleAttrObject","normalizeCols","hasDetails","colgroup","draggable","is","prepend","convertToObject","array","formatGroupValue","columnValues","groupValue","usedValue","setCellVisibility","pad","hideColumnCells","columnIndex","groupRows","hasSubgroups","showColumnCells","updateColspan","toAdd","toRemove","num","tableWidth","DataBoundWidget","_events","_element","_ariaId","_columns","_foreignKeyPromises","when","apply","then","_continueInit","_dataSource","_stickyColumns","_tbody","_thead","_rowResizing","_groupable","_toolbar","columnsToolbarButton","_globalColumnsMenu","_pageable","_setContentHeight","_templates","_navigatable","_initSelectableAggregates","_selectable","_statusBar","_clipboard","_paste","_details","_editable","_attachCustomCommandsEvent","_adaptiveColumns","_minScreenSupport","autoBind","fetch","_group","_groups","_footer","contextMenu","_initContextMenu","_resizeHandler","resize","_initLoader","notify","_showWatermarkOverlay","scrollableContent","scrollable","leftMostPosition","virtualScrollable","navigatable","toolbar","filterable","allowCopy","allowPaste","pageable","persistSelection","editable","encodeTitles","rowTemplate","altRowTemplate","statusBarTemplate","noRecords","resizable","reorderable","columnMenu","detailTemplate","columnResizeHandleWidth","mobile","loaderType","loader","loading","exporting","cancelDelete","confirmation","confirmDelete","selectRow","selectAllRows","reorderRowUp","reorderRowDown","reorderRowTop","reorderRowBottom","exportPdf","exportToExcelAll","exportToExcelSelection","exportToExcelSelectionNoHeaders","expandCollapseColumnHeader","groupHeader","ungroupHeader","itemsSelected","dragHandleLabel","toolbarLabel","groupingHeaderLabel","filterCellTitle","reorderableInstance","_destroyColumnAttachments","_navigatableTables","_headertables","pager","timer","_progressTimeOut","_collapseGroupsTimeOut","_endlessFetchTimeOut","_destroyGroupable","pasteHandler","pasteActionsDropDownList","clearArea","_selectedIds","copyHandler","updateClipBoardState","clearAreaHandler","_selectableAggregatesOptions","_resizeUserEvents","_resizeHandleDocumentClickHandler","_destroyRowResizing","_destroyVirtualScrollable","editableUserEvents","_lockedContentUserEvents","_destroyEditable","_progressHandler","_errorHandler","_clearSortClasses","_sortHandler","scrollables","lockedHeader","_removeLockedContainers","pane","_isMobile","minScreenResizeHandler","_detachColumnMediaResizeHandler","_draggableInstance","_draggableRowsInstance","tbodyContextMenu","theadContextMenu","lockedRowTemplate","lockedAltRowTemplate","footerTemplate","groupFooterTemplate","lockedGroupFooterTemplate","noRecordsTemplate","statusBar","footer","lockedTable","lockedFooter","_groupableClickHandler","_groupRows","_setContentWidthHandler","loaderOverlay","wrapperClone","getOptions","deepExtend","initialData","_data","group","aggregate","transport","setOptions","currentOptions","mobileWrapper","roleSelector","after","removeClass","_setEvents","_items","includeGroupRows","tr","dataItems","n","resizeHandle","th","filterMenu","_aria","tbodyId","headerGroupId","footerGroupId","tableOwned","rowsCount","gridRole","_hasDetails","groupingHeader","gridId","_ariaGridId","tableTabindex","numberOfFixedRows","trailingColumns","_trailingColumns","virtualScroll","_ariaRowIndex","_ariaColumnIndex","role","_ariaHeaderFooter","_ariaLockedContent","_ariaGroupTitles","previousIndex","dataIndex","cellsIndex","dataVirtual","not","lockedHeaderRows","firstIndex","Number","MAX_VALUE","lastIndex","lockedLastIndex","previousVirtual","nextVirtual","eachHeaderCell","current","currentIndex","lockedParent","setAttribute","rowGroup","groupId","_ariaLocked","_cellId","lockedRows","ownedCells","_cellsIds","tableRows","_ariaAddHiddenColIndex","leafColsCount","_ariaRemoveHiddenColIndex","removeAttr","currentRow","numberOfHeaderRows","bodyRows","footerRows","totalNumberOfItems","previousItems","previousMaster","prefix","_createResizeHandle","headerWrap","ieCorrection","leftMargin","leftBorderWidth","top","indicatorWidth","halfResizeHandle","rtlCorrection","mozilla","parseFloat","_autoFitLeafColumn","_positionColumnResizeHandle","lockedHead","button","buttons","which","hasAttribute","_resizeHandleDocumentClick","_resetResizeHandleHeader","_hideResizeHandle","_positionColumnResizeHandleTouch","threshold","minHold","hold","resizeColumn","columnWidth","col","isLocked","isHidden","mobileOS","contentTable","header","columnMinWidth","minResizableWidth","gridWidth","constrain","totalWidth","_footerWidth","_scrollVirtualWrapperOnColumnResize","_applyLockedContainersWidth","_syncLockedContentHeight","_syncLockedHeaderHeight","_updateStickyColumns","_adjustColWidths","colWidths","_resizable","columnStart","isMobile","handle","hint","footerTable","location","rtlMultiplier","currentWidth","resizeend","newWidth","oldWidth","_addLockedRowResizing","_getMinRowHeight","minHeight","currentMinHeight","_cacheRowHeight","_cachedRowsHeight","_clearCachedRowsHeight","_mapCachedRowsHeight","input","ds","output","_rowResizerDblClick","newHeight","resizer","rowResizer","oldHeight","rowPair","pairMinHeight","_setupRowResizer","_attachRowResizerEvents","isIn","_getResizerTop","inner","paddingTop","getComputedStyle","_getResizerContainer","_createRowResizer","targetHeight","positionIntarget","offsetY","previousRow","_detachRowResizerEvents","_mapResizedRows","multiSelectionLocked","pairNew","pairMin","r","rowStart","rowResizing","_draggable","kendoDraggable","autoScroll","dragstart","dragend","_reorderable","kendoReorderable","dropFilter","dragOverContainers","lockable","inSameContainer","sourceParent","targetParent","_isLocked","change","oldIndex","reorderColumn","_reorderHeader","destPosition","sourceLockedColumnsCount","lockedColumnDepth","nonLockedColumnDepth","sourceLockedColumns","targetLockedColumns","_reorderContent","headerCol","footerCol","beforeVisibleColumn","visibleSources","destIndex","colSourceIndex","colDest","lockedCount","columnsArray","_findClosestVisibleColumnIndex","slice","_hasFilterRow","_hasVirtualColumns","reverse","closestVisibleColumn","leafIndex","autoFitColumn","_hasReorderableRows","_draggableRows","_checkBoxSelection","clickMoveClick","_hasDragHandleColumn","holdToDrag","showHintOnHold","preventOsHoldFeatures","clone","elm","innerText","cursorOffset","_reorderableRows","smartPosition","allowIcon","orientation","reorderDropCue","positionDropCue","dropTarget","firstCellLeft","getOffset","transform","externalDraggable","_triggerRowRorder","reorderRows","dataItem","pushMove","rowsLength","targetItem","_rowDropping","autoFitColumns","headerTable","leafCols","minWidth","contentDiv","thWidth","visibleLocked","notGroupOrHierarchyCol","notGroupOrHierarchyVisibleCell","tables","safari","oldColumnWidth","newColumnWidth","lockChanged","destColumn","groupHeaderColumnTemplateColumns","groupHeaderColumnTemplate","sourceColumns","_updateLockedCols","_updateCols","_updateColumnCellIndex","_updateColumnSorters","_renderGroupRows","_updateTablesWidth","_updateFirstColumnClass","lockColumn","unstickColumn","unlockColumn","stickColumn","_removeStickyAttributes","_removeStickyStyles","_anyStickyColumns","_updateStickyFilterCells","cellIndex","td","lockedColumnOffset","_modelForContainer","getByUid","_calculateColumnIndex","virtualOffset","useDoubleTapEditing","userEventsPreventDefault","ios","_isEditableEnabled","readonly","_removeEditableClickHandlers","editContainer","_editContainer","_mousedownOnEditCell","supportDoubleTap","fastTap","isLockedCell","has","end","closeCell","_requestInProgress","_scrollVirtualWrapper","shouldCloseCell","_virtualColScroll","handler","_editCommandClickHandler","_editCommandClick","_isVirtualInlineEditable","_removeCommandClickHandler","_removeCommandClick","_belongsToGrid","stopPropagation","_confirmation","model","isColumnEditable","_attachModelChange","_shouldClearEditableState","_clearEditableState","kendoEditable","fields","skipFocus","_isVirtualIncellEditable","_editableState","new","adjustRowHeight","_relatedRow","_syncLockedScroll","enableEditing","addButton","getKendoButton","_createClickHandler","disableEditing","cancelRow","_adjustLockedHorizontalScrollBar","touchScroller","_adjustRowsHeight","table1","table2","diff","lockedHeigth","tableHeigth","syncTableHeight","_syncLockedFooterHeight","editView","_editCancelClickHandler","_editUpdateClickHandler","_detachModelChange","_destroyEditView","_editableIsClosing","close","_confirmDialog","purge","navigate","_modelChangeHandler","_modelChange","isCancel","errors","validatable","dirtyFields","relatedTr","_displayCell","ns","storage","settings","Template","templateSettings","tmpl","template","_cellTmpl","_removeRow","schema","_removeGroupIfEmpty","_getSchemaIdField","sync","_createPopupEditor","_createInlineEditor","_editCancelClick","_editUpdateClick","saveRow","_setCurrent","focusTable","_editFields","updateText","cancelText","updateIconClass","cancelIconClass","tempCommand","editMenuGuid","unescape","getCommand","renderButton","updateButton","_createButton","skipCommandClass","cancelButton","kendoWindow","modal","_footerTemplate","outerHTML","userTriggered","clearContainer","buttonsTemplate","formData","buttonsHTML","_openPopUpEditor","windowEditor","windowOptions","_editAnimation","center","open","cancelChanges","_displayRow","valid","deferred","Deferred","reject","promise","related","newRow","nextRow","isSelected","isAlt","replaceWith","_showMessage","Confirm","preventScroll","closable","okText","done","fail","confirmDialog","confirm","_shouldMapHights","_isVirtualEditable","_virtualPageToTop","saveChanges","createAt","view","createAtBottom","toLowerCase","virtualEditable","serverPaging","_removeCurrent","_virtualAddRow","insert","_editModel","_firstEditableColumnIndex","_virtualAddRowAtBottom","_virtualAddRowAtTop","at","_virtualPageToBottom","_virtualPage","_clickAdd","_clickCancel","_clickExcel","_isExport","_progress","always","_clickPdf","_pdfInitialized","_clickSave","_searchInput","_searchTimeOut","searchFields","expression","filters","logic","endless","_endlessPageSize","_pushExpression","_pasteToolbarDropDown","kendoDropDownList","dataTextField","dataValueField","_allowFilterPaste","isServerFiltering","serverFiltering","defaultOperators","string","number","date","enums","boolean","operator","modelInfo","reader","fieldInfo","parseFn","parse","_addClickHandler","_cancelClickHandler","_saveClickHandler","_excelClickHandler","_pdfClickHandler","_serachHandler","_attachToolbarClicks","prependTo","_processItems","kendoToolBar","navigateOnTab","tools","itemsCollectionHasSpacer","searchText","_processAttr","keyValue","replaceAll","attributeClassMatch","compiledAttributes","_hasFooters","groupRow","collapseGroup","expandGroup","_attachGroupable","draggables","enabled","chrome","groupContainer","draggableElements","allowDrag","enableContextMenu","removeGroup","_showUngroupedColumn","_hideGroupedColumns","_resetEndless","_addGroupableOptionsToHeader","colID","hideOnGroup","showColumn","hideColumn","_skip","_pageSize","_take","headerCell","columnOptions","columnFieldMap","headerCells","_headerCells","kendoGroupable","_removeGroupableOptionsFromHeader","removeData","_continuousItems","lockedItems","nonLockedItems","multi","notString","hasSkeletonLoader","checkboxSelection","multiple","aria","toggleable","dragToSelect","changing","originalEvent","selectedValues","_persistSelectedRows","_uncheckCheckBoxes","_checkRows","_toggleHeaderCheckState","_calculateAggregatesForSelected","cellAggregates","_cellAggregates","useAllItems","relatedTarget","continuousItems","ignoreOverlapped","addIdToRanges","triggerChange","lastSelection","eventObject","keyCode","SPACEBAR","shiftKey","_deselectCheckRows","clear","_lastActive","LEFT","RIGHT","UP","DOWN","selectRange","_firstSelectee","toCompare","compareElements","_pasteReplaceHandler","plain","currentRowUid","currentField","uids","f","nextAll","_executePaste","_pasteInsertHandler","dataItemIndex","selectedUids","_getSelectedRowUids","selectedColumnFields","_getSelectedColumnFields","changedItems","startingIndex","c","set","dirty","_pasteKeyboardHandler","rowUid","clipBoardData","clipboardData","operation","getData","trimEnd","_currentRowIndex","_restoreCurrent","stopImmediatePropagation","tableClick","areaClipBoard","getTSV","includeHeaders","_createAreaClipBoard","execCommand","Event","metaKey","getSelection","toString","createRange","opacity","selected","delimeter","hasLockedCols","cellsOffset","lockedCols","inLockedArea","findIndex","cellText","rowsOffset","getTitle","headerIndex","_anyColumnHasMediaQuery","_setColumnsMediaVisibility","_attachColumnMediaResizeHandler","_columnsWithMediaQuery","_columnMediaResizeHandler","_onColumnMediaResize","_setContentMediaWidth","_setColumnMediaVisibility","_showColumnByMedia","_hideColumnByMedia","initiallyHidden","headerColumns","headerColgroup","headerColumnsCount","visibleHeaderColumnsCount","hiddenHeaderColumnsCount","totalHeaderWidth","currentHeaderWidth","colgroupChild","columnStyleWidth","hideMinScreenCols","screenWidth","innerWidth","screen","_iterateMinScreenCols","any","_setStickyColumns","filterCells","stickyStyle","updateStyles","visibleStickyColumns","stickyWidths","_calculateStickyWidths","_setStickyClassAttributes","_setStickyStyleAttributes","_setStickyStyles","initialLeftWidth","initialRightWidth","nextColumnLeft","nextColumnRight","fill","_sumColumnWidth","masterIndex","stickyLeft","stickyRight","childCols","childStickyWidths","cellClassRegExp","headerClassRegExp","footerClassRegExp","headerClassNoBorderRegExp","leafsCols","_getColumnHeader","groupHeaderColumnTemplateClass","_sumCurrentWidths","getSelectedData","selectedRanges","selectedRangeNames","selectedSingleItems","_mapSelectionToData","getSelectedDataByKeys","selectedKeyNames","columnMapHandler","get","ooxml","exporter","ExcelExporter","book","sheets","autoWidth","freezePane","exportData","sortHandler","exportDataSort","isExcelExportableColumn","_addRangeSelectionRows","_addSingleSelectionRows","workbook","Workbook","skipCustomHeight","toDataURLAsync","dataURI","saveAs","fileName","proxyURL","forceProxy","exporterInstance","_instance","_setExporterColumns","_createExportRows","_rows","_dataRows","_prepareColumn","columnsFilter","ignoreOffset","curr","isRowSelection","nodeName","fieldAttr","indexOffset","_relatedCell","_parseSelectableAggregatesOptions","sum","average","earliest","latest","isTrue","isFalse","selectedData","cellsLength","columnFields","isCellSelection","numberAggregates","dateAggregates","booleanAggregates","$cell","hasCheckbox","hasWrappedCheckbox","Date","checked","prop","rangeSelectedAttr","modelId","allRows","selectedViewIds","ids","_updateCurrentAttr","nextId","descId","headerId","_current","_scrollCurrent","tableContainer","isInLockedContainer","isInContent","scrollableContainer","addBack","_rowVirtualIndex","_findGroupedItem","idField","_findClosestGroupingRow","htmlRow","hiddenGroupingRows","targetRow","rowsToTarget","prevSibling","previousSibling","_checkItemAlreadyLoaded","ranges","_ranges","loadedItem","scrollToItem","rootGroupingRow","previouslyScrolledItems","_scrolledItems","groupingRowHeight","targetRowIsHidden","currentView","success","isNaN","itemLoaded","lastRowOffsetTop","scrollPosition","_scrollingUp","_scrollOffset","hiddenGroupingRowsOffset","wrapperPosition","scrollerPosition","prevScrollDown","scrollingDownOffset","prevScrollUp","scrollingUpOffset","preventTrigger","_filterFocusable","siblings","colspan","_virtualCellIndex","_lastCellIndex","_updateSelctCheckbox","nextCheckbox","elementToLowercase","tagName","isHorizontal","elementOffsetDir","containerOffsetDir","abs","offsetLeft","bottomDistance","firefoxCorrection","edge","dataTables","headerTables","_tableFocus","_tableBlur","_tableKeyDown","_filterFocus","_findCellIndex","startIndex","reversed","_scrollToColumn","HOME","END","currentTable","requestInProgress","canHandle","isDefaultPrevented","altKey","handled","F10","_focusToolbar","_moveUp","_moveDown","_moveRight","_moveLeft","PAGEDOWN","_handlePageDown","PAGEUP","_handlePageUp","_handleHome","_handleEnd","_handleSpaceKey","ENTER","F2","_handleEnterKey","ESC","_handleEscKey","TAB","_handleTabKey","focusable","collapseRow","_moveColumn","_prevHorizontalCell","_tabNext","_horizontalContainer","expandRow","_nextHorizontalCell","_prevVerticalCell","_verticalContainer","_nextVerticalCell","_findVisibleCell","isLeft","ctrl","rowContainer","isInLockedTable","isInBody","filterFocusable","_handleEditing","active","isInCell","blur","_toggleCurrent","descriptors","aggregates","_canDrag","link","originalIndex","cellToFocus","_currentDataIndex","lockedColumnsCount","$newFocus","hiddenCount","prevUntil","nextCell","originalRow","up","step","back","switchRow","isEdited","isIE","focus","_initMobile","groupsContextMenu","head","mainOptions","_action","_buildStates","showOn","isEditable","isSelectable","isSortable","isRowReorderable","isGroupable","alwaysDisabled","hasSelection","isSorted","canMoveGroupPrev","canMoveGroupNext","commandOptions","_createPane","viewEngine","viewOptions","renderOnInit","wrapInSections","detachOnHide","detachOnDestroy","defaultOptions","kendoLoader","_loaderContainer","u","_scrollable","asLowerString","parseVirtualSettings","insertBefore","_createVirtualScrollable","_scrollLeft","isScrollingLeft","originalPageSize","_endlessFetchInProgress","_skipRerenderItemsCount","_cacheEditableState","_restoreEditableState","movable","one","_averageRowHeight","scroll","_focusEditable","loadStart","loadEnd","_onVirtualPaging","_isVirtualPopupEditable","editableState","editedModel","inlineMode","incellMode","virtualColumns","_getByUid","editedField","_canFocusEditable","isElementVisibleInWrapper","widget","widgetInstance","_renderNoRecordsContent","noRecordsElement","_setContentWidth","expander","hiddenDivClass","hiddenDiv","calculateGroupWidth","footerWrap","contentWidth","nonLockedCols","nonLockedColsWidth","initialHeight","scrollableHeight","itemsCount","_rowHeight","_sum","_measures","currentRowHeight","_requestEndHandler","_requestStart","_requestEnd","_error","relatedRow","selectableRow","childCells","originalCells","tmpResult","pagerWrap","_groupPaging","_togglePagerVisibility","_wrapFooter","_appendLockedColumnFooter","footerRow","_appendCols","menuOptions","autoSize","clearAllFilters","columnsExpanderOptions","expanded","animation","hideExpanderIndicator","hideAutoSizeColumn","owner","closeCallback","componentType","kendoColumnMenu","_columnMenu","hasMultiColumnHeaders","hasLockableColumns","hasStickableColumns","stickable","initCallback","openCallback","stickCallback","unstickCallback","filterHandler","forceUnique","checkSource","stick","unstick","filtering","_hasFilterMenu","_filterable","filterInit","filterOpen","columnFilterable","kendoFilterMultiCheck","kendoFilterMenu","_filterRow","rowheader","_updateHeader","suggestDataSource","operators","customDataSource","cellOptions","delay","inputWidth","suggestionOperator","minLength","showOperators","kendoFilterCell","_sortable","sorterInstance","kendoColumnSorter","draggableColumns","initialColumns","len","normalizeHeaderCells","_updateColumnIDs","_checkboxClick","_headerCheckboxClick","_foreignKeyBindings","_fetchForeignKeyValues","_hasBoundForeignKey","checkBox","isSelecting","_tmpl","alt","skipGroupCells","classAttribute","paramName","rowTemplateFunc","getter","rowTemplateResult","dirtyCellTemplate","_dirtyCellTemplate","columnAttributes","colSpanAttributes","charAt","_headerCellText","headerTemplate","_dirtyIndicatorTemplate","useWithBlock","fieldValue","_virtualCols","considerNext","widths","sumOfWidths","colsToRender","firstColspan","lastColspan","hiddenColumns","widthOfHiddenColumns","virtualCols","columnLeafs","columnsLocked","groupHeaderColumnTemplateLockedColumns","groupHeaderColumnTemplateNonLockedColumns","_detailTmpl","_footerTmpl","g","_groupHeaderTmpl","lockedGroupHeaderColumnTemplate","_noRecordsTmpl","scrollableNoGridHeightStyles","resultTemplate","currentCustomTemplate","templateName","rowClass","scope","fieldsMap","_emptyAggregates","headerTemplateIndex","resultHtml","groupCellBuilder","groupCellLockedContentBuilder","stickyAttributes","templateFunctionStorage","templateFunctionCount","hasFiltering","columnsWithoutFiltering","_toggleDetails","omitAnimation","detailRow","expanding","masterRow","masterRowIndex","ariaLabelText","ariaExpandText","detailCell","toggle","correctIdx","classesRegEx","sectionRowIndex","_createHeaderCells","currentTh","isGroupedBy","_appendLockedColumnContent","spanIdx","skipHiddenCount","colOffset","detach","lockedCells","_appendLockedColumnHeader","filtercellCells","hasFilterRow","filterCellOffset","leafColumnsCount","removeRowSpanValue","syncHeight","hasTHead","headerContent","_updateHeadersAttr","_prepareColumns","filterRow","existingFilterRow","hasLockedColumns","_retrieveFirstColumn","parentRow","childRow","totalColSpan","_updateHeaderCols","_autoColumns","toJSON","_setRowCachedHeight","$row","cachedHeight","_rowsHtml","cachedHeights","_groupData","skipFooter","firstColumn","footerDefaults","_groupAggregatesDefaultObject","groupItems","headerData","footerData","subgroupsCount","_groupRowHtml","groupHeaderBuilder","skipColspan","skipLastGroup","isLockedTable","groupData","firstVisibleColumnGroupHeaderTemplate","groupHeaderTemplate","currentItems","_groupsState","isNew","excludeHeader","templateColspan","groupHtmlBuilder","_skippedGroups","shift","groupToCollapse","footerCount","showFooter","relatedGroup","groupCountAfterCollapse","groupUid","groupObject","_getGroupByUid","currentGroupCount","_calculateGroupsTotal","_serverGroupsTotal","_currentRangeStart","toHide","_groupToCollapse","footersVisibility","groupsCount","groupCountAfterExpand","groupCount","toggleVisibility","_firstDataItem","grouped","headerCellIndex","_columnVisibilitySetter","_setParentsVisibility","_updateContentWidth","predicate","p","originalColumn","columnLeafIndex","_buildSkeleton","loaderHTML","columnsCount","skeleton","message","progress","_resize","force","_isActiveInTable","contentScrollLeft","cachedItemsToSkip","isCurrentInHeader","multiColumnHeaderIndex","partialUpdate","flatView","changedItem","_renderContent","_renderLockedContent","contentResized","resetTouchEvents","_restoreSelection","selectedRows","dataItemKey","vc","_cleanupDetailItems","endlessAppend","flatViewLength","groupRowLockedContentBuilder","groupRowBuilder","groupRowBuilderFunc","groupHeaderData","prevElement","newGroupRowElement","firstColumnGroupData","alwaysVisible","rows2","containers","containersLength","heights","offsetHeight1","offsetHeight2","row1","row2","direct","focusElement","isInputElement","isHeader","isInput","activeEl","halfHeight","collapsedClass","includeAdditionalData","backslashEscapeQuotes","exportable","ExcelMixin","PDFMixin","_drawPDF_autoPageBreak","allPages","origBody","cont","toggleUnexportableColumns","paddingRight","startingPage","draw","_destructive","pageNumber","pageNum","drawing","drawDOM","err","renderPage","restore","visibleInExport","visibleInExportOnly","_toggledDuringExport","_drawPDF","paperSize","doc","Group","exportPage","_drawPDFShadow","avoidLinks","plugin","kendo$1","__meta__","category","description","depends","features","default","defineProperty"],"sources":["kendo.grid.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function (global, factory) {\n   typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.data.js'), require('kendo.columnsorter.js'), require('kendo.editable.js'), require('kendo.window.js'), require('kendo.filtermenu.js'), require('kendo.filtercell.js'), require('kendo.columnmenu.js'), require('kendo.groupable.js'), require('kendo.pager.js'), require('kendo.selectable.js'), require('kendo.sortable.js'), require('kendo.reorderable.js'), require('kendo.resizable.js'), require('kendo.ooxml.js'), require('kendo.excel.js'), require('kendo.pane.js'), require('kendo.pdf.js'), require('kendo.dialog.js'), require('kendo.switch.js'), require('kendo.html.button.js'), require('kendo.textbox.js'), require('kendo.form.js'), require('kendo.toolbar.js'), require('kendo.icons.js'), require('kendo.menu.js'), require('kendo.loader.js'), require('kendo.html.loadercontainer.js'), require('kendo.loaderContainer.chunk.js')) :\n   typeof define === 'function' && define.amd ? define(['exports', 'kendo.data', 'kendo.columnsorter', 'kendo.editable', 'kendo.window', 'kendo.filtermenu', 'kendo.filtercell', 'kendo.columnmenu', 'kendo.groupable', 'kendo.pager', 'kendo.selectable', 'kendo.sortable', 'kendo.reorderable', 'kendo.resizable', 'kendo.ooxml', 'kendo.excel', 'kendo.pane', 'kendo.pdf', 'kendo.dialog', 'kendo.switch', 'kendo.html.button', 'kendo.textbox', 'kendo.form', 'kendo.toolbar', 'kendo.icons', 'kendo.menu', 'kendo.loader', 'kendo.html.loadercontainer', 'kendo.loaderContainer.chunk'], factory) :\n   (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Grid = {}), global.kendo._globals.Data, global.kendo._globals.Columnsorter, global.kendo._globals.Editable, global.kendo._globals.Window, global.kendo._globals.Filtermenu, global.kendo._globals.Filtercell, global.kendo._globals.Columnmenu, global.kendo._globals.Groupable, global.kendo._globals.Pager, global.kendo._globals.Selectable, global.kendo._globals.Sortable, global.kendo._globals.Reorderable, global.kendo._globals.Resizable, global.kendo._globals.Ooxml, global.kendo._globals.Excel, global.kendo._globals.Pane, global.kendo._globals.Pdf, global.kendo._globals.Dialog, global.kendo._globals.Switch, global.kendo._globals.HtmlButton, global.kendo._globals.Textbox, global.kendo._globals.Form, global.kendo._globals.Toolbar, global.kendo._globals.Icons, global.kendo._globals.Menu, global.kendo._globals.Loader, global.kendo._globals.HtmlLoadercontainer, global.kendo._globals.LoaderContainerChunk));\n})(this, (function (exports, kendo_data_js, kendo_columnsorter_js, kendo_editable_js, kendo_window_js, kendo_filtermenu_js, kendo_filtercell_js, kendo_columnmenu_js, kendo_groupable_js, kendo_pager_js, kendo_selectable_js, kendo_sortable_js, kendo_reorderable_js, kendo_resizable_js, kendo_ooxml_js, kendo_excel_js, kendo_pane_js, kendo_pdf_js, kendo_dialog_js, kendo_switch_js, kendo_html_button_js, kendo_textbox_js, kendo_form_js, kendo_toolbar_js, kendo_icons_js, kendo_menu_js, kendo_loader_js, kendo_html_loadercontainer_js, kendo_loaderContainer_chunk_js) {\n   (function($, undefined$1) {\n       var kendo = window.kendo,\n           ui = kendo.ui,\n           ContextMenu = ui.ContextMenu,\n           extend = $.extend,\n           encode = kendo.htmlEncode;\n\n       var ACTION = \"action\";\n\n       var GridContextMenu = ContextMenu.extend({\n           init: function(element, options) {\n               var that = this;\n\n               ContextMenu.fn.init.call(that, element, options);\n\n               that._overrideTemplates();\n               that._extendItems();\n\n               that.bind(\"select\", that._onSelect.bind(that));\n               that.bind(\"open\", that._onOpen.bind(that));\n           },\n\n           _overrideTemplates: function() {\n               this.templates.sprite = ({ icon, spriteCssClass }) => `${(icon || spriteCssClass) ? kendo.ui.icon({ icon: encode(icon || \"\"), iconClass: encode(spriteCssClass || \"\") }) : ''}`;\n           },\n\n           defaultItems: {\n               \"separator\": { name: \"separator\", separator: true },\n               \"create\": { name: \"create\", text: \"Add\", icon: \"plus\", command: \"AddCommand\", rules: \"isEditable\" },\n               \"edit\": { name: \"edit\", text: \"Edit\", icon: \"pencil\", command: \"EditCommand\", rules: \"isEditable\" },\n               \"destroy\": { name: \"destroy\", text: \"Delete\", icon: \"trash\", command: \"DeleteCommand\", rules: \"isEditable\" },\n               \"select\": { name: \"select\", text: \"Select\", icon: \"table-body\", rules: \"isSelectable\", items: [\n                   { name: \"selectRow\", text: \"Row\", icon: \"table-row-groups\", command: \"SelectRowCommand\" },\n                   { name: \"selectAllRows\", text: \"All rows\", icon: \"grid\", command: \"SelectAllRowsCommand\" },\n                   { name: \"clearSelection\", text: \"Clear selection\", icon: \"table-unmerge\", softRules: \"hasSelection\", command: \"ClearSelectionCommand\" },\n               ] },\n               \"copySelection\": { name: \"copySelection\", text: \"Copy selection\", icon: \"page-header-section\", rules: \"isSelectable\", softRules: \"hasSelection\", command: \"CopySelectionCommand\", options: \"withHeaders\" },\n               \"copySelectionNoHeaders\": { name: \"copySelectionNoHeaders\", text: \"Copy selection (No Headers)\", icon: \"file-txt\", rules: \"isSelectable\", softRules: \"hasSelection\", command: \"CopySelectionCommand\" },\n               \"paste\": { name: \"paste\", text: \"Paste (use CTRL/⌘ + V)\", rules: \"allowPaste\", softRules: \"alwaysDisabled\", icon: \"clipboard\" },\n               \"reorderRow\": { name: \"reorderRow\", text: \"Reorder row\", icon: \"caret-alt-expand\", rules: \"isRowReorderable\", softRules: \"isSorted\", items: [\n                   { name: \"reorderRowUp\", text: \"Up\", icon: \"caret-alt-up\", command: \"ReorderRowCommand\", options: \"dir:up\" },\n                   { name: \"reorderRowDown\", text: \"Down\", icon: \"caret-alt-down\", command: \"ReorderRowCommand\", options: \"dir:down\" },\n                   { name: \"reorderRowTop\", text: \"Top\", icon: \"caret-alt-to-top\", command: \"ReorderRowCommand\", options: \"dir:top\" },\n                   { name: \"reorderRowBottom\", text: \"Bottom\", icon: \"caret-alt-to-bottom\", command: \"ReorderRowCommand\", options: \"dir:bottom\" }\n               ] },\n               \"exportPDF\": { name: \"exportPDF\", text: \"Export to PDF\", icon: \"file-pdf\", command: \"ExportPDFCommand\" },\n               \"exportExcel\": { name: \"exportExcel\", text: \"Export to Excel\", icon: \"file-excel\", items: [\n                   { name: \"exportToExcelAll\", text: \"All\", command: \"ExportExcelCommand\" },\n                   { name: \"exportToExcelSelection\", text: \"Selection\", command: \"ExportExcelCommand\", softRules: \"hasSelection\", options: \"selection,withHeaders\" },\n                   { name: \"exportToExcelSelectionNoHeaders\", text: \"Selection (No Headers)\", softRules: \"hasSelection\", command: \"ExportExcelCommand\", options: \"selection\" }\n               ] },\n               \"sortAsc\": { name: \"sortAsc\", text: \"Sort Ascending\", icon: \"sort-asc-small\", rules: \"isSortable\", command: \"SortCommand\", options: \"dir:asc\" },\n               \"sortDesc\": { name: \"sortDesc\", text: \"Sort Descending\", icon: \"sort-desc-small\", rules: \"isSortable\", command: \"SortCommand\", options: \"dir:desc\" },\n               \"moveGroupPrevious\": { name: \"moveGroupPrevious\", text: \"Move previous\", icon: \"arrow-left\", rules: \"isGroupable\", softRules: \"canMoveGroupPrev\", command: \"MoveGroupCommand\", options: \"dir:prev\" },\n               \"moveGroupNext\": { name: \"moveGroupNext\", text: \"Move next\", icon: \"arrow-right\", rules: \"isGroupable\", softRules: \"canMoveGroupNext\", command: \"MoveGroupCommand\", options: \"dir:next\" }\n               // \"filter\": { name: \"filter\", text: \"Filter\", icon: \"filter\", attr: { [kendo.attr(\"is-filter\")]: true }, items: [\n               //     { content: '<div class=\"k-columnmenu-item-wrapper\"><div class=\"k-columnmenu-item-content k-column-menu-filter\"><div class=\"k-filterable\"></div></div></div>' }\n               // ] },\n           },\n\n           events: ContextMenu.fn.events.concat([\n               ACTION\n           ]),\n\n           _onSelect: function(ev) {\n               var command = $(ev.item).data(\"command\");\n               var options = $(ev.item).data(\"options\");\n                   options = options ? options.split(\",\")\n                   .map(val => {\n                       if (val.indexOf(\":\") > -1) {\n                           var [key, val] = val.split(\":\");\n                           return { [key || \"_\"]: val };\n                       }\n\n                       return { [val]: true };\n                   })\n                   .reduce((acc, v) => Object.assign(acc, v), {}) : {};\n\n               var target = $(ev.target);\n\n               if (!command) {\n                   return;\n               }\n\n               this.action({\n                   command: command,\n                   options: Object.assign(options, { target: target })\n               });\n           },\n\n           _onOpen: function(ev) {\n               var menu = ev.sender,\n                   items = menu.options.items,\n                   elTarget = $(ev.event ? ev.event.target : null);\n\n               if ((!items && $.isEmptyObject(this.defaultItems)) || elTarget.closest(\".k-grid-column-menu\").length) {\n                   ev.preventDefault();\n                   return;\n               }\n\n               this._toggleSeparatorVisibility();\n\n               menu.element.find(`[${kendo.attr('soft-rules')}]`).each((i, item) => {\n                   var rules = $(item).attr(kendo.attr('soft-rules')).split(\";\");\n                   menu.enable(item, this._validateSoftRules(rules, elTarget));\n               });\n           },\n\n           _toggleSeparatorVisibility: function() {\n               var that = this,\n                   items = that.element.find(\".k-item.k-separator\").filter((i, item) => {\n                       var prev = $(item).prev(\".k-item:not(.k-separator)\");\n                       var next = $(item).next(\".k-item:not(.k-separator)\");\n\n                       return !(prev.length && next.length);\n                   });\n\n               items.hide();\n           },\n\n           _extendItems: function() {\n               var that = this,\n                   items = that.options.items,\n                   item, isBuiltInTool;\n\n               if (items && items.length) {\n                   for (var i = 0; i < items.length; i++) {\n                       item = items[i];\n                       isBuiltInTool = $.isPlainObject(item) && Object.keys(item).length === 1 && item.name;\n\n                       if (isBuiltInTool) {\n                           item = item.name;\n                       }\n\n                       if ($.isPlainObject(item)) {\n                           that._append(item);\n                       } else if (that.defaultItems[item]) {\n                           item = that.defaultItems[item];\n                           that._append(item);\n                       } else if (typeof(item) === \"string\") {\n                           item = { name: item, text: item, spriteCssClass: item, command: item + \"Command\" };\n                           that._append(item);\n                       }\n                   }\n               } else {\n                   for (var key in that.defaultItems) {\n                       item = that.defaultItems[key];\n                       that._append(item);\n                   }\n               }\n           },\n\n           _extendItem: function(item) {\n               var that = this,\n                   messages = that.options.messages,\n                   attr = item.attr || {};\n\n               if (item.command) {\n                   attr[kendo.attr(\"command\")] = item.command;\n               }\n\n               if (item.options) {\n                   attr[kendo.attr(\"options\")] = item.options;\n               }\n\n               if (item.softRules) {\n                   attr[kendo.attr(\"soft-rules\")] = item.softRules;\n               }\n\n               if (item.items) {\n                   for (var j = 0; j < item.items.length; j++) {\n                       item.items.forEach(subItem => {\n                           that._extendItem(subItem);\n                       });\n                   }\n               }\n\n               extend(item, {\n                   text: messages.commands[item.name],\n                   icon: item.icon || \"\",\n                   spriteCssClass: item.spriteCssClass || \"\",\n                   attr: attr,\n                   uid: kendo.guid()\n               });\n           },\n\n           _validateSoftRules: function(rules, target) {\n               var that = this;\n\n               if (!rules || !(rules && rules.length)) {\n                   return true;\n               }\n\n               for (var i = 0; i < rules.length; i++) {\n                   if (!this._readState(rules[i], target)) {\n                       return false;\n                   }\n               }\n\n               return true;\n           },\n\n           _validateRules: function(tool) {\n               var that = this,\n                   rules = tool.rules ? tool.rules.split(\";\") : [];\n\n               if (!rules.length) {\n                   return true;\n               }\n\n               for (var i = 0; i < rules.length; i++) {\n                   if (!this._readState(rules[i])) {\n                       return false;\n                   }\n               }\n\n               return true;\n           },\n\n           _readState: function(state, target) {\n               var that = this,\n                   states = that.options.states;\n\n               if (kendo.isFunction(states[state])) {\n                   return states[state](target);\n               } else {\n                   return states[state];\n               }\n           },\n\n           _append: function(item) {\n               var that = this;\n\n               that._extendItem(item);\n\n               if (that._validateRules(item)) {\n                   that.append(item);\n               }\n           },\n\n           action: function(args) {\n               this.trigger(ACTION, args);\n           }\n       });\n\n       kendo.ui.grid = kendo.ui.grid || {};\n\n       extend(kendo.ui.grid, {\n           ContextMenu: GridContextMenu\n       });\n   })(window.kendo.jQuery);\n\n   (function($, undefined$1) {\n       var kendo = window.kendo,\n           extend = $.extend,\n           Class = kendo.Class;\n\n       var Command = Class.extend({\n           init: function(options) {\n               this.options = options;\n               this.grid = options.grid;\n           }\n       });\n\n       var MoveGroupCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   groupable = grid.groupable,\n                   options = that.options,\n                   target = options.target.closest(\".k-chip\"),\n                   method = options.dir === \"next\" ? \"after\" : \"before\",\n                   position = options.dir === \"next\" ? target.next() : target.prev();\n\n               position[method](target);\n               groupable._change();\n           },\n       });\n\n       var SortCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   dataSource = grid.dataSource,\n                   sort = dataSource.sort() || [],\n                   options = that.options,\n                   dir = options.dir,\n                   field = grid._getCellField(options.target),\n                   multipleMode = grid.options.sortable.mode && grid.options.sortable.mode === \"multiple\",\n                   compare = grid.options.compare,\n                   length, idx;\n\n               if (multipleMode) {\n                   for (idx = 0, length = sort.length; idx < length; idx++) {\n                       if (sort[idx].field === field) {\n                           sort.splice(idx, 1);\n                           break;\n                       }\n                   }\n                   sort.push({ field: field, dir: dir, compare: compare });\n               } else {\n                   sort = [{ field: field, dir: dir, compare: compare }];\n               }\n\n               dataSource.sort(sort);\n           },\n       });\n\n       var AddCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid;\n\n               grid.addRow();\n           }\n       });\n\n       var EditCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   inCellMode = grid._editMode() === \"incell\",\n                   target = inCellMode ? that.options.target : that.options.target.closest(\"tr\");\n\n               if (inCellMode) {\n                   grid.editCell(target);\n               } else {\n                   grid.editRow(target);\n               }\n           }\n       });\n\n       var DeleteCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   target = that.options.target.closest(\"tr\");\n\n               grid.removeRow(target);\n           }\n       });\n\n       var CopySelectionCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   withHeaders = that.options.withHeaders;\n\n               grid.copySelectionToClipboard(withHeaders);\n           }\n       });\n\n       var SelectRowCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   selectMode = kendo.ui.Selectable.parseOptions(grid.options.selectable),\n                   target = that.options.target.closest(\"tr\");\n\n               grid.select(selectMode.cell ? target.find('td') : target);\n           }\n       });\n\n       var SelectAllRowsCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   selectMode = kendo.ui.Selectable.parseOptions(grid.options.selectable),\n                   rows = grid.items();\n\n               grid.select(selectMode.cell ? rows.find('td') : rows);\n           }\n       });\n\n       var ClearSelectionCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid;\n\n               grid.clearSelection();\n           }\n       });\n\n       var ReorderRowCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid,\n                   dir = that.options.dir,\n                   target = that.options.target.closest(\"tr\"),\n                   index = target.index(),\n                   newIndex;\n\n               switch (dir) {\n                   case \"up\":\n                       newIndex = index - 1;\n                       break;\n                   case \"down\":\n                       newIndex = index + 2;\n                       break;\n                   case \"top\":\n                       newIndex = 0;\n                       break;\n                   case \"bottom\":\n                       newIndex = grid.items().length;\n                       break;\n               }\n\n               grid.reorderRowTo(target, newIndex);\n           }\n       });\n\n       var ExportPDFCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   grid = that.grid;\n\n               grid.saveAsPDF();\n           }\n       });\n\n       var ExportExcelCommand = Command.extend({\n           exec: function() {\n               var that = this,\n                   selection = that.options.selection,\n                   withHeaders = that.options.withHeaders,\n                   grid = that.grid;\n\n               if (selection) {\n                   grid.exportSelectedToExcel(withHeaders);\n               } else {\n                   grid.saveAsExcel();\n               }\n           }\n       });\n\n       kendo.ui.grid = kendo.ui.grid || {};\n\n       extend(kendo.ui.grid, {\n           GridCommand: Command,\n           commands: {\n               SortCommand: SortCommand,\n               AddCommand: AddCommand,\n               EditCommand: EditCommand,\n               DeleteCommand: DeleteCommand,\n               CopySelectionCommand: CopySelectionCommand,\n               SelectRowCommand: SelectRowCommand,\n               SelectAllRowsCommand: SelectAllRowsCommand,\n               ClearSelectionCommand: ClearSelectionCommand,\n               ReorderRowCommand: ReorderRowCommand,\n               ExportPDFCommand: ExportPDFCommand,\n               ExportExcelCommand: ExportExcelCommand,\n               MoveGroupCommand: MoveGroupCommand\n           }\n       });\n   })(window.kendo.jQuery);\n\n   const __meta__ = {\n       id: \"grid\",\n       name: \"Grid\",\n       category: \"web\",\n       description: \"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.\",\n       depends: [\"data\", \"columnsorter\", \"sortable\", \"toolbar\", \"html.button\", \"icons\", \"menu\", \"loader\", \"html.loadercontainer\", \"loaderContainer.chunk\"],\n       features: [ {\n           id: \"grid-editing\",\n           name: \"Editing\",\n           description: \"Support for record editing\",\n           depends: [ \"editable\", \"window\", \"textbox\", \"form\" ]\n       }, {\n           id: \"grid-filtering\",\n           name: \"Filtering\",\n           description: \"Support for record filtering\",\n           depends: [ \"filtermenu\" ]\n       }, {\n           id: \"grid-columnmenu\",\n           name: \"Column menu\",\n           description: \"Support for header column menu\",\n           depends: [ \"columnmenu\" ]\n       }, {\n           id: \"grid-grouping\",\n           name: \"Grouping\",\n           description: \"Support for grid grouping\",\n           depends: [ \"groupable\" ]\n       }, {\n           id: \"grid-filtercell\",\n           name: \"Row filter\",\n           description: \"Support for grid header filtering\",\n           depends: [ \"filtercell\" ]\n       }, {\n           id: \"grid-paging\",\n           name: \"Paging\",\n           description: \"Support for grid paging\",\n           depends: [ \"pager\" ]\n       }, {\n           id: \"grid-selection\",\n           name: \"Selection\",\n           description: \"Support for row selection\",\n           depends: [ \"selectable\" ]\n       }, {\n           id: \"grid-column-reorder\",\n           name: \"Column reordering\",\n           description: \"Support for column reordering\",\n           depends: [ \"reorderable\" ]\n       }, {\n           id: \"grid-column-resize\",\n           name: \"Column resizing\",\n           description: \"Support for column resizing\",\n           depends: [ \"resizable\" ]\n       }, {\n           id: \"grid-mobile\",\n           name: \"Grid adaptive rendering\",\n           description: \"Support for adaptive rendering\",\n           depends: [ \"dialog\", \"pane\", \"switch\" ]\n       }, {\n           id: \"grid-excel-export\",\n           name: \"Excel export\",\n           description: \"Export grid data as Excel spreadsheet\",\n           depends: [ \"excel\" ]\n       }, {\n           id: \"grid-pdf-export\",\n           name: \"PDF export\",\n           description: \"Export grid data as PDF\",\n           depends: [ \"pdf\", \"drawing\" ]\n       } ]\n   };\n\n   (function($, undefined$1) {\n       let kendo = window.kendo,\n           ui = kendo.ui,\n           DataSource = kendo.data.DataSource,\n           ObservableObject = kendo.data.ObservableObject,\n           tbodySupportsInnerHtml = kendo.support.tbodyInnerHtml,\n           activeElement = kendo._activeElement,\n           Widget = ui.Widget,\n           outerWidth = kendo._outerWidth,\n           outerHeight = kendo._outerHeight,\n           keys = kendo.keys,\n           getType = kendo.type,\n\n           isPlainObject = $.isPlainObject,\n           extend = $.extend,\n           map = $.map,\n           grep = $.grep,\n           isArray = Array.isArray,\n           inArray = $.inArray,\n           push = Array.prototype.push,\n           isFunction = kendo.isFunction,\n           encode = kendo.htmlEncode,\n           isEmptyObject = $.isEmptyObject,\n           contains = $.contains,\n           math = Math,\n\n           DOT = \".\",\n           PROGRESS = \"progress\",\n           ERROR = \"error\",\n           HIERARCHY_CELL_CLASS = \"k-hierarchy-cell\",\n           DATA_CELL = \":not(.k-group-cell):not([\" + kendo.attr(\"virtual\") + \"]):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-caret-alt-down,.k-icon.k-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-down,.k-svg-icon.k-svg-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-left,.k-icon.k-i-caret-alt-left))):visible\",\n           DATA_CELL_HIDDENINCLUDED = \":not([\" + kendo.attr(\"virtual\") + \"]):not(.k-hierarchy-cell:not(:has(.k-icon.k-i-caret-alt-down,.k-icon.k-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-down,.k-svg-icon.k-svg-i-caret-alt-right,.k-svg-icon.k-svg-i-caret-alt-left,.k-icon.k-i-caret-alt-left)))\",\n           SELECTION_CELL_SELECTOR = \"tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer):not([data-skeleton-row]) > td:not(.k-group-cell):not(.k-hierarchy-cell)\",\n           NAVROW = \"tr:not(.k-footer-template):visible\",\n           NAVCELL = \":not(.k-group-cell):not(.k-detail-cell):not(.k-hierarchy-cell):visible\",\n           ITEMROW = \"tr:not(.k-grouping-row):not(.k-detail-row):not(.k-footer-template):not(.k-group-footer):visible\",\n           COLGROUP = \"col:not(.k-group-col, .k-hierarchy-col)\",\n           HEADERCELLS = \"th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)\",\n           CARET_ALT_DOWN = \"a[class*='-i-caret-alt-down']\",\n           CARET_ALT_RIGHT = \"a[class*='-i-caret-alt-right']\",\n           CARET_ALT_RIGHT_CACHE = CARET_ALT_RIGHT,\n           CARET_ALT_LEFT = \"a[class*='-i-caret-alt-left']\",\n           WRAPPER = \".k-grid\",\n           NS = \".kendoGrid\",\n           CONTENTRLOCKEDCONTAINER = \"k-grid-content-locked\",\n           GROUPCELLCLASS = \"k-group-cell\",\n           INPUT_SELECTORS = \":button,a,:input,a>.k-icon,a>.k-svg-icon,textarea,span.k-select,span.k-icon,span.k-svg-icon,span.k-svg-icon>svg,span.k-svg-icon>svg>path,span.k-link,label.k-checkbox-label,.k-input,.k-multiselect-wrap,.k-picker-wrap,.k-picker-wrap>.k-selected-color,.k-tool-icon,.k-dropdownlist,.k-switch-thumb,.k-switch-track,.k-switch-label-off,.k-switch-label-on\",\n\n           EDIT = \"edit\",\n           BEFOREEDIT = \"beforeEdit\",\n           SAVE = \"save\",\n           REMOVE = \"remove\",\n           DETAILINIT = \"detailInit\",\n           FILTERMENUINIT = \"filterMenuInit\",\n           COLUMNMENUINIT = \"columnMenuInit\",\n           FILTERMENUOPEN = \"filterMenuOpen\",\n           COLUMNMENUOPEN = \"columnMenuOpen\",\n           CELLCLOSE = \"cellClose\",\n           CHANGING = \"changing\",\n           CHANGE = \"change\",\n           COLUMNHIDE = \"columnHide\",\n           COLUMNSHOW = \"columnShow\",\n           SAVECHANGES = \"saveChanges\",\n           DATABOUND = \"dataBound\",\n           DETAILEXPAND = \"detailExpand\",\n           DETAILCOLLAPSE = \"detailCollapse\",\n           ITEM_CHANGE = \"itemchange\",\n           PAGE = \"page\",\n           PAGING = \"paging\",\n           PASTE = \"paste\",\n           SCROLL = \"scroll\",\n           SYNC = \"sync\",\n           LOAD_START = \"loadStart\",\n           LOAD_END = \"loadEnd\",\n           REQUESTEND = \"requestEnd\",\n\n           FOCUSED = \"k-focus\",\n           HOVER = \"k-hover\",\n           ACTIVE = \"k-active\",\n           FOCUSABLE = \":kendoFocusable\",\n           SELECTED = \"k-selected\",\n           CHECKBOX = \"k-checkbox\",\n           CHECKBOXINPUT = \"input[data-role='checkbox'].k-select-checkbox.\" + CHECKBOX,\n           NORECORDSCLASS = \"k-grid-norecords\",\n           LINK_CLASS = \"k-link\",\n           ICON_CLASS = \"k-icon\",\n           SVG_ICON_CLASS = \"k-svg-icon\",\n           ORDER_CLASS = \"k-sort-order\",\n           SORTED_CLASS = \"k-sorted\",\n           HEADER_CLASS = \"k-header\",\n           HEADER_COLUMN_MENU_CLASS = \"k-grid-column-menu\",\n           FILTER_MENU_CLASS = \"k-grid-filter-menu\",\n           STICKY_CELL_CLASS = \"k-grid-content-sticky\",\n           STICKY_HEADER_CLASS = \"k-grid-header-sticky\",\n           STICKY_FOOTER_CLASS = \"k-grid-footer-sticky\",\n           STICKY_HEADER_NO_BORDER_CLASS = \"k-grid-no-left-border\",\n           ROW_RESIZER = \"k-row-resizer\",\n           ROW_RESIZER_WRAP = \"k-resizer-wrap\",\n           GROUPING_ROW = \"k-grouping-row\",\n           RESIZE = \"resize\",\n           ROWRESIZE = \"rowResize\",\n           COLUMNRESIZE = \"columnResize\",\n           COLUMNREORDER = \"columnReorder\",\n           COLUMNLOCK = \"columnLock\",\n           COLUMNUNLOCK = \"columnUnlock\",\n           COLUMNSTICK = \"columnStick\",\n           COLUMNUNSTICK = \"columnUnstick\",\n           ROWREORDER = \"rowReorder\",\n           NAVIGATE = \"navigate\",\n           CLICK = \"click\",\n           MOUSEDOWN = \"mousedown\",\n           MOUSEUP = \"mouseup\",\n           MOUSEENTER = \"mouseenter\",\n           MOUSELEAVE = \"mouseleave\",\n           MOUSEMOVE = \"mousemove\",\n           DUBLECLICK = \"dblclick\",\n           HEIGHT = \"height\",\n           WIDTH = \"width\",\n           AUTO = \"auto\",\n           TABINDEX = \"tabIndex\",\n           FUNCTION = \"function\",\n           STRING = \"string\",\n           NUMBER = \"number\",\n           BOTTOM = \"bottom\",\n           CONTAINER_FOR = \"container-for\",\n           FIELD = \"field\",\n           INPUT = \"input\",\n           INCELL = \"incell\",\n           INLINE = \"inline\",\n           UNIQUE_ID = \"uid\",\n           MINCOLSPANVALUE = 1,\n           COLSPAN = \"colSpan\",\n           OVERFLOW = \"overflow\",\n           HIDDEN = \"hidden\",\n           SORT = \"sort\",\n           GROUP_SORT = \"group-sort\",\n           DELETECONFIRM = \"Are you sure you want to delete this record?\",\n           NORECORDS = \"No records available.\",\n           CONFIRMDELETE = \"Delete\",\n           CANCELDELETE = \"Cancel\",\n           COLLAPSE = \"Collapse\",\n           EXPAND = \"Expand\",\n           ID = \"id\",\n           PX = \"px\",\n           TR = \"tr\",\n           TD = \"td\",\n           DIV = \"div\",\n\n           ARIA_LABEL = \"aria-label\",\n           ARIA_OWNS = \"aria-owns\",\n           ARIA_ROWCOUNT = \"aria-rowcount\",\n           ARIA_COLCOUNT = \"aria-colcount\",\n           ARIA_CONTROLS = \"aria-controls\",\n           ARIA_COLINDEX = \"aria-colindex\",\n           ARIA_ROWINDEX = \"aria-rowindex\",\n           ARIA_EXPANDED = \"aria-expanded\",\n           ARIA_CHECKED = \"aria-checked\",\n           ARIA_ACTIVEDESCENDANT = \"aria-activedescendant\",\n           ROLE = \"role\",\n           NONE = \"none\",\n           ROW = \"row\",\n           ROWGROUP = \"rowgroup\",\n           COLUMNHEADER = \"columnheader\",\n           GRIDCELL = \"gridcell\",\n\n           formatRegExp = /(\\}|\\#)/ig,\n           templateHashRegExp = /#/ig,\n           whitespaceRegExp = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n           leftRegExp = new RegExp(\"(\\\\s*left\\\\s*:\\\\s*\\\\d*px;?)*\", \"ig\"),\n           rightRegExp = new RegExp(\"(\\\\s*right\\\\s*:\\\\s*\\\\d*px;?)*\", \"ig\"),\n           nonDataCellsRegExp = new RegExp(\"(^|\" + whitespaceRegExp + \")\" + \"(k-group-cell|k-hierarchy-cell)\" + \"(\" + whitespaceRegExp + \"|$)\"),\n           filterRowRegExp = new RegExp(\"(^|\" + whitespaceRegExp + \")\" + \"(k-filter-row)\" + \"(\" + whitespaceRegExp + \"|$)\"),\n           COMMANDBUTTONTMPL = ({ className, attr, text }) => `<button type=\"button\" class=\"${className}\" ${attr}>${kendo.htmlEncode(text)}</button>`,\n           DEFAULTSELECTCOLUMNTMPL = (size, ariaLabel) => `<span class=\"k-checkbox-wrap\"><input tabindex=\"-1\" class=\"k-select-checkbox ${CHECKBOX} ${size} k-rounded-md\" data-role=\"checkbox\" aria-label=\"${ariaLabel}\" aria-checked=\"false\" type=\"checkbox\"></span>`,\n           SELECTCOLUMNTMPL = ({ size }) => DEFAULTSELECTCOLUMNTMPL(size, \"Select row\"),\n           SELECTCOLUMNHEADERTMPL = ({ size }) => DEFAULTSELECTCOLUMNTMPL(size, \"Select all rows\"),\n           DRAGHANDLECOLUMNTMPL = () => kendo.ui.icon(\"reorder\"),\n           DEFAULTHEADERTEMPLATE = ({ text }) => `<span class=\"k-cell-inner\"><span class=\"k-link\"><span class=\"k-column-title\">${text}</span></span></span>`,\n           isRtl = false,\n           browser = kendo.support.browser;\n\n       var isIE11 = browser.msie && browser.version === 11;\n       var isMac = /Mac OS/.test(navigator.userAgent);\n       var classNames = {\n           content: \"k-content\",\n           scrollContainer: \"k-scroll-container\",\n           headerCellInner: \"k-cell-inner\"\n       };\n       var GroupsPager;\n\n       var defaultBodyContextMenu = [\n           \"copySelection\",\n           \"copySelectionNoHeaders\",\n           \"paste\",\n           \"separator\",\n           \"create\",\n           \"edit\",\n           \"destroy\",\n           \"select\",\n           \"separator\",\n           \"reorderRow\",\n           \"exportPDF\",\n           \"exportExcel\",\n           \"separator\"\n       ];\n\n       var defaultHeadContextMenu = [\n           \"sortAsc\",\n           \"sortDesc\",\n           \"separator\"\n       ];\n\n       var defaultGroupsContextMenu = [\n           \"moveGroupPrevious\",\n           \"moveGroupNext\",\n           \"separator\"\n       ];\n\n       if (ui.Pager) {\n           GroupsPager = ui.Pager.extend({\n               init: function(element, options) {\n                   ui.Pager.fn.init.call(this, element, extend(true, {}, options));\n                   this.dataSource.options.useRanges = true;\n                   this.dataSource._omitPrefetch = true;\n               },\n               options: {\n                   name: \"GroupsPager\"\n               },\n\n               totalPages: function() {\n                   var that = this;\n\n                   return Math.ceil((that._collapsedTotal() || 0) / (that.pageSize() || 1));\n               },\n               _collapsedTotal: function() {\n                   var dataSource = this.dataSource;\n                   return dataSource ? (dataSource.groupsTotal(true) || 0) : 0;\n               }\n           });\n       }\n\n       var VirtualScrollable = Widget.extend({\n           init: function(element, options) {\n               var that = this;\n\n               Widget.fn.init.call(that, element, options);\n               that._refreshHandler = that.refresh.bind(that);\n               that.setDataSource(options.dataSource);\n               that.wrap();\n           },\n\n           setDataSource: function(dataSource) {\n               var that = this;\n               if (that.dataSource) {\n                   that.dataSource.unbind(CHANGE, that._refreshHandler);\n               }\n               that.dataSource = dataSource;\n               that.dataSource.bind(CHANGE, that._refreshHandler);\n               that.dataSource.options.useRanges = true;\n               that.dataSource.options.virtual = true;\n           },\n\n           options: {\n               name: \"VirtualScrollable\",\n               itemHeight: $.noop,\n               prefetch: true,\n               maxScrollHeight: 250000\n           },\n\n           events: [\n               PAGING,\n               PAGE,\n               SCROLL,\n               LOAD_START,\n               LOAD_END\n           ],\n\n           destroy: function() {\n               var that = this;\n\n               Widget.fn.destroy.call(that);\n\n               that.dataSource.unbind(CHANGE, that._refreshHandler);\n               that.wrapper.add(that.verticalScrollbar).off(NS);\n\n               clearTimeout(that._timeout);\n               if (that._scrollingTimeout) {\n                   clearTimeout(that._scrollingTimeout);\n               }\n\n               if (that.drag) {\n                   that.drag.destroy();\n                   that.drag = null;\n               }\n               that.wrapper = that.element = that.verticalScrollbar = null;\n               that._refreshHandler = null;\n           },\n\n           wrap: function() {\n               var that = this,\n                   // workaround for IE issue where scroll is not raised if container is same width as the scrollbar\n                   scrollbar = kendo.support.scrollbar() + 1,\n                   element = that.element,\n                   wrapper;\n\n               element.css( {\n                   width: AUTO,\n                   overflow: \"hidden\"\n               }).css((isRtl ? \"padding-left\" : \"padding-right\"), scrollbar);\n               that.content = element.children().first();\n               wrapper = that.wrapper = that.content.wrap('<div class=\"k-virtual-scrollable-wrap\"/>')\n                                   .parent()\n                                   .on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, that._wheelScroll.bind(that));\n               that._wrapper();\n\n               if (kendo.support.kineticScrollNeeded || kendo.support.touch) {\n                   that.wrapper.css(\"touch-action\", NONE);\n                   that.drag = new kendo.UserEvents(that.wrapper, {\n                       global: true,\n                       allowSelection: true,\n                       start: function(e) {\n                           e.sender.capture();\n                       },\n                       move: function(e) {\n                           that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop() - e.y.delta);\n                           kendo.scrollLeft(wrapper, kendo.scrollLeft(wrapper) - e.x.delta);\n                           e.preventDefault();\n                       }\n                   });\n               }\n\n               that.verticalScrollbar = $('<div class=\"k-scrollbar k-scrollbar-vertical\" tabindex=\"-1\"/>')\n                                           .css({\n                                               width: scrollbar\n                                           }).appendTo(element)\n                                           .on(\"scroll\" + NS, that._scroll.bind(that));\n           },\n\n           _wrapper: function() {\n               var that = this;\n\n               if (isIE11) {\n                   //scrolling the virtual scrollbar to the bottom and then\n                   //scrolling the horizontal content scrollbar does not fire the \"scroll\" event\n                   //seems like a problem in IE 11 only (after version 11.0.9600.18860)\n                   //https://github.com/telerik/kendo-ui-core/issues/3779\n                   that.wrapper.css({\n                       \"overflow-y\": SCROLL\n                   });\n\n                   //hide the wrapper behind the virtual scrollbar\n                   that.element.css((isRtl ? \"padding-left\" : \"padding-right\"), 0);\n               }\n           },\n\n           _wheelScroll: function(e) {\n               if (e.ctrlKey) {\n                   return;\n               }\n\n               var scrollbar = this.verticalScrollbar,\n                   scrollTop = scrollbar.scrollTop(),\n                   delta = kendo.wheelDeltaY(e);\n\n               if (delta && !(delta > 0 && scrollTop === 0) && !(delta < 0 && scrollTop + scrollbar[0].clientHeight == scrollbar[0].scrollHeight)) {\n                   e.preventDefault();\n                   this.verticalScrollbar.scrollTop(scrollTop + (-delta));\n               }\n           },\n\n           _scroll: function(e) {\n               var that = this,\n                   delayLoading = !that.options.prefetch,\n                   scrollTop = e.currentTarget.scrollTop,\n                   dataSource = that.dataSource,\n                   rowHeight = that.itemHeight,\n                   skip = dataSource.skip() || 0,\n                   start = that._rangeStart || skip,\n                   height = that.element.innerHeight(),\n                   isScrollingUp = !!(that._scrollbarTop && that._scrollbarTop > scrollTop),\n                   firstItemIndex = math.max(math.floor(scrollTop / rowHeight), 0),\n                   lastItemOffset = isScrollingUp ? math.ceil(height / rowHeight) : math.floor(height / rowHeight),\n                   lastItemIndex = math.max(firstItemIndex + lastItemOffset, 0);\n\n               if (that._preventScroll) {\n                   that._preventScroll = false;\n                   return;\n               }\n               that._prevScrollTop = that._scrollTop;\n               that._scrollTop = scrollTop - (start * rowHeight);\n               that._scrollbarTop = scrollTop;\n\n               that._scrolling = delayLoading;\n\n               if (!that._fetch(firstItemIndex, lastItemIndex, isScrollingUp)) {\n                   that.wrapper[0].scrollTop = that._scrollTop;\n               }\n               that.trigger(SCROLL);\n\n               if (delayLoading) {\n                   if (that._scrollingTimeout) {\n                       clearTimeout(that._scrollingTimeout);\n                   }\n\n                   that._scrollingTimeout = setTimeout(function() {\n                       that._scrolling = false;\n                       that._page(that._rangeStart, that.dataSource.take());\n                   }, 100);\n               }\n           },\n\n           scrollToTop: function() {\n               this._scrollTo(0);\n           },\n\n           scrollToBottom: function() {\n               var scrollbar = this.verticalScrollbar;\n               this._scrollTo(scrollbar[0].scrollHeight - scrollbar.height());\n           },\n\n           _scrollWrapperToTop: function() {\n               this.wrapper.scrollTop(0);\n           },\n\n           _scrollWrapperToBottom: function() {\n               this.wrapper.scrollTop(this.wrapper[0].scrollHeight);\n           },\n\n           _scrollWrapperOnColumnResize: function() {\n               var that = this;\n               var wrapper = this.wrapper;\n               var initialScrollTop = wrapper.scrollTop();\n\n               if (wrapper[0].scrollWidth > wrapper[0].clientWidth) {\n                   if ((!that._wrapperScrolled && initialScrollTop) || that._isScrolledToBottom()) {\n                       wrapper.scrollTop(initialScrollTop + kendo.support.scrollbar());\n                       that._scrollTop = wrapper.scrollTop();\n                       that._wrapperScrolled = true;\n                   }\n               } else if (that._wrapperScrolled) {\n                   if (!that._isWrapperScrolledToBottom()) {\n                       wrapper.scrollTop(initialScrollTop - kendo.support.scrollbar());\n                       that._scrollTop = wrapper.scrollTop();\n                   }\n\n                   that._wrapperScrolled = false;\n               }\n           },\n\n           _scrollTo: function(scrollTop, programmaticScrollPosition) {\n               var that = this;\n               var scrollbar = that.verticalScrollbar;\n\n               if (scrollbar.scrollTop() !== scrollTop) {\n                   that._preventScroll = true;\n               }\n\n               that.wrapper.scrollTop(scrollTop);\n               that._scrollTop = that.wrapper.scrollTop();\n\n               scrollbar.scrollTop(programmaticScrollPosition ?? scrollTop);\n               that._scrollbarTop = scrollbar.scrollTop();\n           },\n\n           _isScrolledToTop: function() {\n               return this.verticalScrollbar.scrollTop() === 0;\n           },\n\n           _isScrolledToBottom: function() {\n               var scrollbar = this.verticalScrollbar;\n               var scrollTop = scrollbar.scrollTop();\n\n               return (scrollTop > 0 && scrollTop >= parseInt(scrollbar[0].scrollHeight - scrollbar.height(), 10));\n           },\n\n           _isWrapperScrolledToBottom: function() {\n               var wrapper = this.wrapper;\n\n               return (wrapper.scrollTop() >= parseInt(wrapper[0].scrollHeight - wrapper.height(), 10));\n           },\n\n           itemIndex: function(rowIndex) {\n               var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n\n               return rangeStart + rowIndex;\n           },\n\n           position: function(index) {\n               var rangeStart = this._rangeStart || this.dataSource.skip() || 0;\n               var pageSize = this.dataSource.pageSize();\n               var result;\n\n               if (index > rangeStart) {\n                   result = index - rangeStart;\n               } else {\n                   result = rangeStart - index - 1;\n               }\n\n               return result > pageSize ? pageSize : result;\n           },\n\n           scrollIntoView: function(row) {\n               var container = this.wrapper[0];\n               var containerHeight = container.clientHeight;\n               var containerScroll = !this._isScrolledToBottom() ? (this._scrollTop || container.scrollTop) : container.scrollTop;\n               var elementOffset = row[0].offsetTop;\n               var elementHeight = row[0].offsetHeight;\n\n               if (containerScroll > elementOffset) {\n                   this.verticalScrollbar[0].scrollTop -= containerHeight / 2;\n               } else if (elementOffset + elementHeight >= containerScroll + containerHeight) {\n                   this.verticalScrollbar[0].scrollTop += containerHeight / 2;\n               }\n           },\n\n           _fetch: function(firstItemIndex, lastItemIndex, scrollingUp) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   itemHeight = that.itemHeight,\n                   take = dataSource.take(),\n                   rangeStart = that._rangeStart || dataSource.skip() || 0,\n                   currentSkip = math.floor(firstItemIndex / take) * take,\n                   fetching = false,\n                   prefetchAt = 0.33;\n               var scrollbar = that.verticalScrollbar;\n               var webkitCorrection = browser.webkit ? 1 : 0;\n               var total = dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total();\n\n               if (firstItemIndex < rangeStart) {\n\n                   fetching = true;\n                   if (that._alwaysScrollTop) {\n                       rangeStart = math.min(firstItemIndex, total - take);\n                       that._scrollTop = 0;\n                   } else {\n                       rangeStart = math.max(0, lastItemIndex - take);\n                       that._scrollTop = scrollbar.scrollTop() - (rangeStart * itemHeight);\n                   }\n                   that._page(rangeStart, take);\n\n               } else if (lastItemIndex >= rangeStart + take && !scrollingUp) {\n\n                   fetching = true;\n                   rangeStart = math.min(firstItemIndex, total - take);\n\n                   //ensure the scrollbar can be scrolled to bottom with mouse drag\n                   if (scrollbar.scrollTop() >= scrollbar[0].scrollHeight - scrollbar[0].offsetHeight - webkitCorrection) {\n                       that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight;\n                   } else if (that.dataSource._isGroupPaged() && firstItemIndex >= total - take) {\n                       that._scrollTop = that.wrapper[0].scrollHeight - that.wrapper[0].offsetHeight - (that._scrollTop - that._prevScrollTop);\n                   } else if (that._alwaysScrollTop) {\n                       that._scrollTop = 0;\n                   } else {\n                       that._scrollTop = itemHeight;\n                   }\n\n\n                   that._page(rangeStart, take);\n\n               } else if (!that._fetching && that.options.prefetch) {\n\n                   if (firstItemIndex < (currentSkip + take) - take * prefetchAt && firstItemIndex > take) {\n                       dataSource.prefetch(currentSkip - take, take, $.noop);\n                   }\n                   if (lastItemIndex > currentSkip + take * prefetchAt) {\n                       dataSource.prefetch(currentSkip + take, take, $.noop);\n                   }\n\n               }\n               return fetching;\n           },\n\n           fetching: function() {\n               return this._fetching;\n           },\n\n           _page: function(skip, take, callback) {\n               var that = this,\n                   delayLoading = !that.options.prefetch,\n                   dataSource = that.dataSource,\n                   isGroupPaged = dataSource._isGroupPaged();\n               callback = isFunction(callback) ? callback : $.noop;\n\n               if (that.trigger(PAGING, { skip: skip, take: take })) {\n                   return;\n               }\n\n               clearTimeout(that._timeout);\n               that._fetching = true;\n               that._rangeStart = skip;\n\n               if ((isGroupPaged && dataSource._groupRangeExists(skip, skip + take)) || (!isGroupPaged && dataSource.inRange(skip, take))) {\n                   that.trigger(LOAD_START);\n\n                   dataSource.range(skip, take, function() {\n                       that.trigger(LOAD_END);\n                       callback();\n                       that.trigger(PAGE);\n                   }, \"page\");\n               } else {\n                   if (!delayLoading) {\n                       that.trigger(LOAD_START);\n                   }\n\n                   that._timeout = setTimeout(function() {\n                       if (!that._scrolling) {\n\n                           if (delayLoading) {\n                               that.trigger(LOAD_START);\n                           }\n\n                           dataSource.range(skip, take, function() {\n                               that.trigger(LOAD_END);\n                               callback();\n                               that.trigger(PAGE);\n                           });\n                       }\n                   }, 100);\n               }\n           },\n\n           repaintScrollbar: function(shouldScrollWrapper) {\n               var that = this,\n                   maxHeight = that.options.maxScrollHeight,\n                   dataSource = that.dataSource,\n                   scrollbar = !kendo.support.kineticScrollNeeded ? kendo.support.scrollbar() : 0,\n                   wrapperElement = that.wrapper[0],\n                   totalHeight,\n                   idx,\n                   itemHeight;\n               var wasScrolledToBottom = that._isScrolledToBottom();\n\n               itemHeight = that.itemHeight = that.options.itemHeight() || 0;\n\n               var addScrollBarHeight = (wrapperElement.scrollWidth > wrapperElement.offsetWidth) ? scrollbar : 0;\n\n               totalHeight = (dataSource._isGroupPaged() ? dataSource.groupsTotal(true) : dataSource.total()) * itemHeight + addScrollBarHeight;\n\n               var divElements = $(new Array(math.floor(totalHeight / maxHeight) + 1).join('<div></div>'))\n                   .css({\n                       width: \"1px\",\n                       height: `${maxHeight}px`\n                   });\n\n               if (totalHeight % maxHeight) {\n                   divElements = divElements.add($(\"<div></div>\").css({\n                       width: \"1px\",\n                       height: `${(totalHeight % maxHeight)}px`\n                   }));\n               }\n\n               that.verticalScrollbar.empty().append(divElements);\n\n               if (wasScrolledToBottom && !that._isScrolledToBottom() && !that.dataSource._isGroupPaged()) {\n                   that.scrollToBottom();\n               }\n\n               if (typeof(that._scrollTop) !== \"undefined\" && !!shouldScrollWrapper) {\n                   wrapperElement.scrollTop = that._scrollTop;\n                   that._scrollWrapperOnColumnResize();\n               }\n           },\n\n           refresh: function(e) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   rangeStart = that._rangeStart;\n               var action = (e || {}).action;\n               var shouldScrollWrapper = that._isScrolledToBottom() || !action || (action !== ITEM_CHANGE && action !== REMOVE && action !== SYNC);\n\n               that.trigger(LOAD_END);\n               clearTimeout(that._timeout);\n\n               that.repaintScrollbar(shouldScrollWrapper);\n\n               if (that.drag) {\n                   that.drag.cancel();\n               }\n\n               if (typeof(rangeStart) !== \"undefined\" && !that._fetching) { // we are rebound from outside local range should be reset\n                   if (!action || (action !== SYNC && action !== ITEM_CHANGE && action !== \"expandGroup\")) {\n                       that._rangeStart = dataSource.skip();\n                   }\n\n                   if (dataSource.page() === 1 && (!action || (action !== SYNC && action !== ITEM_CHANGE && action !== \"expandGroup\" && action !== \"collapseGroup\"))) {\n                       // reset the scrollbar position if datasource is filtered\n                       that.verticalScrollbar[0].scrollTop = 0;\n                   }\n               }\n\n               if (that._programmaticallyScrolling && that._programmaticallyScrolling.state() !== 'resolved') {\n                   that._programmaticallyScrolling.resolve();\n               }\n\n               if (that._alwaysScrollTop) {\n                   delete that._alwaysScrollTop;\n               }\n               that._fetching = false;\n           }\n       });\n\n       function attrEquals(attrName, attrValue) {\n           return \"[\" + kendo.attr(attrName) + \"=\" + attrValue + \"]\";\n       }\n\n       function groupCells(count) {\n           return new Array(count + 1).join('<td class=\"k-group-cell k-table-group-td k-table-td\">&nbsp;</td>');\n       }\n\n       function cellsExcludingSpecialColumns(cells) {\n           return cells.filter((i,cell) => {\n               const $cell = $(cell);\n               const hasCheckbox = $cell.children(\".k-select-checkbox\").length > 0;\n               const hasWrappedCheckbox = $cell.find(\"> .k-checkbox-wrap > .k-select-checkbox\").length > 0;\n               return !$cell.hasClass(\"k-drag-cell\") && !$cell.hasClass(\"k-command-cell\") && !hasCheckbox && !hasWrappedCheckbox;\n           });\n       }\n\n       function stringifyAttributes(attributes) {\n           var attr,\n               result = \" \";\n\n           if (attributes) {\n               if (typeof attributes === STRING) {\n                   return attributes;\n               }\n\n               for (attr in attributes) {\n                   if (attributes[attr] !== '') {\n                       result += attr + '=\"' + attributes[attr] + '\"';\n                   }\n               }\n           }\n           return result;\n       }\n\n       var defaultCommands = {\n           create: {\n               text: \"Add new record\",\n               className: \"k-grid-add\",\n               iconClass: \"k-i-plus\"\n           },\n           cancel: {\n               text: \"Cancel changes\",\n               className: \"k-grid-cancel-changes\",\n               iconClass: \"k-i-cancel\"\n           },\n           save: {\n               text: \"Save changes\",\n               className: \"k-grid-save-changes\",\n               iconClass: \"k-i-check\"\n           },\n           destroy: {\n               text: \"Delete\",\n               className: \"k-grid-remove-command\",\n               iconClass: \"k-i-x\"\n           },\n           edit: {\n               text: \"Edit\",\n               className: \"k-grid-edit-command\",\n               iconClass: \"k-i-pencil\",\n               themeColor: \"primary\"\n           },\n           update: {\n               text: \"Save\",\n               className: \"k-grid-save-command\",\n               iconClass: \"k-i-save\",\n               themeColor: \"primary\"\n           },\n           canceledit: {\n               text: \"Cancel\",\n               className: \"k-grid-cancel-command\",\n               iconClass: \"k-i-cancel\"\n           },\n           excel: {\n               text: \"Export to Excel\",\n               className: \"k-grid-excel\",\n               iconClass: \"k-i-file-excel\"\n           },\n           pdf: {\n               text: \"Export to PDF\",\n               className: \"k-grid-pdf\",\n               iconClass: \"k-i-file-pdf\"\n           },\n           search: {\n               text: \"Search...\",\n               className: \"k-grid-search\"\n           },\n           columns: {\n               text: \"Columns\",\n               type: \"button\",\n               icon: \"columns\",\n               fillMode: \"flat\",\n               overflow: \"never\",\n               className: \"k-grid-column-menu\",\n               attr: {\n                   \"aria-haspopup\": \"menu\"\n               }\n           }\n       };\n\n       function cursor(context, value) {\n           $('th, th .k-grid-filter-menu, th .k-link', context)\n               .add(document.body)\n               .css('cursor', value);\n       }\n\n       function reorder(selector, source, dest, before, count) {\n           var sourceIndex = source;\n           source = $();\n           count = count || 1;\n           for (var idx = 0; idx < count; idx++) {\n               source = source.add(selector.eq(sourceIndex + idx));\n           }\n\n           if (typeof dest == \"number\") {\n               source[before ? \"insertBefore\" : \"insertAfter\"](selector.eq(dest));\n           } else {\n               source.appendTo(dest);\n           }\n       }\n\n       function elements(lockedContent, content, filter) {\n           return $(lockedContent).add(content).find(filter);\n       }\n\n       function attachCustomCommandEvent(context, container, commands) {\n           var idx,\n               length,\n               command,\n               commandName;\n\n           commands = !isArray(commands) ? [commands] : commands;\n\n           for (idx = 0, length = commands.length; idx < length; idx++) {\n               command = commands[idx];\n\n               if (isPlainObject(command) && command.click) {\n                   commandName = command.name || command.text;\n                   container.on(CLICK + NS, \".k-grid-\" + (commandName || \"\").replace(/\\s/g, \"\"), { commandName: commandName }, command.click.bind(context));\n               }\n           }\n       }\n\n       function normalizeColumns(columns, encoded, hide, locked, parentIds) {\n           return map(columns, function(column) {\n               column = typeof column === STRING ? { field: column } : column;\n\n               var hidden;\n               column.parentIds = parentIds;\n\n               if (column.attributes instanceof Function) {\n                   column._attributesFunction = column.attributes;\n               }\n\n               if (!isVisible(column) || hide) {\n                   column.attributes = addHiddenStyle(column.attributes);\n                   column.footerAttributes = addHiddenStyle(column.footerAttributes);\n                   column.headerAttributes = addHiddenStyle(column.headerAttributes);\n                   hidden = true;\n               } else if (isVisible(column) || !hide) {\n                   column.attributes = removeHiddenStyle(column.attributes);\n                   column.footerAttributes = removeHiddenStyle(column.footerAttributes);\n                   column.headerAttributes = removeHiddenStyle(column.headerAttributes);\n                   hidden = undefined$1;\n               }\n\n               var uid = kendo.guid();\n               if (locked && !column.locked) {\n                   column.locked = locked;\n               }\n\n               column.headerAttributes = extend({ headers: parentIds }, column.headerAttributes);\n               if (!column.headerAttributes.id) {\n                   column.headerAttributes = extend({ id: uid }, column.headerAttributes);\n                   column.uid = uid;\n               } else {\n                   column.uid = uid = column.headerAttributes.id;\n               }\n\n               if (column.columns) {\n                   column.columns = normalizeColumns(column.columns, encoded, hidden, column.locked, parentIds ? (parentIds + \" \" + uid) : uid);\n               }\n               return extend({ encoded: encoded, hidden: hidden, locked: locked }, column);\n           });\n       }\n\n       function columnParent(column, columns) {\n           var parents = [];\n           columnParents(column, columns, parents);\n           return parents[parents.length - 1];\n       }\n\n       function columnParents(column, columns, parents) {\n           parents = parents || [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (column === columns[idx]) {\n                   return true;\n               } else if (columns[idx].columns) {\n                   var inserted = parents.length;\n                   parents.push(columns[idx]);\n                   if (!columnParents(column, columns[idx].columns, parents)) {\n                       parents.splice(inserted, parents.length - inserted);\n                   } else {\n                       return true;\n                   }\n               }\n           }\n           return false;\n       }\n\n       function setColumnVisibility(column, visible) {\n           setVisibility(column, visible, visible);\n       }\n\n       function setVisibility(column, visible, show) {\n           var method = show ? removeHiddenStyle : addHiddenStyle;\n           column.hidden = !visible;\n           column.attributes = method(column.attributes);\n           column.footerAttributes = method(column.footerAttributes);\n           column.headerAttributes = method(column.headerAttributes);\n       }\n\n\n       function setColumnMediaVisibility(column, visible) {\n           setColumnMatchesMedia(column);\n           var hideByMedia = column._hideByMedia;\n           setVisibility(column, visible, hideByMedia ? column.matchesMedia : visible);\n       }\n\n       function setColumnMatchesMedia(column) {\n           column.matchesMedia = columnMatchesMedia(column);\n       }\n\n       function columnMatchesMedia(column) {\n           return column && (isUndefined(column.media) || (!isUndefined(column.media) && kendo.matchesMedia(column.media)));\n       }\n\n       function isCellVisible() {\n           return this.style.display !== NONE && !this.classList.contains(\"k-hidden\");\n       }\n\n       function isElementVisible(element) {\n           return $(element)[0].style.display !== NONE && !$(element)[0].classList.contains(\"k-hidden\");\n       }\n\n       function isVisible(column) {\n           return visibleColumns([column]).length > 0;\n       }\n\n       function visibleColumns(columns) {\n           return grep(columns, function(column) {\n               var result = !column.hidden && column.matchesMedia !== false;\n\n               if (result && column.columns) {\n                   result = visibleColumns(column.columns).length > 0;\n               }\n               return result;\n           });\n       }\n\n       function columnsWithMedia(columns) {\n           var result = [];\n           var column;\n\n           for (var i = 0; i < columns.length; i++) {\n               column = columns[i];\n\n               if (!isUndefined(column.media)) {\n                   if (!isUndefined(column.minScreenWidth)) {\n                       throw new Error(\"Using 'media' and 'minScreenWidth' options at the same time is not supported.\");\n                   }\n\n                   result.push(column);\n               }\n\n               if (column.columns) {\n                   result = result.concat(columnsWithMedia(column.columns));\n               }\n           }\n\n           return result;\n       }\n\n       function isUndefined(value) {\n           return typeof value === \"undefined\";\n       }\n\n       function toJQuery(elements) {\n           return $(elements).map(function() { return this.toArray(); });\n       }\n\n       function updateCellRowSpan(cell, columns, sourceLockedColumnsCount) {\n           var lockedColumnDepth = depth(lockedColumns(columns));\n           var nonLockedColumnDepth = depth(nonLockedColumns(columns));\n\n           var rowSpan = cell.rowSpan;\n           if (sourceLockedColumnsCount) {\n               if (lockedColumnDepth > nonLockedColumnDepth) {\n                   cell.rowSpan = (rowSpan - (lockedColumnDepth - nonLockedColumnDepth)) || 1;\n               } else {\n                   cell.rowSpan = rowSpan + (nonLockedColumnDepth - lockedColumnDepth);\n               }\n           } else {\n               if (lockedColumnDepth > nonLockedColumnDepth) {\n                   cell.rowSpan = rowSpan + (lockedColumnDepth - nonLockedColumnDepth);\n               } else {\n                   cell.rowSpan = (rowSpan - (nonLockedColumnDepth - lockedColumnDepth)) || 1;\n               }\n           }\n       }\n\n       function findColumnByField(columns, field) {\n           for (var i = 0; i < columns.length; i++) {\n               if (columns[i].field == field) {\n                   return columns[i];\n               }\n           }\n       }\n\n       function moveCellsBetweenContainers(sources, target, leafs, columns, container, destination, groups, action) {\n           var sourcesDepth = depth(sources);\n           var targetDepth = depth([target]);\n\n           if (sourcesDepth > targetDepth) {\n               var groupCells = new Array(groups + 1).join('<th class=\"k-group-cell k-header k-table-th\" scope=\"col\">&nbsp;</th>');\n               var rows = destination.children(\":not(.k-filter-row)\");\n               $(new Array((sourcesDepth - targetDepth) + 1).join(\"<tr class='k-table-row'>\" + groupCells + \"</tr>\")).insertAfter(rows.last());\n           }\n\n           addRowSpanValue(destination, sourcesDepth - targetDepth);\n\n           moveCells(leafs, columns, container, destination, action);\n       }\n\n       function updateCellIndex(thead, columns, offset) {\n           offset = offset || 0;\n\n           var position;\n           var cell;\n           var allColumns = columns;\n           columns = leafColumns(columns);\n\n           var cells = {};\n           var rows = thead.find(\">tr:not(.k-filter-row)\");\n\n           var filter = function() {\n               var el = $(this);\n               return !el.hasClass(\"k-group-cell\") && !el.hasClass(\"k-hierarchy-cell\");\n           };\n\n           for (var idx = 0, length = columns.length; idx < length; idx++) {\n               position = columnPosition(columns[idx], allColumns);\n\n               if (!cells[position.row]) {\n                   cells[position.row] = rows.eq(position.row)\n                       .find(DOT + HEADER_CLASS)\n                       .filter(filter);\n               }\n\n               cell = cells[position.row].eq(position.cell);\n               cell.attr(kendo.attr(\"index\"), offset + idx);\n           }\n\n\n           return columns.length;\n       }\n\n       function depth(columns) {\n           var result = 1;\n           var max = 0;\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].columns) {\n                   var temp = depth(columns[idx].columns);\n                   if (temp > max) {\n                       max = temp;\n                   }\n               }\n           }\n           return result + max;\n       }\n\n       function moveCells(leafs, columns, container, destination, action) {\n           var sourcePosition = columnVisiblePosition(leafs[0], columns);\n\n           var ths = container.find(\">tr:not(.k-filter-row)\").eq(sourcePosition.row).children(\"th.k-header:not(.k-group-cell)\");\n\n           var t = $();\n           var sourceIndex = sourcePosition.cell;\n           var idx;\n\n           for (idx = 0; idx < leafs.length; idx++) {\n               t = t.add(ths.eq(sourceIndex + idx));\n           }\n\n           destination.find(\">tr:not(.k-filter-row)\").eq(sourcePosition.row)[action](t);\n\n           var children = [];\n           for (idx = 0; idx < leafs.length; idx++) {\n               if (leafs[idx].columns) {\n                   children = children.concat(leafs[idx].columns);\n               }\n           }\n\n           if (children.length) {\n               moveCells(children, columns, container, destination, action);\n           }\n       }\n\n       function columnPosition(column, columns, row, cellCounts) {\n           var result;\n           var idx;\n\n           row = row || 0;\n           cellCounts = cellCounts || {};\n           cellCounts[row] = cellCounts[row] || 0;\n\n           for (idx = 0; idx < columns.length; idx++) {\n              if (columns[idx] == column) {\n                   result = { cell: cellCounts[row], row: row };\n                   break;\n              } else if (columns[idx].columns) {\n                  result = columnPosition(column, columns[idx].columns, row + 1, cellCounts);\n                  if (result) {\n                       break;\n                  }\n              }\n\n              cellCounts[row]++;\n           }\n           return result;\n       }\n       function findParentColumnWithChildren(columns, index, source, rtl) {\n           var target;\n           var locked = !!source.locked;\n           var targetLocked;\n\n           do {\n               target = columns[index];\n               index += rtl ? 1 : -1;\n               targetLocked = !!target.locked;\n           } while (target && index > -1 && index < columns.length && target != source && !target.columns && targetLocked === locked);\n\n           return target;\n       }\n\n       function decorateCellWithClass(html) {\n           let element = html;\n           let classes = element.match(/class=[\"][^\"]+/g);\n           if (classes) {\n               const cssClasses = classes[0].split('\\\"').pop();\n               element = element.replace(cssClasses, cssClasses + \" k-table-td\");\n           } else {\n               element = element.replace(\"<td\",\"<td class='k-table-td'\");\n           }\n\n           return element;\n       }\n\n       function findReorderTarget(columns, target, source, before, masterColumns) {\n           if (target.columns) {\n               target = target.columns;\n               return target[before ? 0 : target.length - 1];\n           } else {\n               var parent = columnParent(target, columns);\n               var parentColumns;\n\n               if (parent) {\n                   parentColumns = parent.columns;\n               } else {\n                   parentColumns = columns;\n               }\n\n               var index = inArray(target, parentColumns);\n               if (index === 0 && before) {\n                   index++;\n               } else if ((index == parentColumns.length - 1 && !before) || (!source.locked && !target.columns && !before)) {\n                   index--;\n               } else if (index > 0 || (index === 0 && !before)) {\n                   index++;\n               }\n\n               var sourceIndex = inArray(source, parentColumns);\n               target = findParentColumnWithChildren(parentColumns, index, source, sourceIndex > index);\n               var targetIndex = inArray(target, masterColumns);\n               if (target.columns && (!targetIndex || targetIndex === parentColumns.length - 1)) {\n                   return null;\n               }\n\n               if (target && target != source && target.columns) {\n                   return findReorderTarget(columns, target, source, before, masterColumns);\n               }\n           }\n           return null;\n       }\n\n       function columnVisiblePosition(column, columns, row, cellCounts) {\n           var result;\n           var idx;\n\n           row = row || 0;\n           cellCounts = cellCounts || {};\n           cellCounts[row] = cellCounts[row] || 0;\n\n           for (idx = 0; idx < columns.length; idx++) {\n              if (columns[idx] == column) {\n                   result = { cell: cellCounts[row], row: row };\n                   break;\n              } else if (columns[idx].columns) {\n                  result = columnVisiblePosition(column, columns[idx].columns, row + 1, cellCounts);\n                  if (result) {\n                       break;\n                  }\n              }\n\n              if (!columns[idx].hidden) {\n                  cellCounts[row]++;\n              }\n           }\n           return result;\n       }\n\n       function flatColumnsInDomOrder(columns) {\n           var result = flatColumns(lockedColumns(columns));\n           return result.concat(flatColumns(nonLockedColumns(columns)));\n       }\n\n       function targetParentContainerIndex(flatColumns, columns, sourceIndex, targetIndex) {\n           var column = flatColumns[sourceIndex];\n           var target = flatColumns[targetIndex];\n\n           var parent = columnParent(column, columns);\n           columns = parent ? parent.columns : columns;\n\n           return inArray(target, columns);\n       }\n\n       function flatColumns(columns) {\n           var result = [];\n           var children = [];\n           for (var idx = 0; idx < columns.length; idx++) {\n               result.push(columns[idx]);\n               if (columns[idx].columns) {\n                   children = children.concat(columns[idx].columns);\n               }\n\n           }\n           if (children.length) {\n               result = result.concat(flatColumns(children));\n           }\n           return result;\n       }\n\n       function hiddenLeafColumnsCount(columns) {\n           var counter = 0;\n           var column;\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               column = columns[idx];\n\n               if (column.columns) {\n                   counter += hiddenLeafColumnsCount(column.columns);\n               } else if (column.hidden) {\n                   counter++;\n               }\n           }\n           return counter;\n       }\n\n       function sumWidths(cols) {\n           var width = 0;\n\n           for (var idx = 0, length = cols.length; idx < length; idx++) {\n               if (!cols[idx].hidden) {\n                   width += parseInt(cols[idx].width, 10);\n               }\n           }\n\n           return width;\n       }\n\n       function columnsWidth(cols) {\n           var colWidth, width = 0;\n\n           for (var idx = 0, length = cols.length; idx < length; idx++) {\n               colWidth = cols[idx].style.width;\n               if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                   width += parseInt(colWidth, 10);\n               }\n           }\n\n           return width;\n       }\n\n       function removeRowSpanValue(container, count) {\n           var cells = container.find(\"tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n           var rowSpan;\n           for (var idx = 0; idx < cells.length; idx++) {\n               rowSpan = cells[idx].rowSpan;\n               if (rowSpan > 1) {\n                   cells[idx].rowSpan = (rowSpan - count) || 1;\n               }\n           }\n       }\n\n       function addRowSpanValue(container, count) {\n           var cells = container.find(\"tr:not(.k-filter-row) th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n           for (var idx = 0; idx < cells.length; idx++) {\n               cells[idx].rowSpan += count;\n           }\n       }\n\n       function removeEmptyRows(container) {\n           var rows = container.find(\"tr:not(.k-filter-row)\");\n\n           var emptyRowsCount = rows.filter(function() {\n               return !$(this).children().length;\n           }).remove().length;\n\n           var cells = rows.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\");\n\n           for (var idx = 0; idx < cells.length; idx++) {\n               if (cells[idx].rowSpan > 1) {\n                   cells[idx].rowSpan -= emptyRowsCount;\n               }\n           }\n           return rows.length - emptyRowsCount;\n       }\n\n       function mapColumnToCellRows(columns, cells, rows, rowIndex, offset) {\n           var idx, row, length, children = [];\n\n           for (idx = 0, length = columns.length; idx < length; idx++) {\n               row = rows[rowIndex] || [];\n               row.push(cells.eq(offset + idx));\n               rows[rowIndex] = row;\n\n               if (columns[idx].columns) {\n                   children = children.concat(columns[idx].columns);\n               }\n           }\n\n           if (children.length) {\n               mapColumnToCellRows(children, cells, rows, rowIndex + 1, offset + columns.length);\n           }\n       }\n\n       function setLeftAndRightStyles(element, left, right) {\n           element.css({\n               \"left\": left,\n               \"right\": right\n           });\n       }\n\n       function createColumnAttribute(column, attribute, property) {\n           column[attribute] = column[attribute] || {};\n           column[attribute][property] = column[attribute][property] || \"\";\n       }\n\n       function addColumnAttribute(column, attribute, property, value) {\n           createColumnAttribute(column, attribute, property);\n\n           if (column[attribute][property] !== \"\") {\n               column[attribute][property] += \" \" + value;\n           } else {\n               column[attribute][property] = value;\n           }\n       }\n\n       function removeColumnAttribute(column, attribute, property, value, removeAttributeProperty) {\n           createColumnAttribute(column, attribute, property);\n           if (removeAttributeProperty) {\n               delete column[attribute][property];\n           } else {\n               column[attribute][property] = column[attribute][property].replace(value, \"\");\n           }\n       }\n\n       function lockedColumns(columns) {\n           return grep(columns, function(column) {\n               return column.locked;\n           });\n       }\n\n       function nonLockedColumns(columns) {\n           return grep(columns, function(column) {\n               return !column.locked;\n           });\n       }\n\n       function stickyColumns(columns) {\n           return grep(columns, function(column) {\n               return column.sticky && !column.locked;\n           });\n       }\n\n       function visibleStickyColumns(columns) {\n           return grep(columns, function(column) {\n               return column.sticky && !column.locked && isVisible(column);\n           });\n       }\n\n       function visibleNonLockedColumns(columns) {\n           return grep(columns, function(column) {\n               return !column.locked && isVisible(column);\n           });\n       }\n\n       function visibleLockedColumns(columns) {\n           return grep(columns, function(column) {\n               return column.locked && isVisible(column);\n           });\n       }\n\n       function visibleLeafColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].hidden) {\n                   continue;\n               }\n\n               if (columns[idx].columns) {\n                   result = result.concat(visibleLeafColumns(columns[idx].columns));\n               } else {\n                   result.push(columns[idx]);\n               }\n           }\n\n           return result;\n       }\n\n       function visibleLeafExportColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].hidden) {\n                   continue;\n               }\n\n               if (columns[idx].columns) {\n                   result = result.concat(visibleLeafColumns(columns[idx].columns));\n               } else {\n                   result.push({\n                       field: columns[idx].field,\n                       width: columns[idx].width,\n                       values: columns[idx].values,\n                       title: columns[idx].title\n                   });\n               }\n           }\n\n           return result;\n       }\n\n       function childColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (columns[idx].columns) {\n                   result = result.concat(columns[idx].columns);\n               }\n           }\n\n           return result;\n       }\n\n       function visibleChildColumns(columns) {\n           var result = childColumns(columns);\n\n           result = result.filter(function(e) {\n               return !e.hidden;\n           });\n\n           return result;\n       }\n\n       function leafColumns(columns) {\n           var result = [];\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (!columns[idx].columns) {\n                   result.push(columns[idx]);\n                   continue;\n               }\n               result = result.concat(leafColumns(columns[idx].columns));\n           }\n\n           return result;\n       }\n\n       function getColumnsFields(columns) {\n           var result = [];\n           columns = leafColumns(columns);\n\n           for (var idx = 0; idx < columns.length; idx++) {\n               if (typeof columns[idx] === \"string\") {\n                   result.push(columns[idx]);\n               } else if (columns[idx].field) {\n                   result.push(columns[idx].field);\n               }\n           }\n           return result;\n       }\n\n       function editField(column) {\n           return {\n               field: column.field,\n               title: column.title,\n               format: column.format,\n               editor: column.editor,\n               values: column.values,\n               editorOptions: extend(true, { format: column.format }, column.editorOptions),\n               label: column.title || column.field || \"\"\n           };\n       }\n\n       function leafDataCells(container) {\n           var rows = container.find(\">tr:not(.k-filter-row)\");\n\n           var filter = function() {\n               var el = $(this);\n               return !el.hasClass(\"k-group-cell\") && !el.hasClass(\"k-hierarchy-cell\");\n           };\n\n           var cells = $();\n           if (rows.length > 1) {\n               cells = rows.find(\"th\")\n                   .filter(filter)\n                   .filter(function() { return this.rowSpan > 1; });\n           }\n\n           cells = cells.add(rows.last().find(\"th\").filter(filter));\n\n           var indexAttr = kendo.attr(\"index\");\n           return [].sort.call(cells, function(a, b) {\n               a = $(a);\n               b = $(b);\n\n               var indexA = a.attr(indexAttr);\n               var indexB = b.attr(indexAttr);\n\n               if (indexA === undefined$1) {\n                   indexA = $(a).index();\n               }\n               if (indexB === undefined$1) {\n                   indexB = $(b).index();\n               }\n\n               indexA = parseInt(indexA, 10);\n               indexB = parseInt(indexB, 10);\n               return indexA > indexB ? 1 : (indexA < indexB ? -1 : 0);\n           });\n       }\n\n       function parentColumnsCells(cell) {\n           var container = cell.closest(\"table\");\n           var result = $().add(cell);\n\n           var row = cell.closest(TR);\n           var headerRows = container.find(\"tr:not(.k-filter-row)\");\n           var level = headerRows.index(row);\n           if (level > 0) {\n               var parent = headerRows.eq(level - 1);\n               var parentCellsWithChildren = parent.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\").filter(function() {\n                   return !$(this).attr(\"rowspan\");\n               });\n\n               var offset = 0;\n               var index = row.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\").index(cell);\n\n               var prevCells = cell.prevAll(\":not(.k-group-cell,.k-hierarchy-cell)\").filter(function() {\n                   return this.colSpan > 1;\n               });\n\n               for (var idx = 0; idx < prevCells.length; idx++) {\n                   offset += prevCells[idx].colSpan || 1;\n               }\n\n               index += Math.max(offset - 1, 0);\n\n               offset = 0;\n               for (idx = 0; idx < parentCellsWithChildren.length; idx++) {\n                   var parentCell = parentCellsWithChildren.eq(idx);\n                   if (parentCell.attr(\"data-colspan\")) {\n                       offset += parentCell[0].getAttribute(\"data-colspan\");\n                   } else {\n                       offset += 1;\n                   }\n                   if (index >= idx && index < offset) {\n                       result = parentColumnsCells(parentCell).add(result);\n                       break;\n                   }\n               }\n           }\n           return result;\n       }\n\n       function childColumnsCells(cell) {\n           var container = cell.closest(\"thead\");\n           var result = $().add(cell);\n\n           var row = cell.closest(TR);\n           var headerRows = container.find(\"tr:not(.k-filter-row)\");\n           var level = headerRows.index(row) + cell[0].rowSpan;\n           var colSpanAttr = kendo.attr(\"colspan\");\n\n           if (level <= headerRows.length - 1) {\n               var child = row.next();\n               var prevCells = cell.prevAll(\":not(.k-group-cell,.k-hierarchy-cell)\");\n\n               var idx;\n\n               prevCells = prevCells.filter(function() {\n                   return !this.rowSpan || this.rowSpan === 1;\n               });\n\n               var offset = 0;\n\n               for (idx = 0; idx < prevCells.length; idx++) {\n                   offset += parseInt(prevCells.eq(idx).attr(colSpanAttr), 10) || 1;\n               }\n\n               var cells = child.find(\"th:not(.k-group-cell,.k-hierarchy-cell)\");\n               var colSpan = parseInt(cell.attr(colSpanAttr), 10) || 1;\n\n               idx = 0;\n\n               while (idx < colSpan) {\n                   child = cells.eq(idx + offset);\n                   result = result.add(childColumnsCells(child));\n                   var value = parseInt(child.attr(colSpanAttr), 10);\n                   if (value > 1) {\n                       colSpan -= value - 1;\n                   }\n                   idx++;\n               }\n           }\n\n           return result;\n       }\n\n       function appendContent(tbody, table, html, size) {\n           var placeholder,\n               tmp = tbody;\n\n           if (tbodySupportsInnerHtml) {\n               let $html = $(html);\n               kendo.applyStylesFromKendoAttributes($html, [\"display\", \"left\", \"right\"]);\n               tbody.empty();\n               $html.each((_, el) => tbody[0].appendChild(el));\n           } else {\n               placeholder = document.createElement(DIV);\n               placeholder.innerHTML = \"<table class='k-grid-table k-table'><tbody class='k-table-tbody'>\" + html + \"</tbody></table>\";\n               $(placeholder).find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", size));\n               tbody = placeholder.firstChild.firstChild;\n               table[0].replaceChild(tbody, tmp[0]);\n               tbody = $(tbody);\n           }\n           return tbody;\n       }\n\n       function addHiddenStyle(attr) {\n           attr = attr || {};\n           let kendoStyleAttrObject = {};\n           kendoStyleAttrObject[kendo.attr(\"style-display\")] = \"none\";\n\n           return extend({}, attr, kendoStyleAttrObject);\n       }\n\n       function hasHiddenStyle(attr) {\n           attr = attr || {};\n\n           return !!attr[kendo.attr(\"style-display\")];\n       }\n\n       function removeHiddenStyle(attr) {\n           attr = attr || {};\n           delete attr[kendo.attr(\"style-display\")];\n\n           return attr;\n       }\n\n       function normalizeCols(table, visibleColumns, hasDetails, groups) {\n           var colgroup = table.find(\">colgroup\"),\n               width,\n               cols = map(visibleColumns, function(column) {\n                       width = column.width;\n                       if (width && parseInt(width, 10) !== 0) {\n                           return kendo.format(`<col ${kendo.attr('style-width')}=\"{0}\" ${column.draggable ? 'class=k-drag-col' : '' } />`, typeof width === STRING ? width : width + PX);\n                       }\n\n                       if (column.draggable) {\n                           return \"<col class='k-drag-col' />\";\n                       }\n                       return \"<col />\";\n                   });\n\n           if (hasDetails || colgroup.find(\".k-hierarchy-col\").length) {\n               cols.splice(0, 0, '<col class=\"k-hierarchy-col\" />');\n           }\n\n           if (colgroup.length) {\n               colgroup.remove();\n           }\n\n           colgroup = $(new Array(groups + 1).join('<col class=\"k-group-col\">') + cols.join(\"\"));\n           kendo.applyStylesFromKendoAttributes(colgroup, [\"width\"]);\n\n           if (!colgroup.is(\"colgroup\")) {\n               colgroup = $(\"<colgroup/>\").append(colgroup);\n           }\n\n           table.prepend(colgroup);\n       }\n\n       function normalizeHeaderCells(container, columns) {\n           var lastIndex = 0;\n           var idx , len;\n           var th = container.find(\"th:not(.k-group-cell)\");\n\n           for (idx = 0, len = columns.length; idx < len; idx ++) {\n               if (columns[idx].locked) {\n                   th.eq(idx).insertBefore(th.eq(lastIndex));\n                   th = container.find(\"th:not(.k-group-cell)\");\n                   lastIndex ++;\n               }\n           }\n       }\n\n       function convertToObject(array) {\n           var result = {},\n               item,\n               idx,\n               length;\n\n           for (idx = 0, length = array.length; idx < length; idx++) {\n               item = array[idx];\n               result[item.value] = item.text;\n           }\n\n           return result;\n       }\n\n       function formatGroupValue(value, format, columnValues, encoded) {\n           let isForeignKey = columnValues && columnValues.length && isPlainObject(columnValues[0]) && \"value\" in columnValues[0],\n               groupValue = isForeignKey ? convertToObject(columnValues)[value] : value;\n\n           groupValue = groupValue != null ? groupValue : \"\";\n           let usedValue = encoded === false ? groupValue : kendo.htmlEncode(groupValue);\n\n           return format ? kendo.format(format, usedValue) : usedValue;\n       }\n\n       function setCellVisibility(cells, index, visible) {\n           var pad = 0,\n               state,\n               cell = cells[pad];\n\n           while (cell) {\n               state = visible ? true : cell.style.display !== NONE;\n\n               if (visible && cell.classList.contains(\"k-hidden\")) {\n                   cell.classList.remove(\"k-hidden\");\n               }\n\n               if (state && !nonDataCellsRegExp.test(cell.className) && --index < 0) {\n                   cell.style.display = visible ? \"\" : NONE;\n                   break;\n               }\n\n               cell = cells[++pad];\n           }\n       }\n\n       function hideColumnCells(rows, columnIndex) {\n           var idx = 0,\n               length = rows.length,\n               cell, row;\n\n           for ( ; idx < length; idx += 1) {\n               row = rows.eq(idx);\n               if (row.is(\".k-grouping-row,.k-detail-row\")) {\n                   cell = row.children(\":not(.k-group-cell):first,.k-detail-cell\").last();\n                   cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) - 1);\n               } else {\n                   if (row.hasClass(\"k-grid-edit-row\") && (cell = row.children(\".k-edit-container\")[0])) {\n                       cell = $(cell);\n                       cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) - 1);\n                       cell.find(\"col\").eq(columnIndex).remove();\n                       row = cell.find(TR).first();\n                   }\n\n                   setCellVisibility(row[0].cells, columnIndex, false);\n               }\n           }\n       }\n\n       function groupRows(data) {\n           var result = [];\n           var item;\n\n           for (var idx = 0; idx < data.length; idx++) {\n               item = data[idx];\n               if (!(\"field\" in item && \"value\" in item && \"items\" in item)) {\n                   break;\n               }\n\n               result.push(item);\n\n               if (item.hasSubgroups) {\n                   result = result.concat(groupRows(item.items));\n               }\n           }\n\n           return result;\n       }\n\n       function groupFooters(data) {\n           var result = [];\n           var item;\n\n           for (var idx = 0; idx < data.length; idx++) {\n               item = data[idx];\n               if (!(\"field\" in item && \"value\" in item && \"items\" in item)) {\n                   break;\n               }\n\n               if (item.hasSubgroups) {\n                   result = result.concat(groupFooters(item.items));\n               }\n\n               result.push(item.aggregates);\n           }\n\n           return result;\n       }\n\n       function showColumnCells(rows, columnIndex) {\n           var idx = 0,\n               length = rows.length,\n               cell, row, columns;\n\n           for ( ; idx < length; idx += 1) {\n               row = rows.eq(idx);\n               if (row.is(\".k-grouping-row,.k-detail-row\")) {\n                   cell = row.children(\":not(.k-group-cell):first,.k-detail-cell\").last();\n                   cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) + 1);\n               } else {\n                   if (row.hasClass(\"k-grid-edit-row\") && (cell = row.children(\".k-edit-container\")[0])) {\n                       cell = $(cell);\n                       cell.attr(\"colspan\", parseInt(cell.attr(\"colspan\"), 10) + 1);\n                       normalizeCols(cell.find(\">form>table\"), visibleColumns(columns), false, 0);\n                       row = cell.find(TR).first();\n                   }\n\n                   setCellVisibility(row[0].cells, columnIndex, true);\n               }\n           }\n       }\n\n       function updateColspan(toAdd, toRemove, num) {\n           num = num || 1;\n\n           var item, idx, length;\n           for (idx = 0, length = toAdd.length; idx < length; idx++) {\n               item = toAdd.eq(idx).children(\":not([hidden])\").last();\n               item.attr(\"colspan\", parseInt(item.attr(\"colspan\"), 10) + num);\n\n               item = toRemove.eq(idx).children(\":not([hidden])\").last();\n               item.attr(\"colspan\", parseInt(item.attr(\"colspan\"), 10) - num);\n           }\n       }\n\n       function tableWidth(table) {\n           var idx, length, width = 0;\n           var cols = table.find(\">colgroup>col\");\n\n           for (idx = 0, length = cols.length; idx < length; idx += 1) {\n               width += parseInt(cols[idx].style.width, 10);\n           }\n\n           return width;\n       }\n       var Grid = kendo.ui.DataBoundWidget.extend({\n           init: function(element, options, events) {\n               var that = this;\n\n               options = isArray(options) ? { dataSource: options } : options;\n\n               Widget.fn.init.call(that, element, options);\n\n               if (events) {\n                   that._events = events;\n               }\n\n               isRtl = kendo.support.isRtl(element);\n               CARET_ALT_RIGHT = isRtl ? CARET_ALT_LEFT : CARET_ALT_RIGHT_CACHE;\n\n               that._element();\n\n               that._ariaId();\n\n               that._columns($.extend(true, [], that.options.columns));\n\n               if (that._foreignKeyPromises) {\n                   $.when.apply(null, that._foreignKeyPromises)\n                       .then(function() {\n                           that._foreignKeyPromises = null;\n                           that._continueInit();\n                       });\n               } else {\n                   that._continueInit();\n               }\n           },\n\n           _continueInit: function() {\n               var that = this;\n\n               that._dataSource();\n\n               that._stickyColumns();\n\n               that._tbody();\n\n               that._thead();\n\n               that._rowResizing();\n\n               that._groupable();\n\n               that._toolbar();\n\n               let columnsToolbarButton = that.wrapper.find(\".k-grid-toolbar .k-toolbar-button.k-grid-column-menu[ref-toolbar-tool]\");\n               if (columnsToolbarButton.length > 0) {\n                   that._globalColumnsMenu(columnsToolbarButton);\n               }\n\n               that._pageable();\n\n               that._setContentHeight();\n\n               that._templates();\n\n               that._navigatable();\n\n               that._initSelectableAggregates();\n\n               that._selectable();\n\n               that._statusBar();\n\n               that._clipboard();\n\n               that._paste();\n\n               that._details();\n\n               that._editable();\n\n               that._attachCustomCommandsEvent();\n\n               that._adaptiveColumns();\n\n               that._minScreenSupport();\n\n               if (that.options.autoBind) {\n                   that.dataSource.fetch();\n               } else {\n                   that._group = that._groups() > 0;\n                   that._footer();\n               }\n\n               if (that.options.contextMenu) {\n                   that._initContextMenu();\n               }\n\n               if (that.lockedContent) {\n                   that.wrapper.addClass(\"k-grid-lockedcolumns\");\n                   that._resizeHandler = function() {\n                       that.resize();\n                   };\n                   $(window).on(\"resize\" + NS, that._resizeHandler);\n               }\n\n               that._initLoader();\n\n               kendo.notify(that);\n\n               if (that._showWatermarkOverlay) {\n                   that._showWatermarkOverlay(that.wrapper[0]);\n               }\n           },\n\n           events: [\n              CHANGE,\n              CHANGING,\n              \"dataBinding\",\n              \"cancel\",\n              DATABOUND,\n              DETAILEXPAND,\n              DETAILCOLLAPSE,\n              DETAILINIT,\n              FILTERMENUINIT,\n              FILTERMENUOPEN,\n              COLUMNMENUINIT,\n              COLUMNMENUOPEN,\n              EDIT,\n              BEFOREEDIT,\n              SAVE,\n              REMOVE,\n              SAVECHANGES,\n              CELLCLOSE,\n              ROWRESIZE,\n              COLUMNRESIZE,\n              COLUMNREORDER,\n              COLUMNSHOW,\n              COLUMNHIDE,\n              COLUMNLOCK,\n              COLUMNUNLOCK,\n              COLUMNSTICK,\n              COLUMNUNSTICK,\n              ROWREORDER,\n              NAVIGATE,\n              PASTE,\n              \"page\",\n              \"sort\",\n              \"filter\",\n              \"group\",\n              \"groupExpand\",\n              \"groupCollapse\",\n              \"kendoKeydown\"\n           ],\n\n           setDataSource: function(dataSource) {\n               var that = this;\n               var scrollable = that.options.scrollable;\n               var scrollableContent;\n\n               that.options.dataSource = dataSource;\n\n               that._dataSource();\n\n               that._pageable();\n\n               that._thead();\n\n               that._rowResizing();\n\n               if (scrollable) {\n                   if (scrollable.virtual) {\n                       scrollableContent = that.content.find(\">.k-virtual-scrollable-wrap\");\n                       kendo.scrollLeft(scrollableContent, leftMostPosition(scrollableContent, isRtl));\n                   } else {\n                       scrollableContent = that.tbody;\n                       kendo.scrollLeft(that.content, leftMostPosition(scrollableContent, isRtl));\n                   }\n               }\n\n               if (that.options.groupable) {\n                   that._groupable();\n               }\n\n               if (that.virtualScrollable) {\n                   that.virtualScrollable.setDataSource(that.options.dataSource);\n               }\n\n               if (that.options.navigatable) {\n                   that._navigatable();\n               }\n\n               if (that.options.selectable) {\n                   that._selectable();\n               }\n\n               if (that.options.autoBind) {\n                   that.dataSource.fetch();\n               } else {\n                   that._footer();\n               }\n           },\n\n           options: {\n               name: \"Grid\",\n               columns: [],\n               toolbar: null,\n               autoBind: true,\n               filterable: false,\n               scrollable: true,\n               sortable: false,\n               selectable: false,\n               allowCopy: false,\n               allowPaste: false,\n               navigatable: false,\n               pageable: false,\n               persistSelection: false,\n               editable: false,\n               encodeTitles: false,\n               groupable: false,\n               rowTemplate: \"\",\n               altRowTemplate: \"\",\n               statusBarTemplate: null,\n               search: false,\n               noRecords: false,\n               dataSource: {},\n               height: null,\n               resizable: false,\n               reorderable: false,\n               columnMenu: false,\n               detailTemplate: null,\n               contextMenu: false,\n               columnResizeHandleWidth: 3,\n               size: \"medium\",\n               mobile: \"\",\n               loaderType: \"loadingPanel\",\n               messages: {\n                   loader: {\n                       loading: \"Loading...\",\n                       exporting: \"Exporting...\",\n                   },\n\n                   editable: {\n                       cancelDelete: CANCELDELETE,\n                       confirmation: DELETECONFIRM,\n                       confirmDelete: CONFIRMDELETE\n                   },\n                   commands: {\n                       create: defaultCommands.create.text,\n                       cancel: defaultCommands.cancel.text,\n                       save: defaultCommands.save.text,\n                       destroy: defaultCommands.destroy.text,\n                       edit: defaultCommands.edit.text,\n                       update: defaultCommands.update.text,\n                       canceledit: defaultCommands.canceledit.text,\n                       excel: defaultCommands.excel.text,\n                       pdf: defaultCommands.pdf.text,\n                       search: defaultCommands.search.text,\n                       columns: defaultCommands.columns.text,\n                       select: \"Select\",\n                       selectRow: \"Select Row\",\n                       selectAllRows: \"All rows\",\n                       clearSelection: \"Clear selection\",\n                       copySelection: \"Copy selection\",\n                       copySelectionNoHeaders: \"Copy selection (No Headers)\",\n                       paste: \"Paste (use CTRL/⌘ + V)\",\n                       reorderRow: \"Reorder row\",\n                       reorderRowUp: \"Up\",\n                       reorderRowDown: \"Down\",\n                       reorderRowTop: \"Top\",\n                       reorderRowBottom: \"Bottom\",\n                       exportPdf: \"Export to PDF\",\n                       exportExcel: \"Export to Excel\",\n                       exportToExcelAll: \"All\",\n                       exportToExcelSelection: \"Selection\",\n                       exportToExcelSelectionNoHeaders: \"Selection (No Headers)\",\n                       sortAsc: \"Sort Ascending\",\n                       sortDesc: \"Sort Descending\",\n                       moveGroupPrevious: \"Move previous\",\n                       moveGroupNext: \"Move next\",\n                   },\n                   noRecords: NORECORDS,\n                   expandCollapseColumnHeader: \"\",\n                   groupHeader: \"Press ctrl + space to group\",\n                   ungroupHeader: \"Press ctrl + space to ungroup\",\n                   itemsSelected: \"items selected\",\n                   dragHandleLabel: \"Drag row\",\n                   toolbarLabel: \"grid toolbar\",\n                   groupingHeaderLabel: \"grid grouping header\",\n                   filterCellTitle: \"filter cell\"\n               },\n               width: null\n           },\n\n           destroy: function() {\n               var that = this,\n                   element,\n                   reorderableInstance;\n\n               that._destroyColumnAttachments();\n\n               Widget.fn.destroy.call(that);\n\n               if (this._navigatableTables) {\n                   this._navigatableTables.off(NS);\n                   this._navigatableTables = null;\n                   this._headertables = null;\n               }\n\n               if (that._resizeHandler) {\n                   $(window).off(\"resize\" + NS, that._resizeHandler);\n               }\n\n               if (that.pager && that.pager.element) {\n                   that.pager.destroy();\n               }\n\n               if (that.timer) {\n                   clearTimeout(that.timer);\n               }\n\n               if (that._progressTimeOut) {\n                   clearTimeout(that._progressTimeOut);\n               }\n\n               if (that._collapseGroupsTimeOut) {\n                   clearTimeout(that._collapseGroupsTimeOut);\n               }\n\n               if (that._endlessFetchTimeOut) {\n                   clearTimeout(that._endlessFetchTimeOut);\n               }\n\n               that.pager = null;\n\n               that._destroyGroupable();\n\n               reorderableInstance = that.wrapper.data(\"kendoReorderable\");\n               if (reorderableInstance) {\n                   reorderableInstance.destroy();\n               }\n\n               reorderableInstance = that.tbody ? that.tbody.data(\"kendoReorderable\") : null;\n               if (reorderableInstance) {\n                   reorderableInstance.destroy();\n               }\n\n               if (that.allowPaste) {\n                   const container = that.content || that.table;\n                   container.off(PASTE + NS, that.pasteHandler);\n                   that.unbind(that.pasteHandler);\n               }\n\n               if (that.pasteActionsDropDownList) {\n                   that.pasteActionsDropDownList.destroy();\n                   that.pasteActionsDropDownList = null;\n               }\n\n               if (that.selectable && that.selectable.element) {\n                   that.selectable.destroy();\n\n                   that.clearArea();\n                   that._selectedIds = null;\n\n                   if (that.copyHandler) {\n                       that.wrapper.off(\"keydown\", that.copyHandler);\n                       that.unbind(that.copyHandler);\n                   }\n                   if (that.updateClipBoardState) {\n                       that.unbind(that.updateClipBoardState);\n                       that.updateClipBoardState = null;\n                   }\n                   if (that.clearAreaHandler) {\n                       that.wrapper.off(\"keyup\", that.clearAreaHandler);\n                   }\n               }\n\n               that.selectable = null;\n               that._selectableAggregatesOptions = null;\n\n               if (that.resizable) {\n                   that.resizable.destroy();\n\n                   if (that._resizeUserEvents) {\n                       if (that._resizeHandleDocumentClickHandler) {\n                           $(document).off(\"click\", that._resizeHandleDocumentClickHandler);\n                       }\n                       that._resizeUserEvents.destroy();\n                       that._resizeUserEvents = null;\n                   }\n                   that.resizable = null;\n               }\n\n               that._destroyRowResizing();\n\n               that._destroyVirtualScrollable();\n\n               if (that.editableUserEvents) {\n                   that.editableUserEvents.destroy();\n                   that.editableUserEvents = null;\n               }\n\n               if (that._lockedContentUserEvents) {\n                   that._lockedContentUserEvents.destroy();\n                   that._lockedContentUserEvents = null;\n               }\n\n               that._destroyEditable();\n\n               if (that.dataSource) {\n                   that.dataSource.unbind(CHANGE, that._refreshHandler)\n                              .unbind(PROGRESS, that._progressHandler)\n                              .unbind(ERROR, that._errorHandler)\n                              .unbind(SORT, that._clearSortClasses);\n\n                   that._refreshHandler = that._progressHandler = that._errorHandler = that._sortHandler = null;\n               }\n\n               element = that.element\n                   .add(that.wrapper)\n                   .add(that.table)\n                   .add(that.thead)\n                   .add(that.wrapper.find(\">.k-grid-toolbar\"));\n\n               if (that.content) {\n                   element = element\n                           .add(that.content)\n                           .add(that.content.find(\">.k-virtual-scrollable-wrap\"));\n               }\n\n               if (that.scrollables && that.scrollables.first()) {\n                   element = element.add(that.scrollables.first());\n               }\n\n               if (that.lockedHeader) {\n                   that._removeLockedContainers();\n               }\n\n               if (that.pane) {\n                   that.pane.destroy();\n               }\n\n               if (that._isMobile) {\n                   that.wrapper.off(\"transitionend\" + NS);\n                   that.wrapper.off(\"contextmenu\" + NS);\n               }\n\n               if (that.minScreenResizeHandler) {\n                   $(window).off(\"resize\", that.minScreenResizeHandler);\n               }\n\n               that._detachColumnMediaResizeHandler();\n\n               if (that._draggableInstance && that._draggableInstance.element) {\n                   that._draggableInstance.destroy();\n               }\n\n               that._draggableInstance = null;\n\n               if (that._draggableRowsInstance && that._draggableRowsInstance.element) {\n                   that._draggableRowsInstance.destroy();\n               }\n\n               if (that.tbodyContextMenu) {\n                   that.tbodyContextMenu.destroy();\n               }\n\n               if (that.theadContextMenu) {\n                   that.theadContextMenu.destroy();\n               }\n\n               if (that.loader) {\n                   that.loader.destroy();\n               }\n\n               that._draggableRowsInstance = null;\n\n               element.off(NS);\n\n               kendo.destroy(that.wrapper);\n\n               that.rowTemplate =\n               that.altRowTemplate =\n               that.lockedRowTemplate =\n               that.lockedAltRowTemplate =\n               that.detailTemplate =\n               that.footerTemplate =\n               that.groupFooterTemplate =\n               that.lockedGroupFooterTemplate =\n               that.noRecordsTemplate = null;\n\n               that.scrollables =\n               that.thead =\n               that.tbody =\n               that.element =\n               that.table =\n               that.content =\n               that.statusBar =\n               that.footer =\n               that.wrapper =\n               that.lockedTable =\n               that.lockedContent =\n               that.lockedHeader =\n               that.lockedFooter =\n               that._groupableClickHandler =\n               that._groupRows =\n               that._setContentWidthHandler =\n               that.loaderOverlay =\n               that.wrapperClone = null;\n           },\n\n           getOptions: function() {\n               var options = this.options;\n               options.dataSource = null;\n\n               var result = extend(true, {}, this.options);\n               result.columns = kendo.deepExtend([], this.columns);\n\n               var dataSource = this.dataSource;\n\n               var initialData = dataSource.options.data && dataSource._data;\n               dataSource.options.data = null;\n\n               result.dataSource = $.extend(true, {}, dataSource.options);\n\n               dataSource.options.data = initialData;\n\n               result.dataSource.data = initialData;\n               result.dataSource.page = dataSource.page();\n               result.dataSource.filter = $.extend(true, {}, dataSource.filter());\n               result.dataSource.pageSize = dataSource.pageSize();\n               result.dataSource.sort = dataSource.sort();\n               result.dataSource.group = dataSource.group();\n               result.dataSource.aggregate = dataSource.aggregate();\n\n               if (result.dataSource.transport) {\n                   result.dataSource.transport.dataSource = null;\n               }\n\n               if (result.pageable && result.pageable.pageSize) {\n                   result.pageable.pageSize = dataSource.pageSize();\n               }\n\n               return result;\n           },\n\n           setOptions: function(options) {\n               var currentOptions = this.getOptions();\n               kendo.deepExtend(currentOptions, options);\n               if (!options.dataSource) {\n                   currentOptions.dataSource = this.dataSource;\n               } else {\n                 if (options.dataSource.filter) {\n                     currentOptions.dataSource.filter = options.dataSource.filter;\n                 }\n               }\n               var wrapper = this.wrapper;\n               var events = this._events;\n               var element = this.element;\n\n               this.destroy();\n               this.options = null;\n               if (this._isMobile) {\n                   var mobileWrapper = wrapper.closest(kendo.roleSelector(\"pane\")).parent();\n                   mobileWrapper.after(wrapper);\n                   mobileWrapper.remove();\n                   wrapper.removeClass(\"k-grid-mobile\");\n               }\n               if (wrapper[0] !== element[0]) {\n                   wrapper.before(element);\n                   wrapper.remove();\n               }\n               element.empty();\n\n               this.init(element, currentOptions, events);\n               this._setEvents(currentOptions);\n           },\n\n           items: function() {\n               if (this.lockedContent) {\n                   return this._items(this.tbody).add(this._items(this.lockedTable.children(\"tbody\")));\n               } else {\n                   return this._items(this.tbody);\n               }\n           },\n\n           _items: function(container, includeGroupRows) {\n               return container.children().filter(function() {\n                   var tr = $(this);\n                   return (includeGroupRows ? !tr.hasClass(\"k-detail-row\") : !tr.hasClass(GROUPING_ROW)) && !tr.hasClass(\"k-detail-row\") && !tr.hasClass(\"k-group-footer\");\n               });\n           },\n\n           dataItems: function() {\n               var dataItems = kendo.ui.DataBoundWidget.fn.dataItems.call(this);\n               if (this.lockedContent) {\n                   var n = dataItems.length, tmp = new Array(2 * n);\n                   for (var i = n; --i >= 0;) {\n                       tmp[i] = tmp[i + n] = dataItems[i];\n                   }\n                   dataItems = tmp;\n               }\n\n               return dataItems;\n           },\n\n           _destroyColumnAttachments: function() {\n               var that = this;\n\n               that.resizeHandle = null;\n\n               if (!that.thead) {\n                   return;\n               }\n\n               that.thead.add(that.lockedHeader).find(\"th\").each(function() {\n                   var th = $(this),\n                       filterMenu = th.data(\"kendoFilterMenu\"),\n                       sortable = th.data(\"kendoColumnSorter\"),\n                       columnMenu = th.data(\"kendoColumnMenu\");\n\n                   if (filterMenu) {\n                       filterMenu.destroy();\n                   }\n\n                   if (sortable) {\n                       sortable.destroy();\n                   }\n\n                   if (columnMenu) {\n                       columnMenu.destroy();\n                   }\n               });\n           },\n\n           _attachCustomCommandsEvent: function() {\n               var that = this,\n                   columns = leafColumns(that.columns || []),\n                   command,\n                   idx,\n                   length;\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   command = columns[idx].command;\n\n                   if (command) {\n                       attachCustomCommandEvent(that, that.wrapper, command);\n                   }\n               }\n           },\n\n           _aria: function() {\n               var wrapper = this.wrapper,\n                   gridRole = this._hasDetails() ? \"treegrid\" : this.options.navigatable ? \"grid\" : null,\n                   table = this.table,\n                   toolbar = wrapper.find(\".k-grid-toolbar\"),\n                   groupingHeader = wrapper.find(\".k-grouping-header\"),\n                   gridId = this._ariaGridId(),\n                   tableTabindex = table.attr(TABINDEX),\n                   tbodyId, headerGroupId, footerGroupId, tableOwned,\n                   numberOfFixedRows = this.thead.find(TR).length + this.wrapper.find(\".k-grid-footer-wrap table tr\").length,\n                   trailingColumns = this._trailingColumns(),\n                   virtual = this.virtualScroll,\n                   pageable = this.options.pageable,\n                   rowsCount;\n\n               table.attr(TABINDEX, tableTabindex >= 0 ? tableTabindex : 0);\n\n               if (gridRole) {\n                   table.attr(ROLE, gridRole);\n               }\n\n               table.find(\"tbody, thead, tfoot\").attr(ROLE, ROWGROUP);\n               table.find(TR).attr(ROLE, ROW);\n               table.find(\"th\").attr(ROLE, COLUMNHEADER);\n               table.find(\"td\").attr(ROLE, GRIDCELL);\n\n               if ((pageable && this.dataSource.totalPages() > 1) || (virtual && virtual.rows)) {\n                   if (this._groups() > 0) {\n                       rowsCount = -1;\n                   } else if (this._hasDetails()) {\n                       rowsCount = numberOfFixedRows + (this.dataSource.total() * 2);\n                   } else {\n                       rowsCount = numberOfFixedRows + this.dataSource.total();\n                   }\n\n                   table.attr(ARIA_ROWCOUNT, rowsCount);\n               } else if (this._hasDetails()) {\n                   if (this._groups() > 0) {\n                       rowsCount = -1;\n                   } else {\n                       rowsCount = numberOfFixedRows + (this.dataSource.total() * 2);\n                   }\n\n                   table.attr(ARIA_ROWCOUNT, rowsCount);\n               }\n\n               if (rowsCount && rowsCount > 0) {\n                   this._ariaRowIndex();\n               }\n\n               if ((virtual && virtual.columns) ||\n                   (!table.attr(ARIA_COLCOUNT) &&\n                       (table.find(\"td:not([group-header-spanned-hidden]):hidden\").length > 0 ||\n                       wrapper.find(\".k-grid-content-locked td:not([group-header-spanned-hidden]):hidden\").length > 0))) {\n                           table.attr(ARIA_COLCOUNT, trailingColumns + leafColumns(this.columns).length);\n                           this._ariaColumnIndex();\n               }\n\n               if (this.pager) {\n                   this.pager.element.attr(ARIA_CONTROLS, gridId);\n               }\n\n               toolbar.attr({\n                   role: \"toolbar\",\n                   \"aria-label\": this.options.messages.toolbarLabel,\n                   \"aria-controls\": gridId\n               });\n\n               groupingHeader.attr({\n                   role: \"toolbar\",\n                   \"aria-label\": this.options.messages.groupingHeaderLabel,\n                   \"aria-controls\": gridId\n               });\n\n               headerGroupId = this._ariaHeaderFooter(\"header\", \"thead\", \"th, td\", COLUMNHEADER);\n               footerGroupId = this._ariaHeaderFooter(\"footer\", \"tfoot\", \"td\", GRIDCELL);\n\n               if (wrapper.find(\".k-grid-content-locked\").length > 0) {\n                   this._ariaLockedContent();\n               }\n\n               if (!!headerGroupId || !!footerGroupId) {\n                   tbodyId = this.tbody.attr(ID) || kendo.guid();\n                   tableOwned = [headerGroupId, tbodyId, footerGroupId].join(\" \");\n\n                   this.tbody.attr(ID, tbodyId);\n                   table.attr(ARIA_OWNS, tableOwned);\n               }\n\n               if (this.options.groupable) {\n                   this._ariaGroupTitles();\n               }\n           },\n\n           _ariaColumnIndex: function() {\n               var trailingColumns = this._trailingColumns(),\n                   dataVirtual = this.tbody.find(\">tr\").last().find(\"> td[data-virtual]\"),\n                   headerRows = this.thead.find(\">tr\").not(\".k-filter-row\"),\n                   lockedHeaderRows = this.wrapper.find(\".k-grid-header-locked thead > tr\").not(\".k-filter-row\"),\n                   firstIndex = Number.MAX_VALUE,\n                   lastIndex = 0,\n                   lockedLastIndex = 0,\n                   previousVirtual = 0,\n                   nextVirtual = 0,\n                   previousIndex, i, cells, dataIndex, cellsIndex,\n                   eachHeaderCell = function(j, cell) {\n                       var current = cell.getAttribute(\"data-index\"),\n                           currentIndex = Number(current),\n                           lockedParent = $(cell).closest(\".k-grid-header-locked\");\n\n                       if (lockedParent.length === 0 && currentIndex < firstIndex) {\n                           firstIndex = currentIndex;\n                       }\n\n                       if (lockedParent.length > 0 && lockedLastIndex < currentIndex) {\n                           lockedLastIndex = currentIndex;\n                       }\n\n                       if (lockedParent.length === 0 && lastIndex < currentIndex) {\n                           lastIndex = currentIndex;\n                       }\n\n                       if (current !== null) {\n                           cell.setAttribute(ARIA_COLINDEX, Number(currentIndex) + 1);\n                           previousIndex = Number(currentIndex) + 1 + cell.getAttribute(\"colspan\");\n                       } else {\n                           cell.setAttribute(ARIA_COLINDEX, previousIndex + 1);\n                           previousIndex = previousIndex + cell.getAttribute(\"colspan\");\n                       }\n                   };\n\n               if (dataVirtual.length === 2) {\n                   previousVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n                   nextVirtual = Number(dataVirtual[1].getAttribute(\"colspan\"));\n               } else if (dataVirtual.length === 1 && dataVirtual.prev().length === 0) {\n                   previousVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n               } else if (dataVirtual.length === 1 && dataVirtual.prev().length === 1) {\n                   nextVirtual = Number(dataVirtual[0].getAttribute(\"colspan\"));\n               }\n\n               for (i = 0; i < lockedHeaderRows.length; i++) {\n                   previousIndex = 0;\n                   lockedHeaderRows.eq(i).find(\"th\").each(eachHeaderCell);\n               }\n\n               for (i = 0; i < headerRows.length; i++) {\n                   previousIndex = 0;\n                   headerRows.eq(i).find(\"th\").each(eachHeaderCell);\n               }\n\n               for (i = 0; i <= lockedLastIndex; i++) {\n                   dataIndex = i + trailingColumns;\n                   cells = this.wrapper.find(\".k-grid-content-locked tbody > tr > td:nth-child(\" + (i + 1) + \")\");\n                   cells.attr(ARIA_COLINDEX, dataIndex + 1);\n               }\n\n               for (i = previousVirtual; i <= lastIndex - firstIndex - nextVirtual; i++) {\n                   if (previousVirtual === 0 ) {\n                       cellsIndex = i + 1;\n                   } else {\n                       cellsIndex = i - previousVirtual + 2;\n                   }\n\n                   dataIndex = firstIndex + i + trailingColumns;\n\n                   cells = this.tbody.find(\"> tr > td:nth-child(\" + cellsIndex + \")\");\n                   cells.attr(ARIA_COLINDEX, dataIndex + 1);\n               }\n           },\n\n           _ariaGroupTitles: function() {\n               var that = this,\n                   groups = that.dataSource.group(),\n                   ths = that.wrapper.find(\".k-grid-header th\");\n\n               ths.each(function(i, el) {\n                   if (el.getAttribute(\"title\") === that.options.messages.ungroupHeader) {\n                           el.setAttribute(\"title\", that.options.messages.groupHeader);\n                   }\n               });\n\n               if (groups && groups.length > 0) {\n                   groups.forEach(function(group) {\n                       var field = group.field,\n                           el = ths.filter(\"[\" + kendo.attr(\"field\") + \"='\" + field + \"']\");\n\n                       if (el.attr(\"title\") === that.options.messages.groupHeader) {\n                           el.attr(\"title\", that.options.messages.ungroupHeader);\n                       }\n                   });\n               }\n           },\n\n           _ariaHeaderFooter: function(type, group, el, role) {\n               var that = this,\n                   wrapper = that.wrapper,\n                   table = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-wrap table\"),\n                   lockedTable = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-locked table\"),\n                   groupId = \"\",\n                   rowGroup;\n\n               if (table.length > 0) {\n                   rowGroup = table.find(group + \", tbody\");\n                   groupId = rowGroup.attr(ID) || kendo.guid();\n\n                   table.attr(ROLE, NONE);\n                   table.find(TR).attr(ROLE, ROW);\n                   table.find(el).attr(ROLE, role);\n                   rowGroup.attr({\n                       role: ROWGROUP,\n                       id: groupId\n                   });\n               }\n\n               if (lockedTable.length > 0) {\n                   that._ariaLocked(type, group, el, role);\n               }\n\n               lockedTable.find(\"td\").attr(ROLE, GRIDCELL);\n               table.find(\"td\").attr(ROLE, GRIDCELL);\n\n               return groupId;\n           },\n\n           _ariaId: function() {\n               var id = this.element.attr(ID) || \"aria\";\n\n               if (id) {\n                   this._cellId = id + \"_active_cell\";\n               }\n           },\n\n           _ariaGridId: function() {\n               var table = this.table,\n                   gridId = table.attr(ID);\n\n               if (!gridId) {\n                   gridId = kendo.guid();\n                   table.attr(ID, gridId);\n               }\n\n               return gridId;\n           },\n\n           _ariaLocked: function(type, group, el, role) {\n               var that = this,\n                   wrapper = that.wrapper,\n                   table = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-wrap table\"),\n                   lockedTable = wrapper.find(\".k-grid-\" + type + \" .k-grid-\" + type + \"-locked table\"),\n                   rows = table.find(TR),\n                   lockedRows = lockedTable.find(TR);\n\n               lockedTable.attr(ROLE, NONE);\n               lockedTable.find(group + \", tbody\").attr(ROLE, NONE);\n               lockedRows.attr(ROLE, NONE);\n\n               lockedTable.find(el).attr(ROLE, role);\n\n               rows.each(function(i, row) {\n                   var ownedCells = [];\n\n                   ownedCells = that._cellsIds(lockedRows.eq(i).find(el), \"locked_\" + type, i);\n                   ownedCells = ownedCells.concat(that._cellsIds($(row).find(el), type, i));\n\n                   row.setAttribute(ARIA_OWNS, ownedCells.join(\" \"));\n               });\n           },\n\n           _ariaLockedContent: function() {\n               var that = this,\n                   table = that.table,\n                   tableRows = table.find(TR),\n                   lockedTable = that.wrapper.find(\".k-grid-content-locked table\"),\n                   lockedRows = lockedTable.find(TR);\n\n               lockedTable.attr(ROLE, NONE);\n               lockedTable.find(\"tbody\").attr(ROLE, NONE);\n               lockedRows.attr(ROLE, NONE);\n               lockedTable.find(\"td\").attr(ROLE, GRIDCELL);\n\n               tableRows.each(function(i, row) {\n                   var ownedCells = [];\n\n                   ownedCells = that._cellsIds(lockedRows.eq(i).find(\"td\"), \"locked_datacell\", i);\n                   ownedCells = ownedCells.concat(that._cellsIds($(row).find(\"td\"), \"datacell\", i));\n\n                   row.setAttribute(ARIA_OWNS, ownedCells.join(\" \"));\n               });\n           },\n\n           _ariaAddHiddenColIndex: function() {\n               var virtualScroll = this.virtualScroll || {},\n                   columns = this.columns,\n                   table = this.table,\n                   leafColsCount = leafColumns(columns).length;\n\n               if (!virtualScroll.columns && !table.attr(ARIA_COLCOUNT)) {\n                   this._ariaColumnIndex();\n\n                   table.attr(ARIA_COLCOUNT, leafColsCount);\n               }\n           },\n\n           _ariaRemoveHiddenColIndex: function() {\n               var virtualScroll = this.virtualScroll || {},\n                   columns = this.columns,\n                   leafColsCount = leafColumns(columns).length;\n\n               if (!virtualScroll.columns && (leafColsCount === visibleLeafColumns(this.columns).length)) {\n                   this.wrapper.find(\"td, th\").removeAttr(ARIA_COLINDEX);\n\n                   this.table.removeAttr(ARIA_COLCOUNT);\n               }\n           },\n\n           _ariaRowIndex: function() {\n               var headerRows = this.thead.find(\">tr\"),\n                   numberOfHeaderRows = headerRows.length,\n                   bodyRows = this.tbody.find(\">tr\"),\n                   footerRows = this.wrapper.find(\".k-grid-footer-wrap tfoot > tr\"),\n                   totalNumberOfItems = this.dataSource.total(),\n                   previousItems = this.dataSource.skip() || 0,\n                   currentIndex = 1,\n                   previousMaster = false,\n                   i, currentRow;\n\n               if (this._hasDetails()) {\n                   totalNumberOfItems = totalNumberOfItems * 2;\n                   previousItems = previousItems * 2;\n               }\n\n               for (i = 0; i < numberOfHeaderRows; i++) {\n                   headerRows.eq(i).attr(ARIA_ROWINDEX, currentIndex + i);\n               }\n\n               currentIndex = numberOfHeaderRows + previousItems;\n\n               for (i = 0; i < bodyRows.length; i++) {\n                   currentRow = bodyRows.eq(i);\n\n                   if (this._hasDetails() && currentRow.hasClass(\"k-master-row\")) {\n                       if (previousMaster) {\n                           currentIndex = currentIndex + 2;\n                       } else {\n                           currentIndex = currentIndex + 1;\n                       }\n\n                       previousMaster = true;\n                   } else {\n                       currentIndex = currentIndex + 1;\n                       previousMaster = false;\n                   }\n\n                   currentRow.attr(ARIA_ROWINDEX, currentIndex);\n               }\n\n               currentIndex = numberOfHeaderRows + totalNumberOfItems + 1;\n\n               for (i = 0; i < footerRows.length; i++) {\n                   footerRows.eq(i).attr(ARIA_ROWINDEX, currentIndex + i);\n               }\n           },\n\n           _cellsIds: function(elements, prefix, i) {\n               var ownedCells = [],\n               gridId = this._ariaGridId();\n\n               elements.each(function(j, cell) {\n                   var id = cell.getAttribute(ID) || gridId + \"_\" + prefix + \"_\" + i + \"_\" + j;\n\n                   cell.setAttribute(ID, id);\n\n                   ownedCells.push(id);\n               });\n\n               return ownedCells;\n           },\n\n           _trailingColumns: function() {\n               return this._groups() + (this._hasDetails() ? 1 : 0);\n           },\n\n           _element: function() {\n               const that = this;\n               let table = that.element;\n\n\n               if (!table.is(\"table\")) {\n                   if (that.options.scrollable) {\n                       table = that.element.find(\"> .k-grid-content > table\");\n                   } else {\n                       table = that.element.children(\"table\");\n                   }\n\n                   if (!table.length) {\n                       table = $(\"<table />\").appendTo(that.element);\n                   }\n               }\n\n               table.addClass(\"k-grid-table k-table\");\n               table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n               that.table = table;\n\n               that._wrapper();\n           },\n\n           _createResizeHandle: function(container, th) {\n               var that = this;\n               var indicatorWidth = that.options.columnResizeHandleWidth;\n               var scrollable = that.options.scrollable;\n               var resizeHandle = that.resizeHandle;\n               var halfResizeHandle = (indicatorWidth * 3) / 2;\n               var rtlCorrection = 0;\n               var headerWrap;\n               var ieCorrection;\n               var webkitCorrection;\n               var firefoxCorrection;\n               var leftMargin;\n               var invisibleSpace;\n               var leftBorderWidth;\n               var scrollLeft;\n               var left;\n               var top;\n\n               if (resizeHandle && that.lockedContent && resizeHandle.data(\"th\")[0] !== th[0]) {\n                   resizeHandle.off(NS).remove();\n                   resizeHandle = null;\n               }\n\n               if (!resizeHandle) {\n                   resizeHandle = that.resizeHandle = $('<div class=\"k-resize-handle\"><div class=\"k-resize-handle-inner\"></div></div>');\n                   container.append(resizeHandle);\n               }\n\n               scrollLeft = kendo.scrollLeft(container);\n\n               if (isRtl && (browser.mozilla || (browser.webkit && browser.version >= 85))) {\n                   scrollLeft = scrollLeft * -1;\n               }\n\n               leftBorderWidth = parseFloat(container.css(\"borderLeftWidth\"));\n\n               left = th.offset().left + scrollLeft - parseFloat(th.css(\"marginLeft\")) - (container.offset().left + leftBorderWidth);\n\n               if (!isRtl) {\n                   left += th[0].offsetWidth;\n              } else {\n                   if (scrollable) {\n                       rtlCorrection = (left <= scrollLeft ? halfResizeHandle : 0);// when shown on first column headers are misaligned due to the width of the resize handler\n                       headerWrap = th.closest(\".k-grid-header-wrap, .k-grid-header-locked\");\n                       invisibleSpace = headerWrap[0].scrollWidth - headerWrap[0].offsetWidth; // the difference between the entire width and the visible area\n                       leftMargin = parseFloat(headerWrap.css(\"marginLeft\"));\n                       ieCorrection = browser.msie ? 2 * kendo.scrollLeft(headerWrap) + leftBorderWidth - leftMargin - rtlCorrection : 0;\n                       webkitCorrection = -rtlCorrection;\n                       firefoxCorrection = browser.mozilla ? leftBorderWidth - leftMargin - rtlCorrection : 0;\n\n                       left -= webkitCorrection + firefoxCorrection + ieCorrection;\n                   }\n               }\n\n               top = th.offset().top - parseFloat(th.css(\"marginTop\")) - (container.offset().top + parseFloat(container.css(\"borderTopWidth\")));\n\n               resizeHandle.css({\n                   top: top, //scrollable ? 0 : heightAboveHeader(that.wrapper),\n                   left: left - halfResizeHandle,\n                   height: outerHeight(th),\n                   width: indicatorWidth * 3 - rtlCorrection\n               })\n               .data(\"th\", th)\n               .show();\n\n               resizeHandle.off(DUBLECLICK + NS).on(DUBLECLICK + NS, function() {\n                   that._autoFitLeafColumn(parseInt(th.attr(kendo.attr(\"index\")), 10));\n               });\n           },\n\n           _positionColumnResizeHandle: function() {\n               var that = this,\n                   lockedHead = that.lockedHeader ? that.lockedHeader.find(\"thead\").first() : $();\n\n               that.thead.add(lockedHead).on(MOUSEMOVE + NS, \"tr:not(.k-filter-row) > th:not([data-resizable=false])\", function(e) {\n                   var button = typeof e.buttons !== \"undefined\" ? e.buttons : (e.which || e.button);\n\n                   var th = $(this);\n                   if (th.hasClass(\"k-group-cell\") || th.hasClass(\"k-hierarchy-cell\")) {\n                       return;\n                   }\n\n                   if (typeof button !== \"undefined\" && button !== 0) {\n                       //do not create a new resize handle if a mouse button is still pressed\n                       //this happens during resizing or before UserEvents trigger \"start\"\n                       return;\n                   }\n\n                   if (th[0].hasAttribute(kendo.attr(COLSPAN))) {\n                       // resizing multi-column headers is not supported\n                       return;\n                   }\n\n                   that._createResizeHandle(th.closest(DIV), th);\n               });\n           },\n\n           _resizeHandleDocumentClick: function(e) {\n               if ($(e.target).closest(\".k-column-active\").length) {\n                   return;\n               }\n\n               $(document).off(e);\n\n               this._resetResizeHandleHeader();\n               this._hideResizeHandle();\n           },\n\n           _resetResizeHandleHeader: function() {\n               var th;\n\n               if (!this.resizeHandle) {\n                   return;\n               }\n\n               th = $(this.resizeHandle).data(\"th\");\n\n               if (th) {\n                   th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS + \",\" + DOT + SVG_ICON_CLASS).show();\n                   th.find(DOT + ORDER_CLASS).show();\n                   th.find(DOT + HEADER_COLUMN_MENU_CLASS).show();\n                   th.find(DOT + FILTER_MENU_CLASS).show();\n               }\n           },\n\n           _hideResizeHandle: function() {\n               if (this.resizeHandle) {\n                   this.resizeHandle.data(\"th\")\n                       .removeClass(\"k-column-active\");\n\n                   if (this.lockedContent && !this._isMobile) {\n                       this.resizeHandle.off(NS).remove();\n                       this.resizeHandle = null;\n                   } else {\n                       this.resizeHandle.hide();\n                   }\n               }\n           },\n\n           _positionColumnResizeHandleTouch: function() {\n               var that = this,\n                   lockedHead = that.lockedHeader ? that.lockedHeader.find(\"thead\").first() : $();\n\n               that._resizeUserEvents = new kendo.UserEvents(lockedHead.add(that.thead), {\n                   filter: \"th:not(.k-group-cell):not(.k-hierarchy-cell)\",\n                   threshold: 10,\n                   minHold: 500,\n                   hold: function(e) {\n                       var th = $(e.target);\n\n                       e.preventDefault();\n\n                       if (that.resizeHandle) {\n                           that.resizeHandle.data(\"th\")\n                               .removeClass(\"k-column-active\");\n                           that._resetResizeHandleHeader();\n                       }\n\n                       th.addClass(\"k-column-active\");\n\n                       th.find(DOT + LINK_CLASS).find(DOT + ICON_CLASS + \",\" + DOT + SVG_ICON_CLASS).hide();\n                       th.find(DOT + ORDER_CLASS).hide();\n                       th.find(DOT + HEADER_COLUMN_MENU_CLASS).hide();\n                       th.find(DOT + FILTER_MENU_CLASS).hide();\n\n                       that._createResizeHandle(th.closest(DIV), th);\n\n                       if (!that._resizeHandleDocumentClickHandler) {\n                           that._resizeHandleDocumentClickHandler = that._resizeHandleDocumentClick.bind(that);\n                       }\n\n                       $(document).on(\"click\", that._resizeHandleDocumentClickHandler);\n                   }\n               });\n           },\n\n           resizeColumn: function(column, columnWidth) {\n               var that = this;\n               var isLocked = !!column.locked;\n               var isHidden = !!column.hidden;\n               var options = this.options;\n               var scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n               var index = isLocked ? inArray(column, visibleLockedColumns(visibleLeafColumns(that.columns))) : inArray(column, visibleNonLockedColumns(visibleLeafColumns(that.columns)));\n               var contentTable = isLocked ? that.lockedTable : that.table;\n               var footer = that.footer || $();\n               var header = isLocked ? that.lockedHeader.find(\"table\") : that.thead.closest(\"table\");\n               var columnMinWidth = column.minResizableWidth || 10;\n               var gridWidth = isLocked ? outerWidth(contentTable.find(\"tbody\")) : outerWidth(that.tbody); // IE returns 0 if grid is empty and scrolling is enabled\n               var col;\n\n               if (isHidden) {\n                   column.width = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n                   return;\n               }\n\n               if (that.footer && that.lockedContent) {\n                   footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n               }\n\n               if (options.scrollable) {\n\n                   col = header.find(\"col:not(.k-group-col,.k-hierarchy-col)\").eq(index)\n                       .add(contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index))\n                       .add(footer.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index));\n               } else {\n                   col = contentTable.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index);\n               }\n\n               if (options.scrollable) {\n                   var constrain = false;\n                   var totalWidth = that.wrapper.width() - scrollbar;\n                   var width = columnWidth = columnWidth > columnMinWidth ? columnWidth : columnMinWidth;\n\n                   if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                       width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                       if (width < 0) {\n                           width = columnWidth;\n                       }\n                       constrain = true;\n                   }\n\n                   if (width > 10 && width >= columnMinWidth) {\n                       col.css('width', width);\n\n                       if (gridWidth) {\n                           if (constrain) {\n                               width = totalWidth - scrollbar * 2;\n                           } else {\n                               width = gridWidth + (columnWidth - column.width);\n                           }\n\n                           contentTable\n                               .add(header)\n                               .add(footer)\n                               .css('width', width);\n\n                           if (!isLocked) {\n                               that._footerWidth = width;\n                           }\n                       }\n                   }\n\n               that._scrollVirtualWrapperOnColumnResize();\n               } else if (columnWidth > 10 && columnWidth >= columnMinWidth) {\n                   col.css('width', columnWidth);\n               }\n\n               column.width = columnWidth;\n\n               that._applyLockedContainersWidth();\n               that._syncLockedContentHeight();\n               that._syncLockedHeaderHeight();\n               that._updateStickyColumns();\n           },\n\n           _adjustColWidths: function(contentTable, header, footer, gridWidth) {\n               const colWidths = {};\n\n               contentTable\n                   .add(header)\n                   .add(footer)\n                   .css('width', gridWidth);\n\n               contentTable\n                   .add(header)\n                   .add(footer)\n                   .find(\"col\")\n                   .each((i, col) => {\n                       // Retrieve the actual widths of the elements.\n                       colWidths[i] = $(col).css(\"width\");\n                   });\n\n               contentTable\n                   .add(header)\n                   .add(footer)\n                   .find(\"col\")\n                   .each((i, col) => {\n                       // Ensure that the style=\"width\" attribute on the col elements matches the real width of the columns.\n                       $(col).css(\"width\", colWidths[i]);\n                   });\n           },\n\n           _resizable: function() {\n               var that = this,\n                   options = that.options,\n                   container,\n                   columnStart,\n                   columnWidth,\n                   columnMinWidth,\n                   gridWidth,\n                   isMobile = this._isMobile,\n                   scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0,\n                   isLocked,\n                   col, th;\n\n               if (options.resizable === true || (options.resizable && options.resizable.columns === true)) {\n                   container = options.scrollable ? that.wrapper.find(\".k-grid-header-wrap\").first() : that.wrapper;\n\n                   if (isMobile) {\n                       that._positionColumnResizeHandleTouch(container);\n                   } else {\n                       that._positionColumnResizeHandle(container);\n                   }\n\n                   if (that.resizable) {\n                       that.resizable.destroy();\n                   }\n\n                   that.resizable = new ui.Resizable(container.add(that.lockedHeader), {\n                       handle: (!!options.scrollable ? \"\" : \">\") + \".k-resize-handle\",\n                       hint: function(handle) {\n                           return $('<div class=\"k-grid-resize-indicator\" />').css({\n                               height: outerHeight(handle.data(\"th\")) + that.tbody.attr(\"clientHeight\")\n                           });\n                       },\n                       start: function(e) {\n                           th = $(e.currentTarget).data(\"th\");\n\n                           if (isMobile) {\n                               that._hideResizeHandle();\n                           }\n\n                           let header = th.closest(\"table\"),\n                               index = $.inArray(th[0], leafDataCells(th.closest(\"thead\")).filter(\":visible\"));\n\n                           isLocked = header.parent().hasClass(\"k-grid-header-locked\");\n\n                           let contentTable = isLocked ? that.lockedTable : that.table,\n                               footer = that.footer || $();\n\n                           if (that.footer && that.lockedContent) {\n                               footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n                           }\n\n                           let footerTable = footer.find(\"table\");\n\n                           cursor(that.wrapper, 'col-resize');\n\n                           if (options.scrollable) {\n                               col = header.find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index)\n                                   .add(contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index))\n                                   .add(footer.find(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index));\n                           } else {\n                               col = contentTable.children(\"colgroup\").find(\"col:not(.k-group-col):not(.k-hierarchy-col)\").eq(index);\n                           }\n\n                           let columns = $.map(that.columns, function(a) {\n                               return !a.hidden && ((isLocked && a.locked) || ((!isLocked && !a.locked))) ? a : null;\n                           });\n\n                           columnStart = e.x.location;\n                           columnWidth = outerWidth(th);\n                           columnMinWidth = leafColumns(columns)[index].minResizableWidth || 10;\n                           gridWidth = isLocked ? outerWidth(contentTable.children(\"tbody\")) : outerWidth(that.tbody); // IE returns 0 if grid is empty and scrolling is enabled\n\n                           // fix broken UI in Chrome38+\n                           if (browser.webkit) {\n                               that.wrapper.addClass(\"k-grid-column-resizing\");\n                           }\n\n                           that._adjustColWidths(contentTable, header, footerTable, gridWidth);\n                       },\n                       resize: function(e) {\n                           var rtlMultiplier = isRtl ? -1 : 1,\n                               currentWidth = columnWidth + (e.x.location * rtlMultiplier) - (columnStart * rtlMultiplier);\n\n                           if (options.scrollable) {\n                               var footer;\n                               if (isLocked && that.lockedFooter) {\n                                   footer = that.lockedFooter.children(\"table\");\n                               } else if (that.footer) {\n                                   footer = that.footer.find(\">.k-grid-footer-wrap>table\");\n                               }\n                               if (!footer || !footer[0]) {\n                                   footer = $();\n                               }\n                               var header = th.closest(\"table\");\n                               var contentTable = isLocked ? that.lockedTable : that.table;\n                               var constrain = false;\n                               var totalWidth = that.wrapper.width() - scrollbar;\n                               var width = currentWidth;\n\n                               if (isLocked && gridWidth - columnWidth + width > totalWidth) {\n                                   width = columnWidth + (totalWidth - gridWidth - scrollbar * 2);\n                                   if (width < 0) {\n                                       width = currentWidth;\n                                   }\n                                   constrain = true;\n                               }\n\n                               if (width > 10 && width >= columnMinWidth) {\n                                   col.css('width', width);\n\n                                   if (gridWidth) {\n                                       if (constrain) {\n                                           width = totalWidth - scrollbar * 2;\n                                       } else {\n                                           width = gridWidth + (e.x.location * rtlMultiplier) - (columnStart * rtlMultiplier);\n                                       }\n\n                                       contentTable\n                                           .add(header)\n                                           .add(footer)\n                                           .css('width', width);\n\n                                       if (!isLocked) {\n                                           that._footerWidth = width;\n                                       }\n                                   }\n                               }\n\n                               that._scrollVirtualWrapperOnColumnResize();\n                           } else if (currentWidth > 10 && currentWidth >= columnMinWidth) {\n                               col.css('width', currentWidth);\n                           }\n                       },\n                       resizeend: function() {\n                           var newWidth = outerWidth(th),\n                               column,\n                               header;\n\n                           cursor(that.wrapper, \"\");\n\n                           if (browser.webkit) {\n                               that.wrapper.removeClass(\"k-grid-column-resizing\");\n                           }\n\n                           if (th && columnWidth != newWidth) {\n                               header = that.lockedHeader ? that.lockedHeader.find(\"thead\").first().find(TR).first().add(that.thead.find(TR).first()) : th.parent();\n\n                               var index = th.attr(kendo.attr(\"index\"));\n                               if (!index) {\n                                   index = header.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\").index(th);\n                               }\n                               column = leafColumns(that.columns)[index];\n\n                               column.width = newWidth;\n\n                               that.trigger(COLUMNRESIZE, {\n                                   column: column,\n                                   oldWidth: columnWidth,\n                                   newWidth: newWidth\n                               });\n\n                               that._applyLockedContainersWidth(true);\n                               that._syncLockedContentHeight();\n                               that._syncLockedHeaderHeight();\n                               that._updateStickyColumns();\n                           }\n\n                           that._resetResizeHandleHeader();\n                           that._hideResizeHandle();\n                           th = null;\n                       }\n                   });\n\n               }\n           },\n\n           // Row resizing functionality below\n           _addLockedRowResizing: function(tr) {\n               var index = tr.index();\n\n               return this.lockedTable.find(TR).eq(index)\n                   .add(this.tbody.find(TR).eq(index));\n           },\n\n           _getMinRowHeight: function(row) {\n               var minHeight = 0;\n\n               row.each((i, el) => {\n                   var currentMinHeight;\n\n                   el.style.height = '';\n                   currentMinHeight = outerHeight(el);\n\n                   if (currentMinHeight > minHeight) {\n                       minHeight = currentMinHeight;\n                   }\n               });\n\n               return minHeight;\n           },\n\n           _cacheRowHeight: function(rows, height) {\n               var that = this;\n\n               if (!that._cachedRowsHeight) {\n                   that._cachedRowsHeight = {};\n               }\n\n               rows.each((i, el) => {\n                   var uid = el.getAttribute(\"data-uid\");\n\n                   that._cachedRowsHeight[uid] = height;\n               });\n           },\n\n           _clearCachedRowsHeight: function(rows) {\n               var that = this;\n\n               if (rows && that._cachedRowsHeight) {\n                   rows.each((i, el) => {\n                       var uid = el.getAttribute(\"data-uid\");\n\n                       delete that._cachedRowsHeight[uid];\n                   });\n               } else {\n                   that._cachedRowsHeight = null;\n               }\n           },\n\n           _mapCachedRowsHeight: function(method, target) {\n               var input = this._cachedRowsHeight,\n                   ds = this.dataSource,\n                   output = {};\n\n               Object.keys(input).forEach((key) => {\n                   var item = ds[method](key);\n\n                   output[item[target]] = input[key];\n               });\n\n               this._cachedRowsHeight = output;\n           },\n\n           _rowResizerDblClick: function() {\n               var that = this,\n                   resizer = that.rowResizer,\n                   row = resizer.data(TR),\n                   oldHeight = outerHeight(row),\n                   newHeight, rows;\n\n               if (row.hasClass(SELECTED)) {\n                   rows = that.select();\n               } else {\n                   rows = row;\n               }\n\n               if (that.lockedTable) {\n                   row = that._addLockedRowResizing(row);\n\n                   if (row.hasClass(SELECTED)) {\n                       rows = that.lockedTable.find(DOT + SELECTED);\n                   } else {\n                       rows = that.lockedTable.find(TR).eq(row.index());\n                   }\n\n                   rows.each((i, el) => {\n                       var rowIndex = el.rowIndex,\n                           rowPair = $(el).add(that.tbody.find(TR).eq(rowIndex)),\n                           pairMinHeight = that._getMinRowHeight(rowPair);\n\n                       rowPair.css(HEIGHT, pairMinHeight);\n                   });\n               } else {\n                   rows.css(HEIGHT, AUTO);\n               }\n\n               that._clearCachedRowsHeight(rows);\n\n               resizer.removeClass(HOVER);\n               resizer.removeClass(ACTIVE);\n\n               newHeight = outerHeight(row);\n\n               if (oldHeight != newHeight) {\n                   that.trigger(ROWRESIZE, {\n                       row,\n                       rows,\n                       oldHeight,\n                       newHeight\n                   });\n               }\n           },\n\n           _setupRowResizer(resizer, row, top) {\n               resizer\n                   .data(TR, row)\n                   .css({\n                       top: top\n                   });\n           },\n\n           _attachRowResizerEvents: function() {\n               var rowResizer = this.rowResizer,\n                   delay = 200,\n                   isIn = false;\n\n               rowResizer\n                   .on(MOUSEDOWN + NS, (e) => {\n                       if (e.button === 0) {\n                           rowResizer.removeClass(HOVER);\n                           rowResizer.addClass(ACTIVE);\n                       }\n                   })\n                   .on(MOUSEUP + NS, (e) => {\n                       if (e.button === 0) {\n                           rowResizer.removeClass(ACTIVE);\n                           rowResizer.addClass(HOVER);\n                       }\n                   })\n                   .on(MOUSEENTER + NS, () => {\n                       isIn = true;\n\n                       setTimeout(() => {\n                           if (isIn) {\n                               rowResizer.addClass(HOVER);\n                           }\n                       }, delay);\n                   })\n                   .on(MOUSELEAVE + NS, () => {\n                       isIn = false;\n                       rowResizer.removeClass(HOVER);\n                   });\n           },\n\n           _getResizerTop: function(tr, container) {\n               var resizer = this.rowResizer,\n                   inner = resizer.find(DOT + ROW_RESIZER)[0],\n                   paddingTop = parseInt(getComputedStyle(resizer[0]).paddingTop);\n\n               return tr.offset().top -\n                   parseFloat(tr.css(\"marginTop\")) -\n                   (container.offset().top + parseFloat(container.css(\"borderTopWidth\"))) -\n                   inner.clientHeight -\n                   paddingTop +\n                   container.scrollTop();\n           },\n\n           _getResizerContainer: function() {\n               var container = this.tbody.closest(DIV);\n\n               if (this.lockedTable) {\n                   container = container.closest(DOT + \"k-grid-container\");\n               }\n\n               return container;\n           },\n\n           _createRowResizer: function(e) {\n               var that = this,\n                   tr = $(e.currentTarget),\n                   targetHeight = e.currentTarget.clientHeight,\n                   positionIntarget = e.offsetY,\n                   rowResizer = that.rowResizer,\n                   previousRow = tr.prev(TR + \":visible\"),\n                   container = that._getResizerContainer(),\n                   top;\n\n               if (!rowResizer) {\n                   rowResizer = that.rowResizer = $('<div class=\"k-resizer-wrap\"><div class=\"k-row-resizer\"></div></div>');\n                   container.append(rowResizer);\n                   that._attachRowResizerEvents();\n\n                   rowResizer.off(DUBLECLICK + NS).on(DUBLECLICK + NS, that._rowResizerDblClick.bind(that));\n               }\n\n               top = that._getResizerTop(tr, container);\n\n               if (previousRow.length !== 0 && targetHeight / 2 > positionIntarget) {\n                   if (!previousRow.hasClass(GROUPING_ROW)) {\n                       that._setupRowResizer(rowResizer, previousRow, top);\n                   }\n               } else {\n                   if (!tr.hasClass(GROUPING_ROW)) {\n                       that._setupRowResizer(rowResizer, tr, top + targetHeight);\n                   }\n               }\n           },\n\n           _detachRowResizerEvents: function() {\n               var rowResizer = this.rowResizer;\n\n               rowResizer\n                   .off(MOUSEDOWN + NS)\n                   .off(MOUSEUP + NS)\n                   .off(MOUSEENTER + NS)\n                   .off(MOUSELEAVE + NS);\n           },\n\n           _mapResizedRows: function(rows, multiSelectionLocked, newHeight) {\n               var that = this;\n\n               rows.each((i, el) => {\n                   var minHeight;\n\n                   if (multiSelectionLocked) {\n                       var rowIndex = el.rowIndex,\n                           pairNew = newHeight,\n                           pairMin = 0,\n                           rowPair = $(el).add(that.tbody.find(TR).eq(rowIndex));\n\n                       rowPair.each((i, r) => {\n                           var currentMinHeight;\n\n                           r.style.height = '';\n                           currentMinHeight = outerHeight(r);\n\n                           if (currentMinHeight > pairMin) {\n                               pairMin = currentMinHeight;\n                           }\n                       });\n\n                       if (pairNew < pairMin) {\n                           pairNew = pairMin;\n\n                           that._clearCachedRowsHeight(rowPair.eq(0));\n                       } else {\n                           that._cacheRowHeight(rowPair.eq(0), pairNew);\n                       }\n\n                       rowPair.css(HEIGHT, pairNew);\n                   } else {\n                       el.style.height = '';\n                       minHeight = outerHeight(el);\n\n                       if (newHeight > minHeight) {\n                           el.style.height = newHeight + PX;\n\n                           that._cacheRowHeight($(el), newHeight);\n                       } else {\n                           that._clearCachedRowsHeight($(el));\n                       }\n                   }\n               });\n           },\n\n           _rowResizing: function() {\n               var that = this,\n                   options = that.options,\n                   container, rowStart, rowHeight, tr;\n\n               if (options.resizable && options.resizable.rows === true) {\n                   that.tbody\n                       .parent()\n                       .add(that.lockedTable)\n                       .on(MOUSEMOVE + NS, \".k-grid-footer tr, .k-table-tbody tr\", that._createRowResizer.bind(that));\n\n                   if (that.rowResizing) {\n                       that.rowResizing.destroy();\n                   }\n\n                   container = that._getResizerContainer();\n\n                   that.rowResizing = new ui.Resizable(container, {\n                       handle: DOT + ROW_RESIZER_WRAP,\n                       start: function(e) {\n                           tr = $(e.currentTarget).data(TR);\n\n                           if (that.lockedTable) {\n                               tr = that._addLockedRowResizing(tr);\n                           }\n\n                           tr.addClass(HOVER);\n\n                           that._detachRowResizerEvents();\n\n                           rowStart = e.y.location;\n                           rowHeight = outerHeight(tr);\n                       },\n                       resize: function(e) {\n                           var newHeight = rowHeight + e.y.location - rowStart,\n                               minHeight = 0;\n\n                           if (tr.length > 1) {\n                               minHeight = that._getMinRowHeight(tr);\n                           }\n\n                           if (newHeight < minHeight) {\n                               newHeight = minHeight;\n                           }\n\n                           tr.css('height', newHeight);\n\n                           that._setupRowResizer(that.rowResizer, tr, that._getResizerTop(tr, container) + newHeight);\n                       },\n                       resizeend: function() {\n                           var newHeight = outerHeight(tr),\n                               multiSelectionLocked = false,\n                               rows;\n\n                           if (tr.hasClass(SELECTED)) {\n                               rows = that.select();\n\n                               if (tr.length > 1 && rows.length > tr.length) {\n                                   rows = that.lockedTable.find(DOT + SELECTED).not(tr);\n                                   multiSelectionLocked = true;\n                               }\n                           } else {\n                               rows = tr;\n                           }\n\n                           that._mapResizedRows(rows, multiSelectionLocked, newHeight);\n\n                           tr.removeClass(HOVER);\n\n                           that.rowResizer.removeClass(ACTIVE);\n                           that.rowResizer.addClass(HOVER);\n                           that._attachRowResizerEvents();\n\n                           if (multiSelectionLocked) {\n                               rows = that.select();\n                           }\n\n                           if (rowHeight != newHeight) {\n                               that.trigger(ROWRESIZE, {\n                                   row: tr,\n                                   rows,\n                                   oldHeight: rowHeight,\n                                   newHeight\n                               });\n                           }\n\n                           tr = null;\n                       }\n                   });\n               }\n           },\n\n           _draggable: function() {\n               var that = this,\n                   reorderable = that.options.reorderable;\n\n               if (reorderable === true || (reorderable && reorderable.columns)) {\n\n                   if (that._draggableInstance) {\n                       that._draggableInstance.destroy();\n                   }\n\n                   var header = that.wrapper.children(\".k-grid-header\");\n\n                   that._draggableInstance = that.wrapper.kendoDraggable({\n                       group: kendo.guid(),\n                       autoScroll: true,\n                       filter: that.content ? \".k-grid-header:first \" + HEADERCELLS : \"table:first>.k-grid-header \" + HEADERCELLS,\n                       dragstart: function() {\n                           header.children(\".k-grid-header-wrap\").off(\"scroll\" + NS + \"scrolling\").on(\"scroll\" + NS + \"scrolling\", function(e) {\n                               if (that.virtualScrollable) {\n                                   kendo.scrollLeft(that.content.find(\">.k-virtual-scrollable-wrap\"), this.scrollLeft);\n                               } else {\n                                   kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                               }\n                           });\n                       },\n                       dragend: function() {\n                           that._resetResizeHandleHeader();\n                           header.children(\".k-grid-header-wrap\").off(\"scroll\" + NS + \"scrolling\");\n                       },\n                       drag: function() {\n                           that._hideResizeHandle();\n                       },\n                       hint: function(target) {\n                           var title = target.attr(kendo.attr(\"title\"));\n                           if (title) {\n                               title = kendo.htmlEncode(title);\n                           }\n                           return $('<div class=\"k-reorder-clue k-drag-clue\" />')\n                               .html(title || target.attr(kendo.attr(\"field\")) || target.text())\n                               .prepend(kendo.ui.icon({ icon: \"cancel\", iconClass: \"k-drag-status\" }));\n                       }\n                   }).data(\"kendoDraggable\");\n               }\n           },\n\n           _reorderable: function() {\n               let that = this,\n                   reorderable = that.options.reorderable;\n\n               if (reorderable === true || (reorderable && reorderable.columns)) {\n                   if (that.wrapper.data(\"kendoReorderable\")) {\n                       that.wrapper.data(\"kendoReorderable\").destroy();\n                   }\n\n                   that.wrapper.kendoReorderable({\n                       draggable: that._draggableInstance,\n                       dropFilter: HEADERCELLS,\n                       dragOverContainers: function(sourceIndex, targetIndex) {\n                           let columns = flatColumnsInDomOrder(that.columns);\n                           return columns[sourceIndex].lockable !== false && targetParentContainerIndex(columns, that.columns, sourceIndex, targetIndex) > -1;\n                       },\n                       inSameContainer: function(e) {\n                           let sourceParent = $(e.source).parent()[0],\n                               targetParent = $(e.target).parent()[0],\n                               sourceIndex = e.sourceIndex,\n                               targetIndex = e.targetIndex,\n                               flatColumns = flatColumnsInDomOrder(that.columns),\n                               lockable = flatColumns && flatColumns[sourceIndex] && !!flatColumns[sourceIndex].lockable;\n\n                           /* If there are locked columns, check if the grid header is the same instead.\n                           Otherwise the locked/unlocked headers are treated as separate(in the case of column reordering they shouldn't be). */\n                           if (that._isLocked() && lockable) {\n                               sourceParent = $(e.source.closest(\".k-grid-header\"))[0];\n                               targetParent = $(e.target.closest(\".k-grid-header\"))[0];\n                           }\n\n                           return sourceParent === targetParent && targetParentContainerIndex(flatColumns, that.columns, sourceIndex, targetIndex) > -1;\n                       },\n                       change: function(e) {\n                           let columns = flatColumnsInDomOrder(that.columns);\n                           let column = columns[e.oldIndex];\n                           let newIndex = targetParentContainerIndex(columns, that.columns, e.oldIndex, e.newIndex);\n\n                           that.trigger(COLUMNREORDER, {\n                               newIndex: newIndex,\n                               oldIndex: inArray(column, columns),\n                               column: column\n                           });\n\n                           that.reorderColumn(newIndex, column, e.position === \"before\");\n                       }\n                   });\n               }\n           },\n\n           _reorderHeader: function(sources, target, before, container) {\n               var that = this;\n               var sourcePosition = columnPosition(sources[0], that.columns);\n               var destPosition = columnPosition(target, that.columns);\n               var action;\n               var ths;\n\n               var leafs = [];\n               for (var idx = 0; idx < sources.length; idx++) {\n                   if (sources[idx].columns) {\n                       leafs = leafs.concat(sources[idx].columns);\n                   }\n               }\n               if (container) {\n                   ths = elements(container, container, \"tr:eq(\" + sourcePosition.row + \")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n               } else {\n                   ths = elements(that.lockedHeader, that.thead, \"tr:eq(\" + sourcePosition.row + \")>th.k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n               }\n\n               var sourceLockedColumns = lockedColumns(sources).length;\n               var targetLockedColumns = lockedColumns([target]).length;\n\n               if (leafs.length) {\n                   if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                       action = \"prepend\";\n                       moveCellsBetweenContainers(sources, target, leafs, that.columns, that.lockedHeader.find(\"thead\"), that.thead, this._groups(), action);\n                   } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                       action = destPosition.cell === 0 && sources[0].columns && !target.columns && !that._group ? \"prepend\" : \"append\";\n                       moveCellsBetweenContainers(sources, target, leafs, nonLockedColumns(that.columns), that.thead, that.lockedHeader.find(\"thead\"), this._groups(), action);\n                   }\n\n                   if (target.columns || sourcePosition.cell - destPosition.cell > 1 || destPosition.cell - sourcePosition.cell > 1) {\n                       target = findReorderTarget(that.columns, target, sources[0], before, that.columns);\n                       if (target) {\n                           if (sourceLockedColumns > 0 && targetLockedColumns === 0) {\n                               that._reorderHeader(leafs, target, before, that.thead);\n                           } else if (sourceLockedColumns === 0 && targetLockedColumns > 0) {\n                               that._reorderHeader(leafs, target, before, that.lockedHead);\n                           } else {\n                               that._reorderHeader(leafs, target, before);\n                           }\n                       }\n                   }\n               } else if (sourceLockedColumns !== targetLockedColumns) { // move between containers\n                   updateCellRowSpan(ths[sourcePosition.cell], that.columns, sourceLockedColumns);\n               }\n\n               reorder(ths, sourcePosition.cell, destPosition.cell, before, sources.length);\n           },\n\n           _reorderContent: function(sources, destination, before) {\n               var that = this;\n               var lockedRows = $();\n               var source = sources[0];\n               var visibleSources = visibleColumns(sources);\n               var sourceIndex = inArray(source, leafColumns(that.columns));\n               var destIndex = inArray(destination, leafColumns(that.columns));\n\n               var colSourceIndex = inArray(visibleSources[0], visibleLeafColumns(that.columns));\n               var colDest = inArray(destination, visibleLeafColumns(that.columns));\n               var lockedCount = lockedColumns(that.columns).length;\n               var isLocked = !!destination.locked;\n               var footer = that.footer || that.wrapper.find(\".k-grid-footer\");\n\n               var headerCol, footerCol, beforeVisibleColumn;\n               headerCol = footerCol = colDest;\n\n               if (destination.hidden) {\n                   var columnsArray = isLocked ? lockedColumns(that.columns) : nonLockedColumns(that.columns);\n\n                   if (visibleColumns(columnsArray).length > 0) {\n                       headerCol = footerCol = colDest = this._findClosestVisibleColumnIndex(columnsArray, destIndex);\n                       beforeVisibleColumn = visibleColumns(columnsArray.slice(destIndex)).length > 0;\n                   }\n                   else {\n                       if (isLocked) {\n                           colDest = that.lockedTable.find(\"colgroup\");\n                           headerCol = that.lockedHeader.find(\"colgroup\");\n                           footerCol = $(that.lockedFooter).find(\">table>colgroup\");\n                       } else {\n                           colDest = that.tbody.prev();\n                           headerCol = that.thead.prev();\n                           footerCol = footer.find(\".k-grid-footer-wrap\").find(\">table>colgroup\");\n                       }\n                   }\n               }\n\n               if (that._hasFilterRow()) {\n                   reorder(that.wrapper.find(\".k-filter-row td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n               }\n\n               if (colSourceIndex >= 0) {\n                   reorder(elements(that.lockedHeader, that.thead.prev(), COLGROUP), colSourceIndex, headerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n               }\n\n               if (that.options.scrollable) {\n                   if (colSourceIndex >= 0 && !that._hasVirtualColumns()) {\n                       reorder(elements(that.lockedTable, that.tbody.prev(), COLGROUP), colSourceIndex, colDest, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                   }\n               }\n\n               if (footer && footer.length) {\n                   if (colSourceIndex >= 0) {\n                       reorder(elements(that.lockedFooter, footer.find(\".k-grid-footer-wrap\"), \">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)\"), colSourceIndex, footerCol, beforeVisibleColumn ? beforeVisibleColumn : before, visibleSources.length);\n                   }\n                   reorder(footer.find(\".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n               }\n\n               var rows = that.tbody.children(\":not(.k-grouping-row,.k-detail-row)\");\n               if (that.lockedTable) {\n                   if (lockedCount > destIndex) {\n                       if (lockedCount <= sourceIndex) {\n                           updateColspan(\n                               that.lockedTable.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                               that.table.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                               sources.length\n                           );\n                       }\n                   } else if (lockedCount > sourceIndex) {\n                       updateColspan(\n                           that.table.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                           that.lockedTable.find(\">tbody>tr.k-grouping-row:not([hidden])\"),\n                           sources.length\n                       );\n                   }\n\n                   lockedRows = that.lockedTable.find(\">tbody>tr:not(.k-grouping-row,.k-detail-row)\");\n               }\n\n               for (var idx = 0, length = rows.length; idx < length; idx += 1) {\n                   reorder(elements(lockedRows[idx], rows[idx], \">td:not(.k-group-cell,.k-hierarchy-cell)\"), sourceIndex, destIndex, before, sources.length);\n               }\n           },\n\n           _findClosestVisibleColumnIndex: function(columns, columnIndex) {\n               var columnsArray = visibleColumns(columns.slice(columnIndex)).length > 0 ? columns.slice(columnIndex) : columns.slice(0, columnIndex + 1).reverse(),\n                   closestVisibleColumn = visibleColumns(columnsArray)[0];\n\n               return inArray(closestVisibleColumn, visibleColumns(this.columns));\n           },\n\n           _autoFitLeafColumn: function(leafIndex) {\n               this.autoFitColumn(leafColumns(this.columns)[leafIndex]);\n           },\n\n           _hasReorderableRows: function() {\n               return this.options.reorderable && this.options.reorderable.rows;\n           },\n\n           _draggableRows: function() {\n               var that = this,\n                   selectable = that._checkBoxSelection ||\n                       (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell),\n                   clickMoveClick = false,\n                   isMobile = !!(that._isMobile || kendo.support.mobileOS);\n\n               if (that._draggableRowsInstance) {\n                   that._draggableRowsInstance.destroy();\n               }\n\n               if (this.options.reorderable.rows.clickMoveClick !== false && this._hasDragHandleColumn) {\n                   clickMoveClick = true;\n               }\n\n               that._draggableRowsInstance = that.tbody.kendoDraggable({\n                   holdToDrag: isMobile,\n                   showHintOnHold: isMobile,\n                   preventOsHoldFeatures: isMobile,\n                   group: \"row-draggable\",\n                   autoScroll: true,\n                   filter: (selectable ? \" > .k-selected\" : \" > \" + ITEMROW) + (that._hasDragHandleColumn ? \" > .k-drag-cell\" : \"\"),\n                   hint: function(target) {\n                       var hint = $('<div class=\"k-reorder-clue k-drag-clue\">' + kendo.ui.icon({ icon: \"cancel\", iconClass: \"k-drag-status\" }) + '</div>');\n\n                       if (selectable && that.select().length > 1 && that.lockedContent) {\n                           hint.append(\"<span>\" + that.select().length / 2 + \" \" + encode(that.options.messages.itemsSelected) + \"</span>\");\n                       } else if (selectable && that.select().length > 1 && !that.lockedContent) {\n                           hint.append(\"<span>\" + that.select().length + \" \" + encode(that.options.messages.itemsSelected) + \"</span>\");\n                       } else {\n                           var clone = target.closest(ITEMROW).clone();\n                           clone.find(\"td.k-command-cell\").remove();\n                           clone.find(\"td\").each(function(index, elm) {\n                               hint.append(\"<span>\" + elm.innerText + \"&nbsp;</span>\");\n                           });\n                       }\n\n                       return hint;\n                   },\n                   clickMoveClick: clickMoveClick,\n                   cursorOffset: { top: 0, left: 0 }\n               }).data(\"kendoDraggable\");\n           },\n\n           _reorderableRows: function() {\n               var that = this,\n                   selectable = that._checkBoxSelection ||\n                               (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell);\n\n               if (that.tbody.data(\"kendoReorderable\")) {\n                   that.tbody.data(\"kendoReorderable\").destroy();\n               }\n\n               that.tbody.kendoReorderable({\n                   smartPosition: false,\n                   draggable: that._draggableRowsInstance,\n                   dragOverContainers: function(sourceIndex, targetIndex) {\n                       var result = true,\n                           target = $(ITEMROW, that.content).eq(targetIndex);\n\n                       if (selectable) {\n                           result = !target.is(\".k-selected\");\n                       }\n\n                       return result;\n                   },\n                   inSameContainer: function(e) {\n                       if (selectable) {\n                           return !$(e.target).is(\".k-selected\");\n                       }\n\n                       return true;\n                   },\n                   dropFilter: \"> \" + ITEMROW,\n                   allowIcon: \"insert-middle\",\n                   orientation: \"vertical\",\n                   reorderDropCue: $('<div class=\"k-drop-hint k-drop-hint-h\"><div class=\"k-drop-hint-start\"></div><div class=\"k-drop-hint-line\"></div></div>'),\n                   positionDropCue: function(reorderDropCue, dropTarget) {\n                       var firstCellLeft = kendo.getOffset(dropTarget.children(DATA_CELL).eq(0)).left;\n                       reorderDropCue.css({\n                           transform: \"translate(0,-50%)\",\n                           left: firstCellLeft\n                       });\n                   },\n                   externalDraggable: function(e) {\n                       var draggable = e.draggable;\n\n                       if (draggable) {\n                           return draggable;\n                       }\n                   },\n                   change: function(e) {\n                       that._triggerRowRorder(e);\n                   }\n               });\n           },\n\n           _triggerRowRorder: function(e) {\n               var that = this,\n                   args = {\n                       newIndex: e.position === \"after\" ? e.newIndex + 1 : e.newIndex,\n                       oldIndex: e.oldIndex\n                   },\n                   row = e.element,\n                   selectable = that._checkBoxSelection ||\n                   (that.options.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell);\n\n               if (selectable && that.select().length > 1) {\n                   args = extend(args, {\n                       rows: that.select()\n                   });\n               } else {\n                   args = extend(args, {\n                       row: row\n                   });\n               }\n\n               if (!that.trigger(ROWREORDER, args)) {\n                   that.reorderRows(selectable ? that.select() : row, args.newIndex);\n               }\n           },\n\n           reorderRowTo: function(row, index) {\n               var that = this,\n                   item = that.dataItem(row),\n                   oldIndex = row.index();\n\n               if (index < 0 || index === oldIndex) {\n                   return;\n               }\n\n               if (!that.trigger(ROWREORDER, {\n                   row: row,\n                   oldIndex: row.index(),\n                   newIndex: index\n               })) {\n                   that.dataSource.pushMove(index, [item]);\n               }\n           },\n\n           reorderRows: function(rows, index) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   rowsLength = that.tbody.children(ITEMROW).length,\n                   targetItem = that.dataItem(that.tbody.children(ITEMROW).eq(index)),\n                   items = rows.toArray().map(function(row) {\n                       return that.dataItem(row);\n                   });\n\n               if (!targetItem) {\n                   // If index is after last row dataItem wouldn't exist\n                   targetItem = that.dataItem(that.tbody.children(ITEMROW).eq(rowsLength - 1));\n                   index = dataSource.indexOf(targetItem) + 1;\n               } else {\n                   index = dataSource.indexOf(targetItem);\n               }\n\n               if (index >= 0) {\n                   that._rowDropping = true;\n                   dataSource.pushMove(index, items);\n                   that._rowDropping = false;\n               }\n           },\n\n           autoFitColumns: function(columns) {\n               var that = this;\n\n               columns = columns || that.columns;\n\n               for (var i = 0; i < columns.length; i++) {\n                   var column = columns[i];\n\n                   if (column.columns) {\n                       that.autoFitColumns(column.columns);\n                   } else {\n                       that.autoFitColumn(column);\n                   }\n               }\n           },\n\n           autoFitColumn: function(column) {\n               var that = this,\n                   options = that.options,\n                   columns = that.columns,\n                   index,\n                   th,\n                   headerTable,\n                   leafCols,\n                   isLocked,\n                   visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).filter(isCellVisible).length : 0,\n                   col,\n                   minWidth,\n                   contentDiv, scrollLeft,\n                   notGroupOrHierarchyCol = \"col:not(.k-group-col):not(.k-hierarchy-col)\",\n                   notGroupOrHierarchyVisibleCell = \"td:visible:not(.k-group-cell):not(.k-hierarchy-cell)\",\n                   menu,\n                   thWidth;\n\n               //  retrieve the column object, depending on the method argument\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else if (isPlainObject(column)) {\n                   column = grep(flatColumns(columns), function(item) {\n                       return item === column;\n                   })[0];\n               } else {\n                   column = grep(flatColumns(columns), function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || !isVisible(column)) {\n                   return;\n               }\n\n               leafCols = leafColumns(columns);\n               minWidth = column.minResizableWidth;\n               index = inArray(column, leafCols);\n               isLocked = column.locked;\n\n               if (isLocked) {\n                   headerTable = that.lockedHeader.children(\"table\");\n               } else {\n                   headerTable = that.thead.parent();\n               }\n\n               th = headerTable.find(\"[data-index='\" + index + \"']\");\n               menu = th.find('a.k-grid-column-menu, a.k-grid-filter-menu');\n\n               var contentTable = isLocked ? that.lockedTable : that.table,\n                   footer = that.footer || $();\n\n               if (that.footer && that.lockedContent) {\n                   footer = isLocked ? that.footer.children(\".k-grid-footer-locked\") : that.footer.children(\".k-grid-footer-wrap\");\n               }\n\n               var footerTable = footer.find(\"table\").first();\n\n               if (that.lockedHeader && !isLocked) {\n                   index -= visibleLocked;\n               }\n\n               // adjust column index, depending on previous hidden columns\n               for (var j = 0; j < leafCols.length; j++) {\n                   if (leafCols[j] === column) {\n                       break;\n                   } else {\n                       if (leafCols[j].hidden) {\n                           index--;\n                       }\n                   }\n               }\n\n               // get col elements\n               if (options.scrollable) {\n                   col = headerTable.find(notGroupOrHierarchyCol).eq(index)\n                       .add(contentTable.children(\"colgroup\").find(notGroupOrHierarchyCol).eq(index))\n                       .add(footerTable.find(\"colgroup\").find(notGroupOrHierarchyCol).eq(index));\n\n                   if (!isLocked) {\n                       contentDiv = contentTable.parent();\n                       scrollLeft = kendo.scrollLeft(contentDiv);\n                   }\n               } else {\n                   col = contentTable.children(\"colgroup\").find(notGroupOrHierarchyCol).eq(index);\n               }\n\n               var tables = headerTable.add(contentTable).add(footerTable);\n\n               if (browser.safari) {\n                   th.css(\"white-space\", \"initial\");\n               }\n\n               var oldColumnWidth = outerWidth(th);\n\n               // reset the table and autofitted column widths\n               // if scrolling is disabled, we need some additional repainting of the table\n               col.width(\"\");\n               tables.css(\"table-layout\", \"fixed\");\n               col.width(AUTO);\n               tables.addClass(\"k-autofitting\");\n               tables.css(\"table-layout\", \"\");\n\n               thWidth = outerWidth(th);\n\n               // +1 is required by IE, regardless of the border widths, otherwise unexpected wrapping may occur with hyphenated text\n               var newColumnWidth = Math.ceil(Math.max(\n                   thWidth,\n                   outerWidth(contentTable.find(\"tr:not(.k-grouping-row)\").eq(0).children(notGroupOrHierarchyVisibleCell).eq(index)),\n                   outerWidth(footerTable.find(TR).eq(0).children(notGroupOrHierarchyVisibleCell).eq(index))\n               )) + 1;\n\n               if (minWidth && minWidth > newColumnWidth) {\n                   newColumnWidth = minWidth;\n               }\n\n               col.width(newColumnWidth);\n               column.width = newColumnWidth;\n\n               if (browser.safari) {\n                   th.css(\"white-space\", \"\");\n               }\n\n               // if all visible columns have widths, the table needs a pixel width as well\n               if (options.scrollable) {\n                   var cols = headerTable.find(\"col\"),\n                       colWidth,\n                       totalWidth = 0;\n                   for (var idx = 0, length = cols.length; idx < length; idx += 1) {\n                       colWidth = cols[idx].style.width;\n                       if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                           totalWidth += parseInt(colWidth, 10);\n                       } else if (cols.eq(idx).hasClass(\"k-group-col\")) {\n                           totalWidth += parseInt(cols.eq(idx).width(), 10);\n                       } else {\n                           totalWidth = 0;\n                           break;\n                       }\n                   }\n\n                   if (totalWidth) {\n                       tables.each(function() {\n                           this.style.width = totalWidth + PX;\n                       });\n                   }\n               }\n\n               tables.removeClass(\"k-autofitting\");\n\n               if (scrollLeft) {\n                   kendo.scrollLeft(contentDiv, scrollLeft);\n               }\n\n               that.trigger(COLUMNRESIZE, {\n                   column: column,\n                   oldWidth: oldColumnWidth,\n                   newWidth: newColumnWidth\n               });\n\n               that._applyLockedContainersWidth();\n               that._syncLockedContentHeight();\n               that._syncLockedHeaderHeight();\n               that._updateStickyColumns();\n           },\n\n           reorderColumn: function(destIndex, column, before) {\n               var that = this,\n                   parent = columnParent(column, that.columns),\n                   columns = parent ? parent.columns : that.columns,\n                   sourceIndex = inArray(column, columns),\n                   destColumn = columns[destIndex],\n                   virtualScroll = that.virtualScroll || {},\n                   lockChanged,\n                   isLocked = !!destColumn.locked,\n                   lockedCount = lockedColumns(that.columns).length,\n                   groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (sourceIndex === destIndex) {\n                   return;\n               }\n\n               if (!column.locked && isLocked && nonLockedColumns(that.columns).length == 1) {\n                   return;\n               }\n\n               if (column.locked && !isLocked && lockedCount == 1) {\n                   return;\n               }\n\n               that._hideResizeHandle();\n\n               if (before === undefined$1) {\n                   before = destIndex < sourceIndex;\n               }\n\n               var sourceColumns = [column];\n\n               that._reorderHeader(sourceColumns, destColumn, before);\n\n               if (that.lockedHeader) {\n                   removeEmptyRows(that.thead);\n                   removeEmptyRows(that.lockedHeader);\n               }\n\n               if (destColumn.columns) {\n                   destColumn = leafColumns(destColumn.columns);\n                   destColumn = destColumn[before ? 0 : destColumn.length - 1];\n               }\n\n               if (column.columns) {\n                   sourceColumns = leafColumns(column.columns);\n               }\n\n               that._reorderContent(sourceColumns, destColumn, before);\n\n               lockChanged = !!column.locked;\n               lockChanged = lockChanged != isLocked;\n               column.locked = isLocked;\n\n               columns.splice(before ? destIndex : destIndex + 1, 0, column);\n               columns.splice(sourceIndex < destIndex ? sourceIndex : sourceIndex + 1, 1);\n\n               that._updateLockedCols();\n               that._updateCols();\n               that._templates();\n\n               that._updateColumnCellIndex();\n               that._updateColumnSorters();\n\n               if (groupHeaderColumnTemplateColumns.length > 0) {\n                   that._renderGroupRows();\n               }\n               that._updateTablesWidth();\n               that._applyLockedContainersWidth();\n               that._syncLockedHeaderHeight();\n               that._syncLockedContentHeight();\n               that._updateFirstColumnClass();\n               that._updateStickyColumns();\n\n               if (virtualScroll.columns) {\n                   that.refresh();\n               }\n\n               if (!lockChanged) {\n                   return;\n               }\n\n               if (isLocked) {\n                   that.trigger(COLUMNLOCK, {\n                       column: column\n                   });\n               } else {\n                   that.trigger(COLUMNUNLOCK, {\n                       column: column\n                   });\n               }\n           },\n\n           _updateColumnCellIndex: function() {\n               var header;\n               var offset = 0;\n\n               if (this.lockedHeader) {\n                   header = this.lockedHeader.find(\"thead\");\n                   offset = updateCellIndex(header, lockedColumns(this.columns));\n               }\n               updateCellIndex(this.thead, nonLockedColumns(this.columns), offset);\n           },\n\n           lockColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || column.locked || column.hidden) {\n                   return;\n               }\n\n               if (column.sticky) {\n                   this.unstickColumn(columns.indexOf(column));\n               }\n\n               var index = lockedColumns(columns).length - 1;\n               this.reorderColumn(index, column, false);\n           },\n\n           unlockColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || !column.locked || column.hidden) {\n                   return;\n               }\n\n               var index = lockedColumns(columns).length;\n               this.reorderColumn(index, column, true);\n           },\n\n           stickColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || column.sticky || column.hidden) {\n                   return;\n               }\n\n               if (column.locked) {\n                   this.unlockColumn(columns.indexOf(column));\n\n                   if (column.locked) {\n                       return;\n                   }\n               }\n\n               column.sticky = true;\n               this._updateStickyColumns();\n           },\n\n           unstickColumn: function(column) {\n               var columns = this.columns;\n\n               if (typeof column == \"number\") {\n                   column = columns[column];\n               } else {\n                   column = grep(columns, function(item) {\n                       return item.field === column;\n                   })[0];\n               }\n\n               if (!column || !column.sticky || column.locked || column.hidden) {\n                   return;\n               }\n\n               this._removeStickyAttributes([column]);\n               this._removeStickyStyles(stickyColumns(columns));\n\n               column.sticky = false;\n               this._updateStickyColumns();\n\n               if (this._anyStickyColumns() === 0) {\n                   this._templates();\n                   if (this._hasFilterRow()) {\n                       this._updateStickyFilterCells();\n                   }\n               }\n           },\n\n           cellIndex: function(td) {\n               var lockedColumnOffset = 0;\n\n               if (this.lockedTable && !$.contains(this.lockedTable[0], td[0])) {\n                   lockedColumnOffset = leafColumns(lockedColumns(this.columns)).length;\n               }\n\n               return $(td).parent().children('td:not(.k-group-cell,.k-hierarchy-cell)').index(td) + lockedColumnOffset;\n           },\n\n           _modelForContainer: function(container) {\n               container = $(container);\n\n               if (!container.is(TR) && this._editMode() !== \"popup\") {\n                   container = container.closest(TR);\n               }\n\n               var id = container.attr(kendo.attr(\"uid\")) || container.find(\".k-popup-edit-form\").attr(kendo.attr(\"uid\"));\n\n               return this.dataSource.getByUid(id);\n           },\n\n           _calculateColumnIndex: function(cell) {\n               var cellIndex = this.cellIndex(cell);\n               var virtualOffset = 0;\n\n               if (this._hasVirtualColumns()) {\n                   virtualOffset = parseInt($(cell).closest(TR).find(\"td\").first().attr(\"colspan\"), 10);\n                   virtualOffset = (virtualOffset > 1 ? virtualOffset - 1 : 0);\n               }\n\n               return cellIndex + virtualOffset;\n           },\n\n           _editable: function() {\n               let that = this,\n                   editable = that.options.editable,\n                   handler = function() {\n                       let target = activeElement(),\n                           cell = that._editContainer;\n\n                       if (cell && cell[0] && !$.contains(cell[0], target) && cell[0] !== target && !$(target).closest(\".k-animation-container\").length) {\n                           if (that.editable.end()) {\n                               that.closeCell();\n                           } else {\n                               that._scrollVirtualWrapper();\n                           }\n                       }\n                   },\n                   mobileOS = kendo.support.mobileOS,\n                   useDoubleTapEditing = !!(that._isMobile || mobileOS),\n                   /*\n                       https://github.com/telerik/kendo-ui-core/issues/7817\n                   */\n                   userEventsPreventDefault = mobileOS && mobileOS.ios && (mobileOS.browser === \"chrome\" || mobileOS.browser === \"edge\");\n\n               that._isEditableEnabled = that._isEditableEnabled !== undefined$1 ? that._isEditableEnabled : !editable.readonly;\n\n               if (!that._isEditableEnabled) {\n                   that._removeEditableClickHandlers();\n               }\n\n               if (editable && that._isEditableEnabled) {\n\n                   let mode = that._editMode();\n                   if (mode === \"incell\") {\n                       that.table.add(that.lockedTable)\n                           .on(MOUSEDOWN + NS, NAVROW + \">\" + NAVCELL, function(e) {\n                               let target = $(e.target);\n                               if (that._editMode() === \"incell\" && target.hasClass(\"k-checkbox\") && target.prev().attr(kendo.attr(\"bind\"))) {\n                                   e.preventDefault();\n                               }\n                           });\n\n                       if (editable.update !== false) {\n                           if (isMac) {\n                               that.wrapper\n                                   .on(CLICK + NS, \".k-edit-cell > input[type='checkbox']\", function(e) {\n                                       // checking /unchecking a checkbox does not change the document.activeElement to be the checkbox\n                                       // this is necessary for the \"focusout\" event to be fired\n                                       $(e.target).trigger(\"focus\");\n                                   })\n                                   .on(CLICK + NS, \".k-edit-cell\", function(e) {\n                                       if (!$(e.target).is(\"input\")) {\n                                           $(e.currentTarget).find(\"input[type='checkbox']\").trigger(\"focus\");\n                                       }\n                                   })\n                                   .on(MOUSEDOWN + NS, \"tr:not(.k-grouping-row) > td\", function(e) {\n                                       var editContainer = that._editContainer;\n\n                                       if (editContainer && editContainer[0] && ($.contains(editContainer[0], e.target) || editContainer[0] === e.target)) {\n                                           that._mousedownOnEditCell = true;\n                                       } else {\n                                           that._mousedownOnEditCell = false;\n                                       }\n                                   });\n                           }\n\n                           that.editableUserEvents = new kendo.UserEvents(that.wrapper, {\n                               filter: \"tr:not(.k-grouping-row) > td\",\n                               allowSelection: true,\n                               preventDefault: userEventsPreventDefault,\n                               supportDoubleTap: useDoubleTapEditing,\n                               fastTap: useDoubleTapEditing,\n                               [useDoubleTapEditing ? 'doubleTap' : 'tap']: function(e) {\n                                   var td = $(e.target),\n                                   isLockedCell = that.lockedTable && td.closest(\"table\")[0] === that.lockedTable[0];\n\n                                   that._mousedownOnEditCell = false;\n\n                                   if (td.hasClass(\"k-hierarchy-cell\") ||\n                                       td.hasClass(\"k-detail-cell\") ||\n                                       td.hasClass(\"k-group-cell\") ||\n                                       td.hasClass(\"k-edit-cell\") ||\n                                       td.has(\".k-grid-remove-command\").length ||\n                                       (td.closest(\"tbody\")[0] !== that.tbody[0] && !isLockedCell) ||\n                                       $(e.target).is(\":input\")) {\n                                       return;\n                                   }\n\n                                   if (that.editable) {\n                                       if (that.editable.end()) {\n                                           $(activeElement()).trigger(\"blur\");\n                                           that.closeCell();\n\n                                           if (!that._requestInProgress) {\n                                               that.editCell(td);\n                                           }\n                                       } else {\n                                           that._scrollVirtualWrapper();\n                                       }\n                                   } else {\n                                       that.editCell(td);\n                                   }\n                               }\n                           });\n\n                           that.wrapper.on(\"focusin\" + NS, function() {\n                               // fix focus issue in IE\n                               if (!$.contains(this, activeElement())) {\n                                   clearTimeout(that.timer);\n                                   that.timer = null;\n                               }\n                           })\n                           .on(\"focusout\" + NS, function(e) {\n                               var shouldCloseCell = true;\n\n                               if ((isMac && that._mousedownOnEditCell) || that._virtualColScroll) {\n                                   shouldCloseCell = false;\n                               }\n\n                               that._mousedownOnEditCell = false;\n\n                               if (shouldCloseCell) {\n                                   that.timer = setTimeout(function() {\n                                       handler();\n                                   }, 1);\n                               }\n                           });\n                       }\n                   } else {\n                       if (editable.update !== false) {\n                           that._editCommandClickHandler = that._editCommandClick.bind(that);\n                           that.wrapper.on(CLICK + NS , \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-edit-command\", that._editCommandClickHandler);\n\n                           if (that._isVirtualInlineEditable()) {\n                               that.wrapper.on(\"focusout\" + NS, \"tr:not(.k-grouping-row) > td\", function() {\n                                   if (that.editable && !that.editable.end()) {\n                                       that._scrollVirtualWrapper();\n                                   }\n                               });\n                           }\n                       }\n                   }\n\n                   that._removeCommandClickHandler = that._removeCommandClick.bind(that);\n                   that.wrapper.on(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-remove-command\", that._removeCommandClickHandler);\n               }\n           },\n\n           _editCommandClick: function(e) {\n               let that = this,\n                   element = $(e.currentTarget);\n               if (!that._belongsToGrid(element)) {\n                   return;\n               }\n               e.preventDefault();\n               that.editRow(element.closest(TR));\n           },\n\n           _removeCommandClick: function(e) {\n               let that = this,\n                   editable = that.options.editable,\n                   element = $(e.currentTarget);\n               if (!that._belongsToGrid(element)) {\n                   return;\n               }\n\n               if (editable.destroy !== false) {\n                   e.preventDefault();\n                   e.stopPropagation();\n                   that.removeRow(element.closest(TR));\n               } else {\n                   //Required for the MVC server wrapper delete button.\n                   e.stopPropagation();\n\n                   if (!that._confirmation()) {\n                       e.preventDefault();\n                   }\n               }\n           },\n\n           editCell: function(cell) {\n               cell = $(cell);\n\n               let that = this,\n               column = leafColumns(that.columns)[that._calculateColumnIndex(cell)],\n                   model = that._modelForContainer(cell);\n\n               that.closeCell();\n\n               if (model && isColumnEditable(column, model) && !column.command) {\n                   if (that.trigger(BEFOREEDIT, { model: model })) {\n                       return;\n                   }\n\n                   that._attachModelChange(model);\n\n                   that._editContainer = cell;\n\n                   if (that._shouldClearEditableState) {\n                       that._clearEditableState();\n                   }\n                   that.editable = cell.addClass(\"k-edit-cell\")\n                       .kendoEditable({\n                           fields: editField(column),\n                           model: model,\n                           size: that.options.size,\n                           target: that,\n                           change: function(e) {\n                               if (that.trigger(SAVE, { values: e.values, container: cell, model: model } )) {\n                                   e.preventDefault();\n                               }\n                           },\n                           skipFocus: (that._isVirtualIncellEditable() || that._hasVirtualColumns()) && that._editableState ? true : false\n\n                       }).data(\"kendoEditable\");\n\n                       let tr = cell.parent().addClass(\"k-grid-edit-row\");\n\n                       if (model.new === true) {\n                           tr.addClass(\"k-grid-add-row\");\n                           delete model.new;\n                       }\n\n                   if (that.lockedContent) {\n                       adjustRowHeight(tr[0], that._relatedRow(tr).addClass(\"k-grid-edit-row\")[0]);\n                       if (tr.hasClass(\"k-grid-add-row\")) {\n                           that._relatedRow(tr).addClass(\"k-grid-add-row\");\n                       }\n                       that._syncLockedScroll();\n                   }\n\n                   that.trigger(EDIT, { container: cell, model: model });\n               }\n           },\n\n           enableEditing: function() {\n               let that = this,\n                   toolbar = that.wrapper.find(\".k-grid-toolbar\");\n\n               if (!that._isEditableEnabled) {\n                   that._isEditableEnabled = true;\n                   that._editable();\n                   let addButton = toolbar.find(\".k-grid-add\").getKendoButton();\n\n                   if (addButton) {\n                       addButton.bind(\"click\", that._createClickHandler);\n                   }\n               }\n           },\n\n           disableEditing: function() {\n               let that = this;\n\n               if (that._isEditableEnabled) {\n                   if (that._editMode() === \"incell\") {\n                       that.closeCell();\n                   } else {\n                       that.cancelRow();\n                   }\n\n                   that._clearEditableState();\n                   that._destroyEditable();\n\n                   if (that.editableUserEvents) {\n                       that.editableUserEvents.destroy();\n                       that.editableUserEvents = null;\n                   }\n\n                   that._removeEditableClickHandlers();\n\n                   that._isEditableEnabled = false;\n               }\n           },\n\n           _removeEditableClickHandlers: function() {\n               let that = this,\n                   toolbar = that.wrapper.find(\".k-grid-toolbar\");\n\n               that.wrapper.off(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-edit-command\", that._editCommandClickHandler);\n               that.wrapper.off(CLICK + NS, \"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-remove-command\", that._removeCommandClickHandler);\n               toolbar.off(CLICK + NS, \".k-grid-add\", that._createClickHandler);\n\n               let addButton = toolbar.find(\".k-grid-add\").getKendoButton();\n\n               if (addButton) {\n                   addButton.unbind(\"click\");\n               }\n\n               that._editCommandClickHandler = null;\n               that._removeCommandClickHandler = null;\n           },\n\n           _adjustLockedHorizontalScrollBar: function() {\n               var table = this.table,\n                   content = table.parent();\n\n               var scrollbar = table[0].offsetWidth > content[0].clientWidth ? kendo.support.scrollbar() : 0;\n               this.lockedContent.height(content[0].offsetHeight - scrollbar);\n           },\n\n           _syncLockedScroll: function() {\n               this.lockedContent[0].scrollTop = this.content[0].scrollTop;\n               if (this.virtualScrollable) {\n                   this.lockedContent[0].scrollTop = this.wrapper.find(\".k-virtual-scrollable-wrap\")[0].scrollTop;\n               }\n           },\n\n           _syncLockedContentHeight: function() {\n               if (this.lockedTable) {\n                   if (!this.touchScroller) {\n                       this._adjustLockedHorizontalScrollBar();\n                   }\n                   this._adjustRowsHeight(this.table, this.lockedTable);\n               }\n           },\n\n           _syncLockedHeaderHeight: function() {\n               if (this.lockedHeader) {\n                   var lockedTable = this.lockedHeader.children(\"table\");\n                   var table = this.thead.parent();\n\n                   this._adjustRowsHeight(lockedTable, table);\n\n                   syncTableHeight(lockedTable, table);\n               }\n           },\n\n           _syncLockedFooterHeight: function() {\n               if (this.lockedFooter && this.footer && this.footer.length) {\n                   this._adjustRowsHeight(this.lockedFooter.children(\"table\"), this.footer.find(\".k-grid-footer-wrap > table\"));\n               }\n           },\n\n           _destroyEditable: function() {\n               let that = this;\n\n               let destroy = function() {\n                   if (that.editable) {\n\n                       let container = that.editView ? that.editView.element : that._editContainer;\n                       let window = that._editContainer.data(\"kendoWindow\");\n\n                       if (container) {\n                           if (window) {\n                               container = window.wrapper;\n                           }\n                           container.off(CLICK + NS, \".k-grid-cancel-command, button[ref-cancel-button]\", that._editCancelClickHandler);\n                           container.off(CLICK + NS, \".k-grid-save-command, button[ref-update-button]\", that._editUpdateClickHandler);\n                       }\n\n                       that._detachModelChange();\n                       that.editable.destroy();\n                       that.editable = null;\n                       if (window) {\n                           window.destroy();\n                       }\n                       that._editContainer = null;\n                       that._destroyEditView();\n                       that._editableIsClosing = null;\n                   }\n               };\n\n               if (that.editable) {\n                   if (that._editMode() === \"popup\" && !that._isMobile) {\n                       if (that._editableIsClosing) {\n                           that._editContainer.data(\"kendoWindow\").bind(\"deactivate\", destroy);\n                       }\n                       else {\n                           that._editableIsClosing = true;\n                           that._editContainer.data(\"kendoWindow\").bind(\"deactivate\", destroy).close();\n                       }\n                   } else {\n                       destroy();\n                   }\n               }\n               if (that._confirmDialog) {\n                   that._confirmDialog.close();\n                   that._confirmDialog.destroy();\n                   that._confirmDialog = null;\n               }\n           },\n\n           _destroyEditView: function() {\n               if (this.editView) {\n                   this.editView.purge();\n                   this.editView = null;\n                   this.pane.navigate(\"\");\n               }\n           },\n\n           _attachModelChange: function(model) {\n               var that = this;\n\n               that._modelChangeHandler = function(e) {\n                   that._modelChange({ field: e.field, model: this });\n               };\n\n               model.bind(\"change\", that._modelChangeHandler);\n           },\n\n           _detachModelChange: function() {\n               var that = this,\n                   container = that._editContainer,\n                   model = that._modelForContainer(container);\n\n               if (model) {\n                   model.unbind(CHANGE, that._modelChangeHandler);\n               }\n           },\n\n           closeCell: function(isCancel) {\n               let that = this,\n                   cell = that._editContainer,\n                   column,\n                   tr,\n                   model,\n                   errors;\n\n               if (!cell) {\n                   return;\n               }\n\n               model = that._modelForContainer(cell);\n\n               if (isCancel && that.trigger(\"cancel\", { container: cell, model: model })) {\n                   return;\n               }\n\n               that.trigger(CELLCLOSE, { type: isCancel ? \"cancel\" : \"save\", model: model, container: cell });\n\n               cell.removeClass(\"k-edit-cell\");\n               column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n               errors = that.editable && that.editable.validatable && that.editable.validatable.errors();\n\n               if (isCancel && model.dirtyFields && model.dirtyFields[column.field] && errors.length) {\n                   delete model.dirtyFields[column.field];\n               }\n\n               tr = cell.parent().removeClass(\"k-grid-edit-row\");\n\n               if (tr.hasClass(\"k-grid-add-row\")) {\n                   tr.removeClass(\"k-grid-add-row\");\n               }\n\n               if (that.lockedContent) {\n                   const relatedTr = that._relatedRow(tr);\n                   relatedTr.removeClass(\"k-grid-edit-row\");\n\n                   if (relatedTr.hasClass(\"k-grid-add-row\")) {\n                       relatedTr.removeClass(\"k-grid-add-row\");\n                   }\n               }\n\n               that._destroyEditable(); // editable should be destroyed before content of the container is changed\n\n               that._displayCell(cell, column, model);\n\n               if (that._shouldClearEditableState) {\n                   that._clearEditableState();\n               }\n\n               that.trigger(\"itemChange\", { item: tr, data: model, ns: ui });\n\n               if (that.lockedContent) {\n                   adjustRowHeight(tr.css(HEIGHT, \"\")[0], that._relatedRow(tr).css(HEIGHT, \"\")[0]);\n               }\n           },\n\n           _displayCell: function(cell, column, dataItem) {\n               var that = this,\n                   state = { storage: {}, count: 0 },\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   tmpl = kendo.template(that._cellTmpl(column, state), settings);\n\n               if (state.count > 0) {\n                   tmpl = tmpl.bind(state.storage);\n               }\n\n               cell.empty().html(tmpl(dataItem));\n           },\n\n           removeRow: function(row) {\n               if (!this._confirmation(row)) {\n                   return;\n               }\n\n               this._removeRow(row);\n           },\n\n           _removeRow: function(row) {\n               var that = this,\n                   model,\n                   modelId,\n                   key,\n                   schema,\n                   mode = that._editMode();\n\n               if (mode !== \"incell\") {\n                   that.cancelRow();\n               }\n\n               row = $(row);\n\n               if (that.lockedContent) {\n                   row = row.add(that._relatedRow(row));\n               }\n\n               row = row.hide();\n               if (that.dataSource._isGroupPaged()) {\n                   that._removeGroupIfEmpty(row);\n               }\n\n               model = that._modelForContainer(row);\n\n               if (model && !that.trigger(REMOVE, { row: row, model: model })) {\n                   schema = that.dataSource.options.schema;\n                   if (that._selectedIds && schema && schema.model) {\n                       modelId = that._getSchemaIdField();\n                       key = model[modelId];\n                       delete that._selectedIds[key];\n                   }\n\n                   that.dataSource.remove(model);\n\n                   if (mode === \"inline\" || mode === \"popup\") {\n                       that.dataSource.sync();\n                   }\n               } else if (mode === \"incell\") {\n                   that._destroyEditable();\n               }\n           },\n\n           _editMode: function() {\n               let mode = \"incell\",\n                   editable = this.options.editable;\n\n               if (editable !== true) {\n                   if (typeof editable == \"string\") {\n                       mode = editable;\n                   } else {\n                       mode = editable.mode || mode;\n                   }\n               }\n\n               return mode;\n           },\n\n           editRow: function(row) {\n               let model,\n                   that = this;\n\n               if (row instanceof ObservableObject) {\n                   model = row;\n               } else {\n                   row = $(row);\n                   model = that._modelForContainer(row);\n               }\n\n               let mode = that._editMode();\n               let container;\n\n               that.cancelRow();\n\n               if (model) {\n                   row = that.tbody.children(\"[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\");\n                   that._attachModelChange(model);\n\n                   if (mode === \"popup\") {\n                       that._createPopupEditor(model);\n                   } else if (mode === \"inline\") {\n                       that._createInlineEditor(row, model);\n                   } else if (mode === \"incell\") {\n                       $(row).children(DATA_CELL).each(function() {\n                           let cell = $(this);\n                           let column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n                           model = that._modelForContainer(cell);\n\n                           if (model && (!model.editable || model.editable(column.field)) && column.field && !column.selectable) {\n                               that.editCell(cell);\n                               return false;\n                           }\n                       });\n                   }\n\n\n                   container = that.editView ? that.editView.element : mode === \"popup\" ? that._editContainer.parent() : that._editContainer;\n\n                   if (container) {\n                       if (!this._editCancelClickHandler) {\n                           this._editCancelClickHandler = this._editCancelClick.bind(this);\n                       }\n\n                       container.on(CLICK + NS, \".k-grid-cancel-command, button[ref-cancel-button]\", this._editCancelClickHandler);\n\n                       if (!this._editUpdateClickHandler) {\n                           this._editUpdateClickHandler = this._editUpdateClick.bind(this);\n                       }\n\n                       container.on(CLICK + NS, \".k-grid-save-command, button[ref-update-button]\", this._editUpdateClickHandler);\n                   }\n               }\n           },\n\n           _editUpdateClick: function(e) {\n               e.preventDefault();\n               e.stopPropagation();\n\n               this.saveRow();\n           },\n\n           _editCancelClick: function(e) {\n               var that = this;\n               var navigatable = that.options.navigatable;\n               var model = that.editable.options.model;\n               var container = that.editView ? that.editView.element : that._editContainer;\n\n               e.preventDefault();\n               e.stopPropagation();\n\n               if (that.trigger(\"cancel\", { container: container, model: model })) {\n                   return;\n               }\n\n               var currentIndex = that.items().index($(that.current()).parent());\n\n               that.cancelRow();\n\n               if (navigatable) {\n                   that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                   focusTable(that.table, true);\n               }\n           },\n\n           _editFields: function(columns, model) {\n               var fields = [];\n               var column;\n\n               for (var idx = 0; idx < columns.length; idx++) {\n                   column = columns[idx];\n                   if (column.selectable || column.command) {\n                       continue;\n                   }\n                   if (isColumnEditable(column, model)) {\n                       fields.push(editField(column));\n                   }\n               }\n               return fields;\n           },\n\n           _createPopupEditor: function(model) {\n               var that = this;\n               var html = '<div ' + kendo.attr(\"uid\") + '=\"' + model.uid + '\" class=\"k-popup-edit-form\"><' + (that._isMobile ? 'ul class=\"k-edit-form-container k-listgroup k-listgroup-flush\">' : 'div class=\"k-edit-form-container\">');\n               var column;\n               var command;\n               var idx;\n               var length;\n               var tmpl;\n               var updateText;\n               var cancelText;\n               var updateIconClass;\n               var cancelIconClass;\n               var tempCommand;\n               var columns = leafColumns(that.columns);\n               var attr;\n               var editMenuGuid = kendo.guid();\n               var editable = that.options.editable;\n               var template = editable.template;\n               var options = isPlainObject(editable) ? editable.window : {};\n               var settings = extend({}, kendo.Template, that.options.templateSettings);\n               var state;\n               var container;\n               var buttonsHTML;\n\n               if (that.trigger(BEFOREEDIT, { model: model })) {\n                   return;\n               }\n\n               options = options || {};\n\n               if (template) {\n                   if (typeof template === STRING) {\n                       template = kendo.unescape(template);\n                   }\n\n                   html += (kendo.template(template, settings))(model);\n\n                   for (idx = 0, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       if (column.command) {\n                           tempCommand = getCommand(column.command, \"edit\");\n                           if (tempCommand) {\n                               command = tempCommand;\n                           }\n                       }\n                   }\n               } else {\n                   for (idx = 0, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       if (column.selectable) {\n                           continue;\n                       }\n                       if (!column.command) {\n                           if (that._isMobile) {\n                               html += '<li class=\"k-item k-listgroup-item\">';\n\n                               if (isColumnEditable(column, model)) {\n                                   html += '<label class=\"k-label k-listgroup-form-row\">';\n                                   html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || \"\") + '</span>';\n                                   html += '<div class=\"k-listgroup-form-field-wrapper\" id=\"' + column.field + '_' + editMenuGuid + '\" ' + kendo.attr(\"container-for\") + '=\"' + column.field + '\"></div>';\n                                   html += '</label>';\n                               } else {\n                                   state = { storage: {}, count: 0 };\n\n                                   tmpl = kendo.template(that._cellTmpl(column, state), settings);\n\n                                   if (state.count > 0) {\n                                       tmpl = tmpl.bind(state.storage);\n                                   }\n\n                                   html += '<label class=\"k-label k-listgroup-form-row k-no-click\">';\n                                   html += '<span class=\"k-item-title k-listgroup-form-field-label\">' + (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || column.field || \"\") + '</span>';\n                                   html += '<span class=\"k-no-editor k-listgroup-form-field-wrapper\">' + tmpl(model) + '</span>';\n                                   html += '</label>';\n                               }\n\n                               html += \"</li>\";\n                           }\n                       } else if (column.command) {\n                           tempCommand = getCommand(column.command, \"edit\");\n                           if (tempCommand) {\n                               command = tempCommand;\n                           }\n                       }\n                   }\n               }\n\n               if (command) {\n                   if (isPlainObject(command)) {\n                       if (isPlainObject(command.text)) {\n                           updateText = command.text.update;\n                           cancelText = command.text.cancel;\n                       }\n                       if (isPlainObject(command.iconClass)) {\n                           updateIconClass = command.iconClass.update;\n                           cancelIconClass = command.iconClass.cancel;\n                       }\n\n                      if (command.attr) {\n                          attr = command.attr;\n                      }\n                   }\n               }\n\n               if (!that._isMobile) {\n                   let updateButton = $(that._createButton({ name: \"update\", text: updateText, attr: attr, iconClass: updateIconClass, size: \"medium\", skipCommandClass: true })).attr(\"ref-update-button\", \"\");\n                   let cancelButton = $(that._createButton({ name: \"canceledit\", text: cancelText, attr: attr, iconClass: cancelIconClass, size: \"medium\", skipCommandClass: true })).attr(\"ref-cancel-button\", \"\");\n\n                   html += '</div>';\n\n                   container = that._editContainer = $(html)\n                   .appendTo(that.wrapper).eq(0)\n                   .kendoWindow(extend({\n                       modal: true,\n                       resizable: false,\n                       draggable: true,\n                       title: that.options.messages.commands.edit || \"Edit\",\n                       _footerTemplate: () =>\n                       `<div class=\"k-actions k-actions-start k-actions-horizontal k-window-actions\">` +\n                           updateButton[0].outerHTML +\n                           cancelButton[0].outerHTML +\n                       `</div>`,\n                       visible: false,\n                       close: function(e) {\n                           if (e.userTriggered) {\n                               //The bellow line is required due to: draggable window in IE, change event will be triggered while the window is closing\n                               e.sender.element.trigger(\"focus\");\n                               if (that.trigger(\"cancel\", { container: container, model: model })) {\n                                   e.preventDefault();\n                                   return;\n                               }\n\n                               var currentIndex = that.items().index($(that.current()).parent());\n\n                               that._editableIsClosing = true;\n                               that.cancelRow();\n                               if (that.options.navigatable) {\n                                   that._setCurrent(that.items().eq(currentIndex).children().filter(NAVCELL).first());\n                                   focusTable(that.table, true);\n                               }\n                           }\n                       }\n                   }, options));\n               } else {\n                   html += \"</ul></div>\";\n                   let cancelText = encode(that.options.messages.commands.cancel);\n                   let updateText = encode(that.options.messages.commands.update);\n                   that.editView = that.pane.append(\n                       '<div data-' + kendo.ns + 'role=\"view\" class=\"k-grid-edit-form\">' +\n                           '<div data-' + kendo.ns + ' class=\"k-appbar k-appbar-primary\">' +\n                               kendo.html.renderButton(`<button class=\"k-header-cancel k-grid-cancel-command\" title=\"${cancelText}\" aria-label=\"${cancelText}\"></button>`, {\n                                   fillMode: \"flat\",\n                                   icon: \"chevron-left\"\n                               }) +\n                               '<span class=\"k-spacer\"></span>' +\n                               `<span>${encode(that.options.messages.commands.edit || \"Edit\")}</span>` +\n                               '<span class=\"k-spacer\"></span>' +\n                               kendo.html.renderButton(`<button class=\"k-header-done k-grid-save-command\" title=\"${updateText}\" aria-label=\"${updateText}\"></button>`, {\n                                   fillMode: \"flat\",\n                                   icon: \"check\"\n                               }) +\n                           '</div>' +\n                           '<div data-' + kendo.ns + 'role=\"content\" class=\"' + classNames.content + '\">' +\n                               html +\n                           '</div>' +\n                       '</div>');\n                   container = that._editContainer = that.editView.element.find(\".k-popup-edit-form\");\n               }\n\n               if (!template && !that._isMobile) {\n                   that.editable = new ui.Form(that._editContainer.find(\".k-edit-form-container\"), {\n                       items: that._editFields(columns, model),\n                       buttonsTemplate: () => '',\n                       formData: model\n                   }).editable;\n                   that._editContainer.append(buttonsHTML);\n               } else {\n                   that.editable = that._editContainer\n                   .kendoEditable({\n                       fields: (that._isMobile && !template) ? that._editFields(columns, model) : null,\n                       model: model,\n                       clearContainer: false,\n                       target: that,\n                       skipFocus: true\n                   }).data(\"kendoEditable\");\n               }\n\n               that._openPopUpEditor();\n\n               that.trigger(EDIT, { container: container, model: model });\n           },\n\n           _openPopUpEditor: function() {\n               var that = this;\n               var windowEditor = that._editContainer ? that._editContainer.data(\"kendoWindow\") : null;\n               var windowOptions = (that.options.editable || {}).window || {};\n\n               if (!this._isMobile) {\n                   if (windowEditor) {\n                       if (!windowOptions.position) {\n                           windowEditor.center();\n                       }\n\n                       windowEditor.open();\n                   }\n               } else {\n                   this.pane.navigate(this.editView, this._editAnimation);\n               }\n           },\n\n           _createInlineEditor: function(row, model) {\n               var that = this;\n               var column;\n               var cell;\n               var command;\n               var fields = [];\n\n               if (that.trigger(BEFOREEDIT, { model: model })) {\n                   return;\n               }\n\n               if (that.lockedContent) {\n                   row = row.add(that._relatedRow(row));\n               }\n\n               row.children(\":not(.k-group-cell,.k-hierarchy-cell)\").each(function() {\n                   cell = $(this);\n                   column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n                   if (!column.command && isColumnEditable(column, model)) {\n                       fields.push(editField(column));\n                       cell.attr(kendo.attr(\"container-for\"), column.field);\n                       cell.empty();\n                   } else if (column.command) {\n                       command = getCommand(column.command, \"edit\");\n                       if (command) {\n                           cell.empty();\n\n                           var updateText,\n                               cancelText,\n                               updateIconClass,\n                               cancelIconClass,\n                               attr;\n\n                           if (isPlainObject(command)) {\n                                   if (isPlainObject(command.text)) {\n                                       updateText = command.text.update;\n                                       cancelText = command.text.cancel;\n                                   }\n                                   if (isPlainObject(command.iconClass)) {\n                                       updateIconClass = command.iconClass.update;\n                                       cancelIconClass = command.iconClass.cancel;\n                                   }\n\n                               if (command.attr) {\n                                   attr = command.attr;\n                               }\n                           }\n\n                           $(that._createButton({ name: \"update\", text: updateText, attr: attr, iconClass: updateIconClass }) +\n                               that._createButton({ name: \"canceledit\", text: cancelText, attr: attr, iconClass: cancelIconClass })).appendTo(cell);\n                       }\n                   }\n               });\n\n               that._editContainer = row;\n               that._editContainer.addClass(\"k-grid-edit-row\");\n               if (model.new === true) {\n                   that._editContainer.addClass(\"k-grid-add-row\");\n                   delete model.new;\n               }\n\n               if (that._shouldClearEditableState) {\n                   that._clearEditableState();\n               }\n\n               that.editable = new kendo.ui.Editable(that._editContainer, {\n                   target: that,\n                   fields: fields,\n                   size: that.options.size,\n                   model: model,\n                   skipFocus: (that._isVirtualInlineEditable() && that._editableState && (that._editableState.field ? true : false)) || that._hasVirtualColumns(),\n                   clearContainer: false\n               });\n\n               if (row.length > 1) {\n\n                   adjustRowHeight(row[0], row[1]);\n                   that._applyLockedContainersWidth(true);\n               }\n\n               that.trigger(EDIT, { container: row, model: model });\n           },\n\n           cancelRow: function(notify) {\n               var that = this,\n                   container = that._editContainer,\n                   model;\n\n               if (container) {\n                   model = that._modelForContainer(container);\n\n                   if (!model || (notify && that.trigger(\"cancel\", { container: container, model: model }))) {\n                       return;\n                   }\n\n                   that._destroyEditable();\n\n                   that.dataSource.cancelChanges(model);\n\n                   that._clearEditableState();\n\n                   if (that._editMode() !== \"popup\") {\n                       that._displayRow(container);\n                   } else {\n                       that._displayRow(that.tbody.find(\"[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\"));\n                   }\n\n                   that._aria();\n               }\n           },\n\n           saveRow: function() {\n               var that = this;\n               var container = this._editContainer;\n               var model = this._modelForContainer(container);\n               var deferred = $.Deferred();\n               var valid;\n\n               if (!container || !this.editable) {\n                   return deferred.resolve().promise();\n               }\n\n               valid = that.editable && that.editable.end();\n\n               if (!valid || this.trigger(SAVE, { container: container, model: model })) {\n                   if (!valid) {\n                       that._scrollVirtualWrapper();\n                   }\n\n                   return deferred.reject().promise();\n               }\n\n               that._clearEditableState();\n\n               return this.dataSource.sync();\n           },\n\n           _displayRow: function(row) {\n                   var that = this,\n                   model = that._modelForContainer(row),\n                   related,\n                   newRow,\n                   nextRow,\n                   isSelected = row.hasClass(SELECTED),\n                   isAlt = row.hasClass(\"k-alt\");\n\n               if (model) {\n\n                   if (that.lockedContent) {\n                       related = $((isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model));\n                       kendo.applyStylesFromKendoAttributes(related, [\"display\"]);\n                       that._relatedRow(row.last()).replaceWith(related);\n                   }\n\n                   newRow = $((isAlt ? that.altRowTemplate : that.rowTemplate)(model));\n                   if (!row.is(\":visible\")) {\n                       newRow.hide();\n                   }\n\n                   kendo.applyStylesFromKendoAttributes(newRow, [\"display\"]);\n\n                   if (that._anyStickyColumns()) {\n                      kendo.applyStylesFromKendoAttributes(newRow, [\"left\", \"right\"]);\n                   }\n\n                   row.replaceWith(newRow);\n\n                   that.trigger(\"itemChange\", { item: newRow, data: model, ns: ui });\n\n                   if (related && related.length) {\n                       that.trigger(\"itemChange\", { item: related, data: model, ns: ui });\n                   }\n\n                   if (isSelected && (that.options.selectable || that._checkBoxSelection)) {\n                       that.select(newRow.add(related));\n                   }\n\n                   if (related) {\n                       adjustRowHeight(newRow[0], related[0]);\n                   }\n\n                   nextRow = newRow.next();\n                   if (nextRow.hasClass(\"k-detail-row\") && nextRow.is(\":visible\")) {\n                       kendo.ui.icon(newRow.find(\".k-hierarchy-cell .k-icon,.k-hierarchy-cell .k-svg-icon\"), { icon: \"caret-alt-down\" });\n                   }\n               }\n           },\n\n           _showMessage: function(messages, row) {\n               var that = this;\n\n               if (!that._isMobile) {\n                   // eslint-disable-next-line no-alert\n                   return window.confirm(messages.title);\n               }\n\n               var confirmDialog = that._confirmDialog = new kendo.ui.Confirm($(\"<div />\").appendTo(document.body), {\n                   modal: {\n                       preventScroll: true\n                   },\n                   closable: false,\n                   title: false,\n                   content: messages.title,\n                   messages: {\n                       okText: messages.confirmDelete,\n                       cancel: messages.cancelDelete\n                   },\n                   open: function() {\n                       if (that.content) {\n                           that.content.data(OVERFLOW, that.content.css(OVERFLOW));\n                           that.content.css(OVERFLOW, HIDDEN);\n                       }\n                   },\n                   close: function() {\n                       if (that.content) {\n                           that.content.css(OVERFLOW, that.content.data(OVERFLOW));\n                       }\n                   }\n               });\n\n               confirmDialog.result\n                   .done(function() {\n                       that._removeRow(row);\n                   })\n                   .fail(function() {\n                       var confirmDialog = that._confirmDialog;\n\n                       if (confirmDialog) {\n                           confirmDialog.close();\n                           confirmDialog.destroy();\n                       }\n                   });\n\n               return false;\n           },\n\n           _confirmation: function(row) {\n               var that = this,\n                   editable = that.options.editable,\n                   confirmation = (editable === true || typeof editable === STRING) ? that.options.messages.editable.confirmation : editable.confirmation;\n\n               if (isPlainObject(editable) && typeof editable.mode === STRING && typeof confirmation !== FUNCTION && typeof confirmation !== STRING && confirmation !== false) {\n                   confirmation = that.options.messages.editable.confirmation;\n               }\n\n               if (confirmation !== false && confirmation != null) {\n\n                   if (typeof confirmation === FUNCTION) {\n                       confirmation = confirmation(that._modelForContainer(row));\n                   }\n\n                   return that._showMessage({\n                           confirmDelete: editable.confirmDelete || that.options.messages.editable.confirmDelete,\n                           cancelDelete: editable.cancelDelete || that.options.messages.editable.cancelDelete,\n                           title: confirmation === true ? that.options.messages.editable.confirmation : confirmation\n                       }, row);\n               }\n\n               return true;\n           },\n\n           cancelChanges: function() {\n               var that = this;\n\n               if (that._cachedRowsHeight) {\n                   that._mapCachedRowsHeight(\"getByUid\", \"id\");\n                   that._shouldMapHights = true;\n               }\n\n               that.dataSource.cancelChanges();\n\n               if (that._isVirtualEditable()) {\n                   that._virtualPageToTop(function() {\n                       that.virtualScrollable.scrollToTop();\n                   });\n               }\n           },\n\n           saveChanges: function() {\n               var that = this;\n               var valid = that.editable && that.editable.end();\n\n               if ((valid || !that.editable) && !that.trigger(SAVECHANGES)) {\n                   that.dataSource.sync();\n               } else if (!valid) {\n                   that._scrollVirtualWrapper();\n               }\n           },\n\n           addRow: function() {\n               var that = this,\n                   index,\n                   dataSource = that.dataSource,\n                   mode = that._editMode(),\n                   createAt = that.options.editable.createAt || \"\",\n                   pageSize = dataSource.pageSize(),\n                   view = dataSource.view() || [];\n               var createAtBottom = createAt.toLowerCase() === BOTTOM;\n               var model;\n               var virtualEditable = that._isVirtualEditable();\n\n               if ((that.editable && that.editable.end()) || !that.editable) {\n                   if (mode != \"incell\") {\n                       that.cancelRow();\n                   }\n\n                   index = dataSource.indexOf(view[0]);\n\n                   if (createAtBottom) {\n                       index += view.length;\n\n                       if (pageSize && !dataSource.options.serverPaging && pageSize <= view.length) {\n                           index -= 1;\n                       }\n                   }\n\n                   if (index < 0) {\n                       if (dataSource.page() > dataSource.totalPages()) {\n                           index = (dataSource.page() - 1) * pageSize;\n                       } else {\n                           index = 0;\n                       }\n                   }\n\n                   if (that.options.navigatable && mode == \"incell\") {\n                       that._removeCurrent();\n                   }\n\n                   if (virtualEditable) {\n                       that._virtualAddRow();\n                   } else {\n                       model = dataSource.insert(index, {});\n                       model.new = true;\n                       that._editModel(model);\n                   }\n               } else {\n                   that._scrollVirtualWrapper();\n               }\n           },\n\n           _editModel: function(model) {\n               var that = this;\n               var createAt = that.options.editable.createAt || \"\";\n               var mode = that._editMode();\n\n               if (model) {\n                   var id = model.uid,\n                       table = that.lockedContent ? that.lockedTable : that.table,\n                       row = table.find(\"tr[\" + kendo.attr(\"uid\") + \"=\" + id + \"]\"),\n                       cell = row.children(\"td:not(.k-group-cell,.k-hierarchy-cell)\").eq(that._firstEditableColumnIndex(row));\n\n                   if (mode === \"inline\" && row.length) {\n                       that.editRow(row);\n                   } else if (mode === \"popup\") {\n                       that.editRow(model);\n                   } else if (cell.length) {\n                       that.editCell(cell);\n                   }\n\n                   if (createAt.toLowerCase() == \"bottom\" && that.lockedContent) {\n                       //scroll the containers to the bottom\n                       that.lockedContent[0].scrollTop = that.content[0].scrollTop = that.table[0].offsetHeight;\n                   }\n               }\n           },\n\n           _virtualAddRow: function() {\n               var that = this;\n               var createAtBottom = (that.options.editable.createAt || \"\").toLowerCase() === BOTTOM;\n\n               that._clearEditableState();\n\n               if (createAtBottom) {\n                   that._virtualAddRowAtBottom();\n               } else {\n                   that._virtualAddRowAtTop();\n               }\n           },\n\n           _virtualAddRowAtTop: function() {\n               var that = this;\n               var dataSource = that.dataSource;\n               var virtualScrollable = that.virtualScrollable;\n               var model;\n\n               if (dataSource.page() === 1) {\n                   model = dataSource.insert(0, {});\n                   model.new = true;\n                   that._editModel(model);\n                   virtualScrollable.scrollToTop();\n               } else {\n                   that._virtualPageToTop(function() {\n                       model = dataSource.insert(0, {});\n                       model.new = true;\n                       that._editModel(model);\n                       virtualScrollable.scrollToTop();\n                   });\n               }\n           },\n\n           _virtualAddRowAtBottom: function() {\n               var that = this;\n               var dataSource = that.dataSource;\n               var virtualScrollable = that.virtualScrollable;\n               var index = dataSource.total();\n               var model;\n\n               if (dataSource.at(index - 1) instanceof ObservableObject) {\n                   model = dataSource.insert(index, {});\n                   model.new = true;\n\n                   that._virtualPageToBottom(function() {\n                       that._editModel(model);\n                       virtualScrollable.scrollToBottom();\n                   });\n               } else {\n                   that._virtualPageToBottom(function() {\n                       model = dataSource.insert(index, {});\n                       model.new = true;\n                       that._editModel(model);\n                       virtualScrollable.scrollToBottom();\n                   });\n               }\n           },\n\n           _virtualPageToTop: function(callback) {\n               var that = this;\n\n               that._virtualPage(0, that.dataSource.take(), function() {\n                   callback();\n               });\n           },\n\n           _virtualPageToBottom: function(callback) {\n               var that = this;\n               var dataSource = that.dataSource;\n               var take = dataSource.take();\n               var total = dataSource.total();\n               var skip = total > take ? (total - take) : 0;\n\n               that._virtualPage(skip, take, function() {\n                   callback();\n               });\n           },\n\n           _virtualPage: function(skip, take, callback) {\n               var that = this;\n\n               if (that._isVirtualEditable()) {\n                   that.virtualScrollable._preventScroll = true;\n                   that.virtualScrollable._page(skip, take, callback);\n               }\n           },\n\n           _firstEditableColumnIndex: function(container) {\n               var that = this,\n                   column,\n                   columns = leafColumns(that.columns),\n                   idx,\n                   length,\n                   model = that._modelForContainer(container);\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   column = columns[idx];\n\n                   if (model && (!model.editable || model.editable(column.field)) && !column.command && column.field && column.hidden !== true) {\n                       return idx;\n                   }\n               }\n               return -1;\n           },\n\n           _clickAdd: function(e) {\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               this.addRow();\n           },\n\n           _clickCancel: function(e) {\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               this.cancelChanges();\n           },\n\n           _clickExcel: function(e) {\n               var that = this;\n               var deferred = $.Deferred();\n\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n               that._isExport = true;\n\n               that._progress(true);\n\n               setTimeout(() => {\n                   that.saveAsExcel(deferred);\n                   deferred.always(() => {\n                           that._progress(false);\n                           that._isExport = false;\n                       });\n               }, 1);\n           },\n\n           _clickPdf: function(e) {\n               var that = this;\n\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n               that._isExport = true;\n               that._pdfInitialized = true;\n\n               that._progress(true);\n               var promise = that.saveAsPDF();\n\n               if (promise) {\n                   promise.done(function() {\n                       that._progress(false);\n                       that._isExport = false;\n                       that._pdfInitialized = false;\n                   });\n               }\n           },\n\n           _clickSave: function(e) {\n               if (e.preventDefault) {\n                   e.preventDefault();\n               }\n\n               this.saveChanges();\n           },\n\n           _searchInput: function(e) {\n               var that = this,\n                   input = e.currentTarget;\n\n               clearTimeout(that._searchTimeOut);\n\n               that._searchTimeOut = setTimeout(function() {\n                   that._searchTimeOut = null;\n\n                   var options = that.options;\n                   var searchFields = options.search ? options.search.fields : null;\n                   var expression = { filters: [], logic: \"or\" };\n                   var value = input.value;\n\n                   if (!searchFields) {\n                       searchFields = getColumnsFields(options.columns);\n                   }\n\n                   if (that.dataSource.options.endless) {\n                       that.dataSource.options.endless = null;\n                       that._endlessPageSize = that.dataSource.options.pageSize;\n                   }\n\n                   if (value) {\n                       for (var i = 0; i < searchFields.length; i++) {\n                           that._pushExpression(expression.filters, searchFields[i], value);\n                       }\n                   } else {\n                       expression = {};\n                   }\n\n                   that.dataSource.filter(expression);\n               }, 300);\n           },\n\n           _pasteToolbarDropDown: function() {\n               var that = this;\n\n               if (that.wrapper.find(\".k-grid-paste-action\").length) {\n                   that.pasteActionsDropDownList = that.wrapper\n                       .find(\".k-grid-paste-action\")\n                       .kendoDropDownList({\n                           dataSource: [{ value: \"insert\", text: \"Paste (Insert)\" }, { value: \"replace\", text: \"Paste (Replace)\" }],\n                           dataTextField: \"text\",\n                           dataValueField: \"value\",\n                           _allowFilterPaste: false,\n                       }).data(\"kendoDropDownList\");\n               }\n           },\n\n           _pushExpression: function(filters, field, value) {\n               var that = this,\n                   isServerFiltering = that.dataSource.options.serverFiltering,\n                   defaultOperators = {\n                       string: \"contains\",\n                       number: \"gte\",\n                       date: \"gte\",\n                       enums: \"eq\",\n                       boolean: \"eq\"\n                   },\n                   name = field.name || field,\n                   operator = field.operator,\n                   modelInfo = that.dataSource.reader.model && that.dataSource.reader.model.fields,\n                   fieldInfo = modelInfo && modelInfo[name],\n                   parseFn = fieldInfo && fieldInfo.parse,\n                   expression = {\n                       field: name,\n                       operator: operator || defaultOperators.string,\n                       value: value\n                   };\n\n               if ((operator || isServerFiltering) && fieldInfo && kendo.isFunction(parseFn) && parseFn(value) !== null) {\n                   extend(expression, {\n                       operator: operator || defaultOperators[fieldInfo.type],\n                       value: parseFn(value)\n                   });\n               }\n\n               if (isServerFiltering && fieldInfo && kendo.isFunction(parseFn) && parseFn(value) === null) {\n                   return;\n               }\n\n               filters.push(expression);\n           },\n\n           _toolbar: function() {\n               var that = this,\n                   wrapper = that.wrapper,\n                   toolbar = that.options.toolbar,\n\n                   container, items;\n\n               if (toolbar) {\n                   that._createClickHandler = that._addClickHandler = that._clickAdd.bind(that);\n                   that._cancelClickHandler = that._clickCancel.bind(that);\n                   that._saveClickHandler = that._clickSave.bind(that);\n                   that._excelClickHandler = that._clickExcel.bind(that);\n                   that._pdfClickHandler = that._clickPdf.bind(that);\n                   that._serachHandler = that._searchInput.bind(that);\n\n                   container = that.wrapper.find(\".k-grid-toolbar\");\n\n                   if (!container.length) {\n                       container = $('<div class=\"k-grid-toolbar k-toolbar\" />')\n                           .prependTo(wrapper);\n\n                       if (typeof toolbar === STRING || isFunction(toolbar)) {\n                           if (typeof toolbar === STRING) {\n                               toolbar = kendo.template(toolbar).bind(that);\n                           }\n\n                           container.html(toolbar({ grid: that }));\n                           that._attachToolbarClicks();\n                       } else if (isArray(toolbar)) {\n                           items = that._processItems(toolbar);\n\n                           container.kendoToolBar({\n                               navigateOnTab: !that.options.navigatable,\n                               size: that.options.size,\n                               items: items\n                           });\n                       }\n                   } else {\n                       that._attachToolbarClicks();\n                   }\n\n                   container.on(INPUT + NS, \".k-grid-search input\", this._serachHandler);\n               }\n           },\n\n           _attachToolbarClicks: function() {\n               var editable = this.options.editable,\n                   container = this.wrapper.find(\".k-grid-toolbar\");\n\n               if (editable && editable.create !== false) {\n                   container.on(CLICK + NS, \".k-grid-add\", this._createClickHandler)\n                       .on(CLICK + NS, \".k-grid-cancel-changes\", this._cancelClickHandler)\n                       .on(CLICK + NS, \".k-grid-save-changes\", this._saveClickHandler);\n               }\n\n               container.on(CLICK + NS, \".k-grid-excel\", this._excelClickHandler);\n               container.on(CLICK + NS, \".k-grid-pdf\", this._pdfClickHandler);\n           },\n\n           _processItems: function(tools) {\n               var that = this,\n                   options = that.options,\n                   items = [],\n                   messages = this.options.messages.commands,\n                   itemsCollectionHasSpacer = false;\n\n               tools.map(t => {\n                   var command, searchText, icon, className, inputSize, template = \"\";\n\n                   if (typeof t === 'string') {\n                       command = t.toLowerCase();\n                       t = {};\n                       t.text = messages[command] || command;\n                   } else {\n                       command = (t.name || t.text || \"\").toLowerCase();\n                       t.text = t.text || messages[command] || command;\n                   }\n\n                   if (!itemsCollectionHasSpacer && (command === \"search\" || command === \"columns\")) {\n                       itemsCollectionHasSpacer = true;\n                       items.push({\n                           type: \"spacer\"\n                       });\n                   }\n\n                   if (command === \"search\") {\n                       searchText = htmlEncode(t.text || messages.search, true);\n                       icon = t.icon || t.iconClass || \"search\";\n\n                       inputSize = kendo.getValidCssClass(\"k-input-\", \"size\", that.options.size);\n                       template += `<span class='k-searchbox k-input ${inputSize} k-rounded-md k-input-solid k-grid-search'>`;\n                       template += kendo.ui.icon({ icon: icon, iconClass: \"k-input-icon\" });\n                       template += \"<input autocomplete='off' placeholder='\" + searchText + \"' title='\" + searchText + \"' aria-label='\" + searchText + \"' class='k-input-inner' />\";\n                       template += \"</span>\";\n\n                       items.push({\n                           name: \"search\",\n                           overflow: \"never\",\n                           template: template\n                       });\n                   } else if (command === \"paste\" && options.allowPaste) {\n                       items.push({\n                           template: \"<input class='k-grid-paste-action' />\"\n                       });\n                   } else {\n                       if (!command && !(isPlainObject(t) && t.template)) {\n                           throw new Error(\"Custom commands should have name specified\");\n                       }\n\n                       t = extend({ type: \"button\" }, defaultCommands[command], t);\n                       className = t.className || \"k-grid-\" + (command || \"\").replace(/\\s/g, \"\");\n                       t.spriteCssClass = t.icon ? null : t.iconClass;\n\n                       t.attributes = that._processAttr(t.attr);\n                       delete t.attr;\n\n                       if (!!className) {\n                           if (t.attributes[\"class\"] === undefined$1) {\n                               t.attributes[\"class\"] = \"\";\n                           }\n\n                           t.attributes[\"class\"] += (\" \" + className);\n                       }\n\n                       if (t.template) {\n                           delete t.type;\n                       }\n\n                       if (!!that[\"_\" + command + \"ClickHandler\"]) {\n                           t.click = that[\"_\" + command + \"ClickHandler\"];\n                       }\n\n                       items.push(t);\n                   }\n               });\n\n               return items;\n           },\n\n           _processAttr: function(attr) {\n               var attributes = {},\n                   attrArray;\n\n               if (typeof attr === STRING && attr.length > 0) {\n                   attrArray = attr.split(\" \");\n                   attrArray.map(a => {\n                       var keyValue = a.split(\"=\");\n\n                       if (keyValue.length === 2) {\n                           attributes[keyValue[0]] = keyValue[1].replaceAll('\"', \"\").replaceAll(\"'\", \"\");\n                       }\n                   });\n               } else if (isPlainObject(attr)) {\n                   attributes = attr;\n               }\n\n               return attributes;\n           },\n\n           _createButton: function(command) {\n               var button,\n                   template = command.template || COMMANDBUTTONTMPL,\n                   commandName = typeof command === STRING ? command : command.name || command.text,\n                   className = defaultCommands[commandName] ? defaultCommands[commandName].className : \"k-grid-\" + (commandName || \"\").replace(/\\s/g, \"\"),\n                   options = { className: command.skipCommandClass ? \"\" : className, text: commandName, attr: \"\", iconClass: \"\", size: command.size || this.options.size },\n                   messages = this.options.messages.commands,\n                   attributeClassMatch;\n\n               if (!commandName && !(isPlainObject(command) && command.template)) {\n                   throw new Error(\"Custom commands should have name specified\");\n               }\n\n               if (isPlainObject(command)) {\n                   command = extend(true, {}, command);\n\n                   if (command.className && inArray(options.className, command.className.split(\" \")) < 0) {\n                       command.className += \" \" + options.className;\n                   } else if (command.className === undefined$1) {\n                       command.className = options.className;\n                   }\n\n                   if (command.className.indexOf(\"k-primary\") > -1) {\n                       command.className = command.className.replace(\"k-primary\", \"\");\n                       command.themeColor = \"primary\";\n                   }\n\n                   if (commandName === \"edit\") {\n                       command = extend(true, {}, command);\n                       command.text = isPlainObject(command.text) ? command.text.edit : command.text;\n                       command.iconClass = isPlainObject(command.iconClass) ? command.iconClass.edit : command.iconClass;\n                   }\n\n                   if (command.attr) {\n                       if (isPlainObject(command.attr)) {\n                           command.attr = stringifyAttributes(command.attr);\n                       }\n\n                       if (command.attr instanceof Function)\n                       {\n                           let compiledAttributes = command.attr(command);\n                           command.attr = stringifyAttributes(compiledAttributes);\n                       }\n\n                       if (typeof command.attr === STRING) {\n                           attributeClassMatch = command.attr.match(/class=\"(.+?)\"/);\n\n                           if (attributeClassMatch && inArray(attributeClassMatch[1], command.className.split(\" \")) < 0) {\n                               command.className += \" \" + attributeClassMatch[1];\n                           }\n                       }\n                   }\n\n                   options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] }, command);\n               } else {\n                   options = extend(true, options, defaultCommands[commandName], { text: messages[commandName] });\n               }\n\n               button = kendo.template(template)(options);\n\n               if (!command.template) {\n                   return kendo.html.renderButton($(button), options);\n               } else {\n                   return button;\n               }\n           },\n\n           _hasFooters: function() {\n               return !!this.footerTemplate ||\n                   !!this.groupFooterTemplate ||\n                   (this.footer && this.footer.length > 0) ||\n                   this.wrapper.find(\".k-grid-footer\").length > 0;\n           },\n\n           _groupable: function() {\n               var that = this;\n\n               if (that._groupableClickHandler) {\n                   that.table.add(that.lockedTable).off(CLICK + NS, that._groupableClickHandler);\n               } else {\n                   that._groupableClickHandler = function(e) {\n                       var element = $(this),\n                       groupRow = element.closest(TR);\n\n                       var group = that._groupRows ? that._groupRows[that.wrapper.find(DOT + GROUPING_ROW).index(groupRow)] : { };\n\n                       if (element.is(CARET_ALT_DOWN)) {\n                           if (!that.trigger(\"groupCollapse\", { group: group, element: groupRow })) {\n                               that.collapseGroup(groupRow);\n                           }\n                       } else {\n                           if (!that.trigger(\"groupExpand\", { group: group, element: groupRow })) {\n                               that.expandGroup(groupRow);\n                           }\n                       }\n                       e.preventDefault();\n                       e.stopPropagation();\n                   };\n               }\n\n               if (that._isLocked()) {\n                   that.lockedTable.on(CLICK + NS, \".k-grouping-row \" + CARET_ALT_RIGHT + \", .k-grouping-row \" + CARET_ALT_DOWN, that._groupableClickHandler);\n               } else {\n                   that.table.on(CLICK + NS, \".k-grouping-row \" + CARET_ALT_RIGHT + \", .k-grouping-row \" + CARET_ALT_DOWN, that._groupableClickHandler);\n               }\n\n               that._attachGroupable();\n           },\n\n           _attachGroupable: function() {\n               var that = this,\n                   wrapper = that.wrapper,\n                   groupable = that.options.groupable,\n                   draggables = HEADERCELLS + \"[\" + kendo.attr(\"field\") + \"]\",\n                   filter = that.content ? \".k-grid-header:first \" + draggables : \"table:first>.k-grid-header \" + draggables;\n\n               if (groupable && groupable.enabled !== false) {\n                   if (!wrapper.has(\"div.k-grouping-header\")[0]) {\n                       $(\"<div/>\").addClass(\"k-grouping-header\").prependTo(wrapper);\n                   }\n\n                   if (that.groupable) {\n                       that._destroyGroupable();\n                   }\n\n                   if (browser.chrome) {\n                       wrapper.find(\"div.k-grouping-header\").css(\"touch-action\", NONE);\n                       wrapper.find(filter).css(\"touch-action\", NONE);\n                   }\n\n                   that.groupable = new ui.Groupable(wrapper, extend({}, groupable, {\n                       draggable: that._draggableInstance,\n                       groupContainer: \">div.k-grouping-header\",\n                       dataSource: that.dataSource,\n                       draggableElements: filter,\n                       filter: filter,\n                       size: that.options.size,\n                       allowDrag: that.options.reorderable,\n                       enableContextMenu: !!that.options.contextMenu,\n                       removeGroup: function(e) {\n                           that._showUngroupedColumn(e);\n                       },\n                       change: function(e) {\n                           if (that.trigger(\"group\", { groups: e.groups })) {\n                               e.preventDefault();\n                           } else {\n                               that._clearEditableState();\n                               that._hideGroupedColumns(e.groups);\n                               if (that.dataSource.options.endless) {\n                                   that._resetEndless();\n                               }\n                           }\n                       }\n                   }));\n\n                   that._addGroupableOptionsToHeader();\n               }\n           },\n\n           _showUngroupedColumn: function(group) {\n               var columns = leafColumns(this.columns);\n               var i;\n\n               for (i = 0; i < columns.length; i++) {\n                   if (columns[i].uid == group.colID && columns[i].hideOnGroup) {\n                       this.showColumn(columns[i]);\n                   }\n               }\n           },\n\n           _hideGroupedColumns: function(groups) {\n               if (!groups) {\n                   return;\n               }\n               var columns = leafColumns(this.columns);\n               var fields = [];\n               var i;\n\n               for (i = 0; i < groups.length; i++) {\n                   if (groups[i].colID) {\n                       fields.push(groups[i].colID);\n                   }\n               }\n\n               for (i = 0; i < columns.length; i++) {\n                   if (fields.indexOf(columns[i].uid) >= 0 && columns[i].hideOnGroup) {\n                       this.hideColumn(columns[i]);\n                   }\n               }\n           },\n\n           _resetEndless: function() {\n               var that = this;\n               that.dataSource.options.endless = null;\n               that._endlessPageSize = that.dataSource.options.pageSize;\n               that.dataSource._skip = 0;\n               that.dataSource._pageSize = that.dataSource._take = that._endlessPageSize;\n               that.dataSource._page = 1;\n           },\n\n           _addGroupableOptionsToHeader: function() {\n               var that = this;\n               var columns = flatColumns(that.columns);\n               var columnFieldMap = {};\n               var field = \"\";\n               var headerCells = that._headerCells();\n               var cellFieldAttr = \"\";\n               var headerCell;\n               var columnOptions;\n               var i;\n\n               for (i = 0; i < columns.length; i++) {\n                   field = columns[i].field;\n                   columnFieldMap[columns[i].field] = columns[i];\n               }\n\n               for (i = 0; i < headerCells.length; i++) {\n                   headerCell = headerCells.eq(i);\n                   cellFieldAttr = headerCell.attr(kendo.attr(FIELD));\n                   columnOptions = columnFieldMap[cellFieldAttr];\n\n                   if (columnOptions && columnOptions.groupable && columnOptions.groupable.sort) {\n                       headerCell.data(GROUP_SORT, columnOptions.groupable.sort);\n                   }\n               }\n           },\n\n           _destroyGroupable: function() {\n               var that = this;\n\n               if (that.groupable && that.groupable.element) {\n                   that.groupable.element.kendoGroupable(\"destroy\");\n               }\n\n               that.groupable = null;\n\n               that._removeGroupableOptionsFromHeader();\n           },\n\n           _removeGroupableOptionsFromHeader: function() {\n               var that = this;\n               var headerCells = that._headerCells();\n\n               for (var i = 0; i < headerCells.length; i++) {\n                   headerCells.eq(i).removeData(GROUP_SORT);\n               }\n           },\n\n           _continuousItems: function(filter, cell) {\n               if (!this.lockedContent) {\n                   return;\n               }\n\n               var that = this;\n\n               var elements = that.table.add(that.lockedTable);\n\n               var lockedItems = $(filter, elements[0]);\n               var nonLockedItems = $(filter, elements[1]);\n               var columns = cell ? lockedColumns(leafColumns(that.columns)).length : 1;\n               var nonLockedColumns = cell ? leafColumns(that.columns).length - columns : 1;\n               var result = [];\n\n               for (var idx = 0; idx < lockedItems.length; idx += columns) {\n                   push.apply(result, lockedItems.slice(idx, idx + columns));\n                   push.apply(result, [].splice.call(nonLockedItems, 0, nonLockedColumns));\n               }\n\n               return result;\n           },\n\n           _selectable: function() {\n               var that = this,\n                   multi,\n                   cell,\n                   notString = [],\n                   isLocked = that._isLocked(),\n                   selectable = that.options.selectable,\n                   hasSkeletonLoader = that.options.loaderType === \"skeleton\";\n\n               if (selectable && !selectable.checkboxSelection) {\n\n                   if (that.selectable) {\n                       that.selectable.destroy();\n                   }\n\n                   that._selectedIds = {};\n\n                   selectable = kendo.ui.Selectable.parseOptions(selectable);\n\n                   multi = selectable.multiple;\n                   cell = selectable.cell;\n\n                   if (that._hasDetails()) {\n                       notString[notString.length] = \".k-detail-row\";\n                   }\n                   if (that.options.groupable || that._hasFooters() || that._groups()) {\n                       notString[notString.length] = \".k-grouping-row,.k-group-footer\";\n                   }\n\n                   if (hasSkeletonLoader) {\n                       notString[notString.length] = \"[data-skeleton-row]\";\n                   }\n                   notString = notString.join(\",\");\n\n                   if (notString !== \"\") {\n                       notString = \":not(\" + notString + \")\";\n                   }\n\n                   var elements = that.table;\n                   if (isLocked) {\n                       elements = elements.add(that.lockedTable);\n                   }\n\n                   var filter = \">\" + (cell ? SELECTION_CELL_SELECTOR : \"tbody>tr\" + notString);\n                   that.selectable = new kendo.ui.Selectable(elements, {\n                       allowPaste: that.options.allowPaste,\n                       filter: filter,\n                       aria: true,\n                       multiple: multi,\n                       holdToDrag: !!(that._isMobile || kendo.support.mobileOS),\n                       toggleable: !!(that._isMobile || kendo.support.mobileOS),\n                       dragToSelect: that.options.selectable && that.options.selectable.dragToSelect,\n                       changing: function(e) {\n                           if (that.trigger(CHANGING, { target: e.target, originalEvent: e.originalEvent })) {\n                               e.preventDefault();\n                           }\n                       },\n                       change: function(e) {\n                           var selectedValues;\n                           if (!cell) {\n                               that._persistSelectedRows();\n                           }\n\n                           if (that._checkBoxSelection) {\n                               selectedValues = that.selectable.value();\n                               that._uncheckCheckBoxes();\n                               that._checkRows(selectedValues);\n                               if (selectedValues.length && selectedValues.length === that.items().length) {\n                                   that._toggleHeaderCheckState(true);\n                               } else {\n                                   that._toggleHeaderCheckState(false);\n                               }\n                           }\n\n                           that._calculateAggregatesForSelected();\n\n                           if (e.event) {\n                               that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                           }\n                       },\n                       useAllItems: isLocked && multi && cell,\n                       relatedTarget: function(items) {\n                           if (cell || !isLocked) {\n                               return;\n                           }\n\n                           var related;\n                           var result = $();\n                           for (var idx = 0, length = items.length; idx < length; idx ++) {\n                               related = that._relatedRow(items[idx]);\n\n                               if (inArray(related[0], items) < 0) {\n                                   result = result.add(related);\n                               }\n                           }\n\n                           return result;\n                       },\n                       continuousItems: function() {\n                           return that._continuousItems(filter, cell);\n                       },\n                       ignoreOverlapped: that.options.selectable && that.options.selectable.ignoreOverlapped,\n                       addIdToRanges: true\n                   });\n\n                   if (that.options.navigatable) {\n                       elements.on(\"keydown\" + NS, function(e) {\n                           var current = that.current();\n                           var target = e.target;\n                           var eventObject = { event: e };\n                           var triggerChange;\n                           var triggerChanging;\n                           var lastSelection;\n                           if (!current) {\n                               return;\n                           }\n                           if (e.keyCode === keys.SPACEBAR && !e.shiftKey && $.inArray(target, elements) > -1 &&\n                               !current.is(\".k-edit-cell,.k-header\") &&\n                               current.parent().is(\":not(.k-grouping-row,.k-detail-row,.k-group-footer)\")) {\n                                   e.preventDefault();\n                                   e.stopPropagation();\n                                   current = cell ? current : current.parent();\n                                   triggerChange = !current.hasClass(SELECTED) || that.selectable.value().length > 1;\n                                   triggerChanging = triggerChange || (multi && current.hasClass(SELECTED) && e.ctrlKey);\n\n                                   if (triggerChanging && that.trigger(CHANGING, { target: current, originalEvent: e })) {\n                                       return;\n                                   }\n\n                                   if (isLocked && !cell) {\n                                       current = current.add(that._relatedRow(current));\n                                   }\n\n                                   if (multi) {\n                                       if (!e.ctrlKey) {\n                                           that.selectable.clear();\n                                       } else {\n                                           if (current.hasClass(SELECTED)) {\n                                               that._deselectCheckRows(current);\n                                               that._calculateAggregatesForSelected();\n                                               that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                                               return;\n                                           }\n                                       }\n                                   } else {\n                                       that.selectable.clear();\n                                   }\n                                   if (!cell) {\n                                       that.selectable._lastActive = current;\n                                   }\n                                   that.selectable.value(current);\n                                   if (triggerChange) {\n                                       that._calculateAggregatesForSelected();\n                                       that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                                   }\n                           } else if (!cell &&\n                               ($(target).is(\"td\") || ($(target).is(\"table\") && inArray(target, this._navigatableTables))) &&\n                             ((e.shiftKey && e.keyCode == keys.LEFT) ||\n                              (e.shiftKey && e.keyCode == keys.RIGHT) ||\n                              (e.shiftKey && e.keyCode == keys.UP) ||\n                              (e.shiftKey && e.keyCode == keys.DOWN) ||\n                              (e.keyCode === keys.SPACEBAR && e.shiftKey))) {\n                               e.preventDefault();\n                               e.stopPropagation();\n                               current = current.parent();\n\n                               if (that.trigger(CHANGING, { target: current, originalEvent: e })) {\n                                   return;\n                               }\n\n                               lastSelection = that.selectable.value();\n\n                               if (isLocked) {\n                                   current = current.add(that._relatedRow(current));\n                               }\n\n                               if (multi) {\n                                   if (!that.selectable._lastActive) {\n                                       that.selectable._lastActive = current;\n                                   }\n                                   that.selectable.selectRange(that.selectable._firstSelectee(), current);\n\n                                   if (!compareElements(lastSelection, that.selectable.value())) {\n                                       that.trigger(CHANGE, eventObject);\n                                   }\n                               } else if (!current.hasClass(SELECTED)) {\n                                   that.selectable.clear();\n                                   that.selectable.value(current);\n                                   that._calculateAggregatesForSelected();\n                                   that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n                               }\n                           }\n                       });\n                   }\n               }\n           },\n\n           _pasteReplaceHandler: function(plain) {\n               var that = this,\n                   rows,\n                   current,\n                   currentRow,\n                   currentRowUid,\n                   currentField,\n                   uids = [];\n\n               current = that.select().first();\n\n               if (!current.length) {\n                   return;\n               }\n\n               if (current.is(TR)) {\n                   current = current.children(TD).first();\n               }\n\n               rows = plain.split(\"\\n\").filter(f => f);\n               currentRow = current.closest(\"tr\");\n               currentField = that.thead.find(\"th:eq(\" + current.index() + \")\").data(\"field\");\n               currentRowUid = currentRow.data(\"uid\");\n\n               uids.push(currentRowUid);\n\n               currentRow.nextAll(ITEMROW).slice(0, rows.length - 1).each((i, item) => {\n                   uids.push($(item).data(\"uid\"));\n               });\n\n               that._executePaste(rows, uids, null, currentField);\n           },\n\n           _pasteInsertHandler: function(plain) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   rows,\n                   current,\n                   currentRow,\n                   dataItemIndex,\n                   dataItem;\n\n               current = that.select().first();\n\n               if (!current.length) {\n                   return;\n               }\n\n               if (current.is(TR)) {\n                   current = current.children(TD).first();\n               }\n\n               rows = plain.split(\"\\n\").filter(f => f);\n               currentRow = current.closest(\"tr\");\n               dataItem = that.dataItem(currentRow);\n               dataItemIndex = dataSource.indexOf(dataItem) + 1;\n\n               that._executePaste(rows, null, dataItemIndex, null);\n           },\n\n           _executePaste: function(rows, uids, index, currentField) {\n               var that = this,\n                   dataSource = that.dataSource,\n                   update = uids || false,\n                   dataItem,\n                   row,\n                   cells,\n                   cell,\n                   column,\n                   field,\n                   selectedUids = that._getSelectedRowUids(),\n                   selectedColumnFields = that._getSelectedColumnFields(),\n                   changedItems = [],\n                   visibleColumns = visibleLeafColumns(that.columns).filter(col => !col.selectable && !col.draggable & !col.command),\n                   startingIndex = currentField && visibleColumns.map(c => c.field).indexOf(currentField);\n\n               // If only one value is copied and multiple cells are selected, replace all values in all selected cells with the copied value.\n               if (rows.length === 1 && rows[0].split(\"\\t\").length === 1 && update) {\n                   for (let j = 0; j < selectedUids.length; j++) {\n                       const uid = selectedUids[j];\n                       dataItem = dataSource.getByUid(uid);\n                       cell = rows[0].split(\"\\t\")[0];\n\n                       for (let j = 0; j < selectedColumnFields.length; j++) {\n                           field = selectedColumnFields[j];\n                           if (dataItem && cell) {\n                               dataItem.set(field, cell);\n                           }\n                       }\n\n                       if (dataItem && dataItem.dirty) {\n                           changedItems.push(dataItem);\n                       }\n                   }\n               } else {\n                   // If more than one value is copied, proceed with the standard replace.\n                   for (let i = 0; i < rows.length; i++) {\n                       row = rows[i];\n                       cells = row.split(\"\\t\");\n                       dataItem = update ? dataSource.getByUid(uids[i]) : dataSource.insert(index + i, {});\n\n                       for (let j = 0; j < cells.length; j++) {\n                           cell = cells[j].replace(/\\r/, \"\");\n                           column = visibleColumns[j + startingIndex || 0];\n\n                           if (column && dataItem && cell) {\n                               field = column.field;\n                               dataItem.set(field, cell);\n                           }\n                       }\n\n                       if (dataItem && dataItem.dirty) {\n                           changedItems.push(dataItem);\n                       }\n                   }\n               }\n               that.trigger(PASTE, { items: changedItems, type: update ? \"replace\" : \"insert\" });\n           },\n\n           _pasteKeyboardHandler: function(e) {\n               var that = this,\n                   current = that.current(),\n                   clipBoardData = e.originalEvent.clipboardData,\n                   operation = (that.pasteActionsDropDownList && that.pasteActionsDropDownList.value()) || \"insert\",\n                   rowUid,\n                   cellIndex,\n                   plain;\n\n               if ($(e.target).is(\".k-edit-cell input:visible\")) {\n                   return;\n               }\n\n               if (clipBoardData) {\n                   e.preventDefault();\n                   plain = clipBoardData.getData(\"text\").trimEnd();\n\n                   // If the copied value consists only of white spaces or new lines, reduce it to a single white space.\n                   if (isEmptyString(plain)) {\n                       plain = \" \";\n                   }\n\n                   if (current && current.length) {\n                       cellIndex = current.index();\n                       rowUid = current.closest(TR).data(\"uid\");\n                   }\n\n                   if (operation === \"replace\") {\n                       that._pasteReplaceHandler(plain);\n                   }\n\n                   if (operation === \"insert\") {\n                       that._pasteInsertHandler(plain);\n                   }\n\n                   // Restore the focus to the last focused cell.\n                   if (cellIndex && rowUid) {\n                       that._currentRowIndex = that.wrapper.find(TR + \"[data-uid='\" + rowUid + \"']\").index();\n                       that._restoreCurrent(cellIndex);\n                   }\n               }\n           },\n\n           _paste: function() {\n               var that = this,\n                   options = that.options,\n                   selectable = options.selectable,\n                   allowPaste = options.allowPaste;\n\n               if (allowPaste && selectable) {\n                   that.pasteHandler = that._pasteKeyboardHandler.bind(that);\n                   const container = that.content || that.table;\n                   container.on(PASTE + NS, that.pasteHandler);\n\n                   if (that.options.toolbar) {\n                       that._pasteToolbarDropDown();\n                   }\n               }\n           },\n\n           _clipboard: function() {\n               var options = this.options;\n               var selectable = options.selectable;\n\n               if (selectable && options.allowCopy) {\n                   var grid = this;\n                   if (!options.navigatable) {\n                       grid.table.attr(TABINDEX, 0);\n\n                       grid.table.add(grid.lockedTable)\n                           .on(MOUSEDOWN + NS + \" keydown\" + NS, \".k-detail-cell\", function(e) {\n                               if (e.target !== e.currentTarget) {\n                                   e.stopImmediatePropagation();\n                               }\n                           })\n                           .on(MOUSEDOWN + NS, NAVROW + \">\" + NAVCELL, tableClick.bind(grid));\n                   }\n                   grid.copyHandler = grid.copySelection.bind(grid);\n                   grid.updateClipBoardState = function() {\n                       if (grid.areaClipBoard) {\n                           grid.areaClipBoard.val(grid.getTSV()).trigger(\"focus\").select();\n                       }\n                   };\n                   const container = grid.content || grid.table;\n                   grid.bind(\"change\",grid.updateClipBoardState);\n                   container.on(\"keydown\", grid.copyHandler);\n                   grid.clearAreaHandler = grid.clearArea.bind(grid);\n                   container.on(\"keyup\", grid.clearAreaHandler);\n               }\n           },\n\n           copySelectionToClipboard: function(includeHeaders) {\n               this._createAreaClipBoard();\n               this.areaClipBoard.val(this.getTSV(includeHeaders)).trigger(\"focus\").select();\n               document.execCommand('copy');\n           },\n\n           copySelection: function(e) {\n               if ((e instanceof jQuery.Event && !(e.ctrlKey || e.metaKey)) ||\n                   !(e.keyCode === 67 && (e.ctrlKey || e.metaKey)) ||\n                   $(e.target).is(\"input:visible,textarea:visible\") ||\n                   (window.getSelection && window.getSelection().toString()) ||\n                   (document.selection && document.selection.createRange().text) ) {\n                   return;\n               }\n\n               this._createAreaClipBoard();\n               this.areaClipBoard.val(this.getTSV()).trigger(\"focus\").select();\n           },\n\n           _createAreaClipBoard: function() {\n               if (!this.areaClipBoard) {\n                   this.areaClipBoard =\n                       $(\"<textarea />\")\n                       .css({\n                           position: \"fixed\",\n                           top: \"50%\",\n                           left: \"50%\",\n                           opacity: 0,\n                           width: 0,\n                           height: 0\n                       })\n                       .appendTo(this.wrapper);\n               }\n           },\n\n           getTSV: function(includeHeaders) {\n               var grid = this;\n               var selected = grid.select();\n               var delimeter = \"\\t\";\n               var allowCopy = grid.options.allowCopy;\n               var onlyVisible = true;\n               var hasLockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n\n               if ($.isPlainObject(allowCopy) && allowCopy.delimeter) {\n                   delimeter = allowCopy.delimeter;\n               }\n               var text = \"\";\n               if (selected.length) {\n                   if (selected.eq(0).is(TR)) {\n                       selected = selected.find(\"td:not(.k-group-cell)\");\n                   }\n                   if (onlyVisible) {\n                       selected.filter(\":visible\");\n                   }\n\n                   var result = [];\n                   var cellsOffset = this.columns.length;\n                   var lockedCols = grid._isLocked() && lockedColumns(grid.columns).length;\n                   var inLockedArea = true;\n                   var fields = [];\n                   var field;\n                   var columns = visibleLeafColumns(this.columns);\n\n                   $.each(selected, function(idx, cell) {\n                       cell = $(cell);\n                       field = grid._getCellField(cell, hasLockedCols);\n\n                       if (columns.findIndex(c => c.field === field) === -1) {\n                           return;\n                       }\n\n                       var tr = cell.closest(TR);\n                       var rowIndex = tr.index();\n                       var cellIndex = cell.index();\n                       if (onlyVisible) {\n                           cellIndex -= cell.prevAll(\":hidden\").length;\n                       }\n                       if (lockedCols && inLockedArea) {\n                           inLockedArea = $.contains(grid.lockedTable[0], cell[0]);\n                       }\n                       if (grid._groups() && inLockedArea) {\n                           cellIndex -= grid._groups();\n                       }\n                       cellIndex = inLockedArea ? cellIndex : (cellIndex + lockedCols );\n                       if (field) {\n                           fields[cellIndex] = field;\n                       }\n                       if (cellsOffset > cellIndex) {\n                           cellsOffset = cellIndex;\n                       }\n                       var cellText = cell.text();\n                       if (!result[rowIndex]) {\n                           result[rowIndex] = [];\n                       }\n                       result[rowIndex][cellIndex] = cellText;\n                   });\n\n                   var rowsOffset = result.length;\n                   result = $.each(result, function(idx, val) {\n                       if (val) {\n                           result[idx] = val.slice(cellsOffset);\n                           if (rowsOffset > idx) {\n                               rowsOffset = idx;\n                           }\n                       }\n                   });\n\n                   if (includeHeaders && fields.length) {\n                       result.splice(rowsOffset, 0, fields.map(function(field) {\n                           return getTitle(field, columns);\n                       }));\n\n                       var headerIndex = result.findIndex(function(el) {\n                           return el !== undefined$1;\n                       });\n\n                       result[headerIndex] = result[headerIndex].slice(cellsOffset);\n                   }\n\n                   $.each(result.slice(rowsOffset), function(idx, val) {\n                       if (val) {\n                           text += val.join(delimeter) + \"\\r\\n\";\n                       } else {\n                           text += \"\\r\\n\";\n                       }\n                   });\n               }\n               return text;\n           },\n\n           clearArea: function(e) {\n               if (this.areaClipBoard && e && e.target === this.areaClipBoard[0]) {\n                   focusTable(this.table, true);\n               }\n\n               if (this.areaClipBoard) {\n                   this.areaClipBoard.remove();\n                   this.areaClipBoard = null;\n               }\n           },\n\n           _adaptiveColumns: function() {\n               var that = this;\n\n               if (that._anyColumnHasMediaQuery()) {\n                   that._setColumnsMediaVisibility(that.columns);\n                   that._attachColumnMediaResizeHandler();\n               }\n           },\n\n           _anyColumnHasMediaQuery: function() {\n               return this._columnsWithMediaQuery().length;\n           },\n\n           _columnsWithMediaQuery: function() {\n               return columnsWithMedia(this.columns);\n           },\n\n           _attachColumnMediaResizeHandler: function() {\n               var that = this;\n\n               that._detachColumnMediaResizeHandler();\n               that._columnMediaResizeHandler = that._onColumnMediaResize.bind(that);\n               $(window).on(RESIZE + NS, that._columnMediaResizeHandler);\n           },\n\n           _detachColumnMediaResizeHandler: function() {\n               var that = this;\n\n               if (that._columnMediaResizeHandler) {\n                   $(window).off(RESIZE + NS, that._columnMediaResizeHandler);\n               }\n           },\n\n           _onColumnMediaResize: function() {\n               var that = this;\n               that._setColumnsMediaVisibility(that.columns);\n               that._setContentMediaWidth();\n           },\n\n           _setColumnsMediaVisibility: function(columns) {\n               var cols = columns || [];\n\n               for (var i = 0; i < cols.length; i++) {\n                   this._setColumnMediaVisibility(cols[i]);\n               }\n           },\n\n           _setColumnMediaVisibility: function(column) {\n               var that = this;\n\n               if (isUndefined(column.media)) {\n                   that._setColumnsMediaVisibility(column.columns);\n               } else {\n                   if (columnMatchesMedia(column)) {\n                       that._showColumnByMedia(column);\n\n                       if (!column.hidden) {\n                           that._setColumnsMediaVisibility(column.columns);\n                       }\n                   } else {\n                       that._hideColumnByMedia(column);\n                   }\n               }\n           },\n\n           _showColumnByMedia: function(column) {\n               if (!column.hidden) {\n                   // \"hidden\" has a priority over \"matchesMedia\"\n                   this.showColumn(column);\n               }\n\n               setColumnMatchesMedia(column);\n           },\n\n           _hideColumnByMedia: function(column) {\n               var initiallyHidden = column.hidden;\n\n               if (!initiallyHidden) {\n                   column._hideByMedia = true;\n                   this.hideColumn(column);\n                   column._hideByMedia = false;\n\n                   // hiding is tracked in \"matchesMedia\" instead of \"hidden\" flag\n                   column.hidden = initiallyHidden;\n               }\n\n               setColumnMatchesMedia(column);\n           },\n\n           _setContentMediaWidth: function() {\n               var that = this;\n               var options = that.options;\n               var isLocked = that._isLocked();\n               var footer;\n\n               if (options.scrollable && (options.resizable === true || (options.resizable && options.resizable.columns === true))) {\n                   if (isLocked && that.lockedFooter) {\n                       footer = that.lockedFooter.children(\"table\");\n                   } else if (that.footer) {\n                       footer = that.footer.find(\">.k-grid-footer-wrap>table\");\n                   }\n\n                   if (!footer || !footer[0]) {\n                       footer = $();\n                   }\n\n                   var header = isLocked ? that.wrapper.find(\".k-grid-header-locked\").find(\"table\") : that.wrapper.find(\".k-grid-header\").find(\"table\");\n                   var contentTable = isLocked ? that.lockedTable : that.table;\n\n                   var headerColumns = header.find(\"th\");\n                   var headerColgroup = header.find(\"colgroup\");\n\n                   var headerColumnsCount = headerColumns.length;\n                   var visibleHeaderColumnsCount = headerColumns.filter(isCellVisible).length;\n                   var hiddenHeaderColumnsCount = headerColumns.length - visibleHeaderColumnsCount;\n\n                   var totalHeaderWidth = 0;\n\n                   if (header[0].style.width !== \"\" && parseFloat(header[0].style.width) !== totalHeaderWidth) {\n                       var currentHeaderWidth = header.css(WIDTH);\n\n                       for (var i = 0; i < headerColumnsCount; i++) {\n                           if (isElementVisible(headerColumns[i])) {\n                               var columnWidth;\n                               var cellIndex = Math.max(i, (i - hiddenHeaderColumnsCount));\n                               var colgroupChild = headerColgroup.children()[cellIndex];\n                               var columnStyleWidth = colgroupChild ? colgroupChild.style.width : \"\";\n\n                               if (columnStyleWidth !== \"\") {\n                                   columnWidth = parseFloat(columnStyleWidth);\n                               } else {\n                                   // remove the header width to calculate the height of a column without fixed width\n                                   header.css(WIDTH, AUTO);\n                                   columnWidth = outerWidth(headerColumns.eq(i));\n                                   header.css(WIDTH, currentHeaderWidth);\n                               }\n\n                               totalHeaderWidth += columnWidth;\n                           }\n                       }\n\n                       contentTable.css('width', totalHeaderWidth - 1); // subtract 1 to remove the horizontal scroll\n                       header.css('width', totalHeaderWidth);\n                       footer.css('width', totalHeaderWidth);\n                       that._updateStickyColumns();\n                   }\n               }\n           },\n\n           _minScreenSupport: function() {\n               var any = this.hideMinScreenCols();\n\n               if (any) {\n                   this.minScreenResizeHandler = this.hideMinScreenCols.bind(this);\n                   $(window).on(\"resize\", this.minScreenResizeHandler);\n               }\n           },\n\n           hideMinScreenCols: function() {\n               var cols = this.columns,\n                   screenWidth = (window.innerWidth > 0) ? window.innerWidth : screen.width;\n\n               return this._iterateMinScreenCols(cols, screenWidth);\n           },\n\n           _iterateMinScreenCols: function(cols, screenWidth) {\n               var any = false;\n\n               for (var i = 0; i < cols.length; i++) {\n                   var col = cols[i];\n                   var minWidth = col.minScreenWidth;\n                   if (minWidth !== undefined$1 && minWidth !== null) {\n                       any = true;\n                       if (minWidth > screenWidth) {\n                           this.hideColumn(col);\n                       } else {\n                           this.showColumn(col);\n                       }\n                   }\n                   if (!col.hidden && col.columns) {\n                       any = this._iterateMinScreenCols(col.columns, screenWidth) || any;\n                   }\n               }\n               return any;\n           },\n\n           _stickyColumns: function() {\n               var that = this;\n\n               if (that._anyStickyColumns()) {\n                   that._setStickyColumns(false);\n               }\n           },\n\n           _updateStickyColumns: function() {\n               var that = this;\n               var groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (that._anyStickyColumns()) {\n                   that._setStickyColumns(true);\n                   that._templates();\n\n                   if (groupHeaderColumnTemplateColumns.length > 0) {\n                       that._renderGroupRows();\n                   }\n\n                   if (that._hasFilterRow()) {\n                       that._updateStickyFilterCells();\n                   }\n               }\n           },\n\n           _updateStickyFilterCells: function() {\n               var that = this;\n               var filterCells = that.thead.find(\".k-filter-row\").find(\"td:not(.k-group-cell,.k-hierarchy-cell)\");\n               if (filterCells.length) {\n                   filterCells.each(function() {\n                       var th = $(this);\n                       var column = th.data(\"column\");\n\n                       if (column.sticky) {\n                           if (isPlainObject(column.stickyStyle)) {\n                               th.css({\n                                   left: column.stickyStyle.left || \"\",\n                                   right: column.stickyStyle.right || \"\"\n                               });\n                           }\n\n                           th.addClass(STICKY_HEADER_CLASS);\n                       } else {\n                           th.css({\n                               left: \"\",\n                               right: \"\"\n                           });\n\n                           th.removeClass(STICKY_HEADER_CLASS);\n                       }\n                   });\n               }\n           },\n\n           _anyStickyColumns: function() {\n               var that = this;\n\n               return stickyColumns(that.columns).length;\n           },\n\n           _setStickyColumns: function(updateStyles) {\n               var that = this;\n               var columns = stickyColumns(that.columns);\n               var visibleColumns = visibleStickyColumns(that.columns);\n               var stickyWidths = that._calculateStickyWidths(visibleColumns);\n\n               that._removeStickyAttributes(columns);\n               that._setStickyClassAttributes(columns);\n               that._setStickyStyleAttributes(visibleColumns, stickyWidths, updateStyles);\n\n               if (updateStyles) {\n                   that._setStickyStyles(visibleColumns, stickyWidths);\n               }\n           },\n\n           _calculateStickyWidths: function(columns, initialLeftWidth, initialRightWidth) {\n               var that = this;\n               var i;\n               var column;\n               var columnWidth;\n               var nextColumnLeft;\n               var nextColumnRight;\n               var left = isRtl ? \"right\" : \"left\";\n               var right = isRtl ? \"left\" : \"right\";\n               var stickyWidths = {\n                   left: new Array(columns.length).fill(initialLeftWidth ? initialLeftWidth : 0),\n                   right: new Array(columns.length).fill(initialRightWidth ? initialRightWidth : 0)\n               };\n\n               for (i = 0; i < columns.length - 1; i++) {\n                   column = columns[i];\n                   columnWidth = that._sumColumnWidth(column);\n                   nextColumnLeft = columnWidth + stickyWidths[left][i];\n\n                   stickyWidths[left][i + 1] = nextColumnLeft;\n               }\n\n               for (i = columns.length - 1; i > 0; i--) {\n                   column = columns[i];\n                   columnWidth = that._sumColumnWidth(column);\n                   nextColumnRight = columnWidth + stickyWidths[right][i];\n\n                   stickyWidths[right][i - 1] = nextColumnRight;\n               }\n\n               return stickyWidths;\n           },\n\n           _setStickyClassAttributes: function(columns, masterIndex) {\n               var that = this;\n               var i;\n               var column;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n\n                   if (column.columns) {\n                       if (!masterIndex && i) {\n                           masterIndex = i;\n                       }\n\n                       that._setStickyClassAttributes(childColumns([column]), masterIndex);\n                   }\n\n                   if (masterIndex) {\n                       addColumnAttribute(column, \"headerAttributes\", \"class\", STICKY_HEADER_NO_BORDER_CLASS);\n                   }\n                   addColumnAttribute(column, \"attributes\", \"class\", STICKY_CELL_CLASS);\n                   addColumnAttribute(column, \"headerAttributes\", \"class\", STICKY_HEADER_CLASS);\n                   addColumnAttribute(column, \"footerAttributes\", \"class\", STICKY_FOOTER_CLASS);\n               }\n           },\n\n           _setStickyStyleAttributes: function(columns, stickyWidths, updateStyles) {\n               var that = this;\n               var i;\n               var column;\n               var stickyLeft;\n               var stickyRight;\n               var stickyStyle;\n               var childCols;\n               var childStickyWidths;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n                   stickyLeft = stickyWidths.left[i];\n                   stickyRight = stickyWidths.right[i];\n                   stickyStyle = { left: stickyLeft + \"px\", right: stickyRight + \"px\" };\n\n                   if (column.columns) {\n                       childCols = visibleChildColumns([column]);\n                       childStickyWidths = that._calculateStickyWidths(childCols, stickyLeft, stickyRight);\n\n                       that._setStickyStyleAttributes(childCols, childStickyWidths, updateStyles);\n\n                       if (updateStyles) {\n                           that._setStickyStyles(childCols, childStickyWidths);\n                       }\n                   }\n\n                   addColumnAttribute(column, \"attributes\", kendo.attr(\"style-left\"), stickyStyle.left);\n                   addColumnAttribute(column, \"attributes\", kendo.attr(\"style-right\"), stickyStyle.right);\n                   addColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-left\"), stickyStyle.left);\n                   addColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-right\"), stickyStyle.right);\n                   addColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-left\"), stickyStyle.left);\n                   addColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-right\"), stickyStyle.right);\n\n                   column.stickyStyle = stickyStyle;\n               }\n           },\n\n           _removeStickyAttributes: function(columns) {\n               var that = this;\n               var i;\n               var cellClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_CELL_CLASS + \")*\", \"ig\");\n               var headerClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_HEADER_CLASS + \")*\", \"ig\");\n               var footerClassRegExp = new RegExp(\"(\\\\s*\" + STICKY_FOOTER_CLASS + \")*\", \"ig\");\n               var headerClassNoBorderRegExp = new RegExp(\"(\\\\s*\" + STICKY_HEADER_NO_BORDER_CLASS + \")*\", \"ig\");\n               var column;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n\n                   if (column.columns) {\n                       that._removeStickyAttributes(childColumns([column]));\n                   }\n\n                   removeColumnAttribute(column, \"attributes\", \"class\", cellClassRegExp);\n                   removeColumnAttribute(column, \"attributes\", kendo.attr(\"style-left\"), '', true);\n                   removeColumnAttribute(column, \"attributes\", kendo.attr(\"style-right\"), '', true);\n\n                   removeColumnAttribute(column, \"headerAttributes\", \"class\", headerClassRegExp);\n                   removeColumnAttribute(column, \"headerAttributes\", \"class\", headerClassNoBorderRegExp);\n                   removeColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-left\"), '', true);\n                   removeColumnAttribute(column, \"headerAttributes\", kendo.attr(\"style-right\"), '', true);\n\n                   removeColumnAttribute(column, \"footerAttributes\", \"class\", footerClassRegExp);\n                   removeColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-left\"), '', true);\n                   removeColumnAttribute(column, \"footerAttributes\", kendo.attr(\"style-right\"), '', true);\n               }\n           },\n\n           _setStickyStyles: function(columns, stickyWidths) {\n               var that = this;\n               var i;\n               var j;\n               var leafsCols = leafColumns(nonLockedColumns(that.columns));\n               var rows = that.tbody.children(\":not(.k-detail-row)\");\n               var row;\n               var column;\n               var columnIndex;\n               var left;\n               var right;\n               var header;\n               var footer;\n               var groupHeader;\n               var cell;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n                   left = stickyWidths.left[i];\n                   right = stickyWidths.right[i];\n                   columnIndex = leafsCols.indexOf(column);\n                   header = that._getColumnHeader(column);\n\n                   header.addClass(STICKY_HEADER_CLASS);\n                   if (column.headerAttributes[\"class\"] && column.headerAttributes[\"class\"].indexOf(STICKY_HEADER_NO_BORDER_CLASS) !== -1) {\n                       header.addClass(STICKY_HEADER_NO_BORDER_CLASS);\n                   }\n                   setLeftAndRightStyles(header, left, right);\n\n                   if (column.columns) {\n                       continue;\n                   }\n\n                   if (that.footer) {\n                       footer = that.footer.find(\".k-grid-footer-wrap tr.k-footer-template\").children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                       footer.addClass(STICKY_FOOTER_CLASS);\n                       setLeftAndRightStyles(footer, left, right);\n                   }\n\n                   for (j = 0; j < rows.length; j++) {\n                       row = $(rows[j]);\n\n                       if (row.hasClass(GROUPING_ROW)) {\n                           groupHeader = row.find(\".\" + column.groupHeaderColumnTemplateClass);\n\n                           groupHeader.addClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(groupHeader, left, right);\n                       } else {\n                           cell = row.children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                           cell.addClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(cell, left, right);\n                       }\n                   }\n               }\n           },\n\n           _removeStickyStyles: function(columns) {\n               var that = this;\n               var i;\n               var j;\n               var leafsCols = leafColumns(nonLockedColumns(that.columns));\n               var rows = that.tbody.children(\":not(.k-detail-row)\");\n               var row;\n               var column;\n               var columnIndex;\n               var header;\n               var footer;\n               var groupHeader;\n               var cell;\n\n               for (i = 0; i < columns.length; i++) {\n                   column = columns[i];\n                   columnIndex = leafsCols.indexOf(column);\n                   header = that._getColumnHeader(column);\n\n                   header.removeClass(STICKY_HEADER_CLASS);\n                   header.removeClass(STICKY_HEADER_NO_BORDER_CLASS);\n                   setLeftAndRightStyles(header, \"\", \"\");\n\n                   if (column.columns) {\n                       that._removeStickyStyles(column.columns);\n                       continue;\n                   }\n\n                   if (column.footerTemplate && that.footer) {\n                       footer = that.footer.find(\".k-grid-footer-wrap tr.k-footer-template\").children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                       footer.removeClass(STICKY_FOOTER_CLASS);\n                       setLeftAndRightStyles(footer, \"\", \"\");\n                   }\n\n                   for (j = 0; j < rows.length; j++) {\n                       row = $(rows[j]);\n\n                       if (row.hasClass(GROUPING_ROW)) {\n                           groupHeader = row.find(\".\" + column.groupHeaderColumnTemplateClass);\n\n                           groupHeader.removeClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(groupHeader, \"\", \"\");\n                       } else {\n                           cell = row.children().filter(\":not(.k-group-cell,.k-hierarchy-cell)\").eq(columnIndex);\n\n                           cell.removeClass(STICKY_CELL_CLASS);\n                           setLeftAndRightStyles(cell, \"\", \"\");\n                       }\n                   }\n               }\n           },\n\n           _getColumnHeader: function(column) {\n               var that = this;\n               var header = $(\"#\" + column.headerAttributes.id).length ? $(\"#\" + column.headerAttributes.id) : $(\"#\" + that._cellId);\n\n               return header;\n           },\n\n           _sumColumnWidth: function(column) {\n               var that = this;\n               var width = 0;\n\n               if (column.columns) {\n                   width = that._sumCurrentWidths(leafColumns([column]));\n               } else {\n                   width = that._sumCurrentWidths([column]);\n               }\n\n               return width;\n           },\n\n           _sumCurrentWidths: function(cols) {\n               var that = this;\n               var width = 0;\n               var colWidth = 0;\n               var col;\n               var header;\n               var i;\n               var length = cols.length;\n\n               for (i = 0; i < length; i++) {\n                   col = cols[i];\n                   header = that._getColumnHeader(col);\n\n                   if (!col.hidden && columnMatchesMedia(col)) {\n                       colWidth = header.is(\":visible\") ? header.outerWidth() : col.width;\n\n                       width += colWidth ? parseInt(colWidth, 10) : 0;\n                   }\n               }\n\n               return width;\n           },\n\n           _belongsToGrid: function(element) {\n               return this.wrapper[0] === element.closest(WRAPPER)[0];\n           },\n\n           getSelectedData: function() {\n               var that = this;\n               var selectedRanges = that.selectable.selectedRanges();\n               var selectedRangeNames = Object.keys(selectedRanges);\n               var selectedSingleItems = that.selectable.selectedSingleItems();\n               var result = [];\n               var visibleColumns = visibleLeafColumns(that.columns);\n\n               for (var idx = 0; idx < selectedRangeNames.length; idx++) {\n                   result = result.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns, null, true));\n               }\n\n               if (selectedSingleItems.length) {\n                   result = result.concat(that._mapSelectionToData(selectedSingleItems, visibleColumns, null, true));\n               }\n\n               return result;\n           },\n\n           getSelectedDataByKeys: function() {\n               var that = this,\n                   dataSource = that.dataSource,\n                   keys = that.selectedKeyNames(),\n                   visibleColumns = visibleLeafColumns(that.columns),\n                   key,\n                   dataItem,\n                   result = {};\n\n               var columnMapHandler = function(col) {\n                   var result = {};\n\n                   if (!col.field) {\n                       return;\n                   }\n\n                   result[col.field] = dataItem[col.field];\n                   return result;\n               };\n\n               for (let i = 0; i < keys.length; i++) {\n                   key = keys[i];\n                   dataItem = dataSource.get(key);\n\n                   if (dataItem) {\n                       result[dataItem.uid] = $.extend.apply({}, visibleColumns.map(columnMapHandler));\n                   }\n               }\n\n               return Object.keys(result).map(function(id) {\n                   return result[id];\n               });\n           },\n\n           exportSelectedToExcel: function(includeHeaders) {\n               if (!kendo.excel || !kendo.ooxml) {\n                   throw new Error(\"The excel export functionality depends on both kendo.excel.js and kendo.ooxml.js scripts, please make sure they are included.\");\n               }\n\n               var that = this;\n               var excel = this.options.excel || {};\n               var visibleColumns = visibleLeafColumns(that.columns);\n               var exporter = new kendo.excel.ExcelExporter({});\n               var columnHandler = function() {return { autoWidth: true };};\n               var book = {\n                   sheets: [{\n                       columns: Array.apply(0, Array(visibleColumns.length)).map(columnHandler),\n                       rows: [],\n                       freezePane: {},\n                       filter: false\n                   }]\n               };\n               var selectedRanges = that.selectable.selectedRanges();\n               var selectedRangeNames = Object.keys(selectedRanges);\n               var selectedSingleItems = that.selectable.selectedSingleItems();\n               var idx;\n               var exportData = [];\n               var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n               var sortHandler = exportDataSort.bind(that);\n\n\n               for (idx = 0; idx < selectedRangeNames.length; idx++) {\n                   exportData = exportData.concat(that._mapSelectionToData(selectedRanges[selectedRangeNames[idx]], visibleColumns, isExcelExportableColumn));\n               }\n\n               if (exportData.length) {\n                   that._addRangeSelectionRows(book, exporter, exportData, includeHeaders);\n\n               }\n               exportData = selectedSingleItems.length ? that._mapSelectionToData(selectedSingleItems, visibleColumns, isExcelExportableColumn) : [];\n\n               if (exportData.length) {\n                   if (hasLockedCols) {\n                       exportData = exportData.sort(sortHandler);\n                   }\n                   that._addSingleSelectionRows(book, exporter, exportData, includeHeaders);\n               }\n\n               if (book.sheets[0].rows.length) {\n                   var workbook = new kendo.ooxml.Workbook(book);\n\n                   if (!workbook.options) {\n                       workbook.options = {};\n                   }\n                   workbook.options.skipCustomHeight = true;\n\n                   workbook.toDataURLAsync().then(function(dataURI) {\n                       kendo.saveAs({\n                           dataURI: dataURI,\n                           fileName: book.fileName || excel.fileName,\n                           proxyURL: excel.proxyURL,\n                           forceProxy: excel.forceProxy\n                       });\n                   });\n               }\n           },\n\n           _addSingleSelectionRows: function(book, exporter, data, includeHeaders) {\n               var idx = 0;\n               var visibleColumns = visibleLeafExportColumns(this.columns);\n               var item;\n               const exporterInstance = exporter._instance ?? exporter;\n               for (idx = 0; idx < data.length; idx++) {\n                   item = data[idx];\n                   exporter.data = [item];\n                   this._setExporterColumns(exporterInstance, visibleColumns, item);\n                   this._createExportRows(book, exporterInstance, includeHeaders);\n               }\n           },\n\n           _addRangeSelectionRows: function(book, exporter, data, includeHeaders) {\n               var visibleColumns = visibleLeafExportColumns(this.columns);\n               const exporterInstance = exporter._instance ?? exporter;\n               exporter.data = data;\n               this._setExporterColumns(exporterInstance, visibleColumns, data[0]);\n               this._createExportRows(book, exporterInstance, includeHeaders);\n           },\n\n           _createExportRows: function(book, exporter, includeHeaders) {\n               const exporterInstance = exporter._instance ?? exporter;\n               book.sheets[0].rows = book.sheets[0].rows.concat(includeHeaders ? exporterInstance._rows() : exporterInstance._dataRows(exporterInstance.data, 0));\n           },\n\n           _setExporterColumns: function(exporter, columns, item) {\n               const exporterInstance = exporter._instance ?? exporter;\n               exporterInstance.columns = exporterInstance.options.columns = $.map(columns.filter(function(col) {\n                   return Object.keys(item).indexOf(col.field) >= 0;\n               }), exporterInstance._prepareColumn);\n           },\n\n           _mapSelectionToData: function(elements, visibleColumns, columnsFilter, ignoreOffset) {\n               var that = this;\n               var elementType = elements[0][0].nodeName;\n               var isRowSelection = elementType === 'TR';\n               var dataItem;\n               var result = {};\n               var element;\n               var curr;\n               var field;\n               var columnMapHandler = function(col) {\n                   var result = {};\n\n                   if (!col.field || (columnsFilter && !columnsFilter(col))) {\n                       return;\n                   }\n\n                   result[col.field] = dataItem[col.field];\n                   return result;\n               };\n               var hasLockedCols = that._isLocked() && lockedColumns(that.columns).length;\n               var column;\n\n               for (var i = 0; i < elements.length; i++) {\n                   element = elements[i];\n                   dataItem = that.dataItem(isRowSelection ? element : element.parent());\n\n                   if (isRowSelection) {\n                       result[dataItem.uid] = $.extend.apply({}, visibleColumns.map(columnMapHandler));\n                   } else {\n                       field = that._getCellField(element, hasLockedCols, ignoreOffset);\n\n                       if (!field) {\n                           continue;\n                       }\n\n                       curr = result[dataItem.uid];\n\n                       if (!curr) {\n                           curr = result[dataItem.uid] = {};\n                       }\n\n                       column = findColumnByField(visibleColumns, field);\n\n                       if (!column || (columnsFilter && !columnsFilter(column))) {\n                           continue;\n                       }\n\n                       curr[field] = dataItem[field];\n                   }\n               }\n\n               return Object.keys(result).map(function(id) {\n                   result[id].uid = id;\n                   return result[id];\n               });\n           },\n\n           _getCellField: function(cell, hasLockedCols, ignoreOffset) {\n               var grid = this;\n               var inLockedArea = hasLockedCols && $.contains(grid.lockedTable[0], cell[0]);\n               var fieldAttr = kendo.attr('field');\n               var index = kendo.attr('index');\n               var indexOffset = 0;\n\n               if (ignoreOffset) {\n                   indexOffset = grid._trailingColumns();\n               }\n\n               if (hasLockedCols) {\n                   return grid.element.find(\".k-grid-header-\" + (inLockedArea ? \"locked\" : \"wrap\") + \" th[\" + index + \"='\" + cell.index() + \"']\").attr(fieldAttr);\n               } else {\n                   return grid.thead.find(\"th[\" + index + \"='\" + (cell.index() - indexOffset) + \"']\").attr(fieldAttr);\n               }\n           },\n\n           _relatedRow: function(row) {\n               var lockedTable = this.lockedTable;\n               row = $(row);\n\n               if (!lockedTable) {\n                   return row;\n               }\n\n               var table = row.closest(this.table.add(this.lockedTable));\n               var index = table.find(\">tbody>tr\").index(row);\n\n               table = table[0] === this.table[0] ? lockedTable : this.table;\n\n               return table.find(\">tbody>tr\").eq(index);\n           },\n\n           _relatedCell: function(cell) {\n               var lockedTable = this.lockedTable;\n\n               cell = $(cell);\n\n               if (!lockedTable) {\n                   return cell;\n               }\n\n               var table = cell.closest(this.table.add(this.lockedTable));\n               var index = table.find(\">tbody>tr>td\").index(cell);\n\n               table = table[0] === this.table[0] ? lockedTable : this.table;\n\n               return table.find(\">tbody>tr>td\").index(index);\n           },\n\n           clearSelection: function() {\n               var that = this;\n\n               if (that.selectable && !that._checkBoxSelection) {\n                   that.selectable.clear();\n               }\n\n               if (that._checkBoxSelection) {\n                   that._deselectCheckRows(that.select());\n                   return;\n               }\n\n               if (that.options.persistSelection) {\n                   that._persistSelectedRows();\n               } else {\n                   that._selectedIds = {};\n               }\n           },\n\n           select: function(items) {\n               var that = this,\n                   selectable = that.selectable,\n                   selectableoptions = kendo.ui.Selectable.parseOptions(this.options.selectable),\n                   cell = selectableoptions.cell;\n\n               items = that.table.add(that.lockedTable).find(items);\n               if (items.length) {\n                   if (selectable && !selectable.options.multiple) {\n                       selectable.clear();\n                       items = items.first();\n                   }\n\n                   if (that._isLocked()) {\n                       items = items.add(items.map(function() {\n                           if (cell) {\n                               return that._relatedCell(this);\n                           }\n                           else {\n                               return that._relatedRow(this);\n                           }\n                       }));\n                   }\n\n                   if (selectable && !that._checkBoxSelection) {\n                       selectable.value(items);\n                   } else {\n                       that._checkRows(items);\n                       if (that.select().length === that.items().length) {\n                           that._toggleHeaderCheckState(true);\n                       }\n                   }\n\n                   if (!cell) {\n                       that._persistSelectedRows();\n                   }\n\n                   return;\n               }\n\n               return selectable ? selectable.value() : that.items().filter(\".\" + SELECTED);\n           },\n\n           _initSelectableAggregates: function() {\n               var that = this;\n\n               if (!that.options.selectable) {\n                   return;\n               }\n\n               if (!that._selectableAggregatesOptions) {\n                   that._selectableAggregatesOptions = that._parseSelectableAggregatesOptions();\n               }\n\n               if (that._selectableAggregatesOptions.count) {\n                   that._cellAggregates = {\n                       count: 0\n                   };\n               }\n           },\n\n           _calculateAggregatesForSelected: function() {\n               var that = this,\n                   options = that.options,\n                   selectedData = that.getSelectedDataByKeys(),\n                   selectable = that.options.selectable,\n                   cellAggregates = selectable.cellAggregates,\n                   cellsLength = visibleLeafColumns(that.columns).filter(col => !col.selectable && !col.draggable & !col.command).length,\n                   columnFields = getColumnsFields(options.columns),\n                   isCellSelection = kendo.ui.Selectable.parseOptions(selectable).cell,\n                   dataItem,\n                   type,\n                   value,\n                   numberAggregates = [],\n                   dateAggregates = [],\n                   booleanAggregates = [],\n                   count, min, max, sum, average, earliest, latest, isTrue, isFalse;\n\n               if (!cellAggregates) {\n                   return;\n               }\n\n               // getSelectedDataByKeys won't work for cell selection.\n               if (isCellSelection) {\n                   selectedData = that.getSelectedData();\n               }\n\n               cellAggregates = that._selectableAggregatesOptions;\n\n               for (let i = 0; i < selectedData.length; i++) {\n                   dataItem = selectedData[i];\n\n                   for (let j = 0; j < columnFields.length; j++) {\n                       value = dataItem[columnFields[j]];\n                       type = getType(value);\n\n                       switch (type) {\n                           case \"number\":\n                               numberAggregates.push(value);\n                               break;\n                           case \"date\":\n                               dateAggregates.push(value);\n                               break;\n                           case \"boolean\":\n                               booleanAggregates.push(value);\n                               break;\n                           default:\n                               break;\n                       }\n                   }\n               }\n\n               if (cellAggregates.count) {\n                   count = isCellSelection ? cellsExcludingSpecialColumns(that.select()).length : selectedData.length * cellsLength;\n               }\n\n               if (numberAggregates.length) {\n                   max = cellAggregates.max ? numberAggregates.reduce((acc, current) => Math.max(acc, current)) : null;\n                   min = cellAggregates.min ? numberAggregates.reduce((acc, current) => Math.min(acc, current)) : null;\n                   sum = cellAggregates.sum ? numberAggregates.reduce((acc, current) => acc + current) : null;\n                   average = cellAggregates.average ? numberAggregates.reduce((acc, current) => (acc + current)) / numberAggregates.length : null;\n               }\n\n               if (dateAggregates.length) {\n                   earliest = cellAggregates.earliest ? dateAggregates.reduce((acc, current) => new Date(Math.min(acc, current))) : null;\n                   latest = cellAggregates.latest ? dateAggregates.reduce((acc, current) => new Date(Math.max(acc, current))) : null;\n               }\n\n               if (booleanAggregates.length) {\n                   isTrue = cellAggregates.isTrue ? booleanAggregates.filter(b => b === true).length : null;\n                   isFalse = cellAggregates.isFalse ? booleanAggregates.filter(b => b === false).length : null;\n               }\n\n               that._cellAggregates = {\n                   count: count,\n                   max: max,\n                   min: min,\n                   sum: sum,\n                   average: average,\n                   earliest: earliest,\n                   latest: latest,\n                   isTrue: isTrue,\n                   isFalse: isFalse\n               };\n\n               if (that.statusBar) {\n                   that._statusBar();\n               }\n           },\n\n           _parseSelectableAggregatesOptions: function() {\n               var that = this,\n                   cellAggregates = that.options.selectable.cellAggregates,\n                   result = {};\n\n               if (isArray(cellAggregates)) {\n                   for (let i = 0; i < cellAggregates.length; i++) {\n                       result[cellAggregates[i]] = true;\n                   }\n                   return result;\n               }\n\n               // If the value of cellAggregates is 'true' -> all aggregates must be enabled.\n               return {\n                   count: true,\n                   min: true,\n                   max: true,\n                   sum: true,\n                   average: true,\n                   earliest: true,\n                   latest: true,\n                   isTrue: true,\n                   isFalse: true\n               };\n           },\n\n           _toggleHeaderCheckState: function(checked) {\n               var that = this;\n               if (checked) {\n                   that.thead.add(that.lockedHeader).find(\"tr \" + CHECKBOXINPUT)\n                       .prop(\"checked\", true).attr(ARIA_CHECKED, true)\n                       .attr(ARIA_LABEL, \"Deselect all rows\");\n               } else {\n                   that.thead.add(that.lockedHeader).find(\"tr \" + CHECKBOXINPUT)\n                       .prop(\"checked\", false).attr(ARIA_CHECKED, false)\n                       .attr(ARIA_LABEL, \"Select all rows\");\n               }\n           },\n\n           _uncheckCheckBoxes: function() {\n               var that = this;\n               var tables = that.table.add(that.lockedTable);\n\n               tables.find(\"tbody \" + CHECKBOXINPUT).attr(ARIA_CHECKED, false)\n                   .prop(\"checked\", false).attr(ARIA_LABEL, \"Select row\");\n\n           },\n\n           _deselectCheckRows: function(items) {\n               var that = this,\n               rangeSelectedAttr = kendo.attr(\"range-selected\");\n               items = that.table.add(that.lockedTable).find(items);\n\n               if (that._isLocked()) {\n                   items = items.add(items.map(function() {\n                       return that._relatedRow(this);\n                   }));\n               }\n\n               items.each(function() {\n                   $(this).removeClass(SELECTED).removeAttr(rangeSelectedAttr).find(CHECKBOXINPUT).attr(ARIA_CHECKED, false)\n                       .prop(\"checked\", false).attr(ARIA_LABEL, \"Select row\");\n               });\n               that._toggleHeaderCheckState(false);\n\n               that._persistSelectedRows();\n\n           },\n\n           _checkRows: function(items) {\n               items.each(function() {\n                   $(this).addClass(SELECTED).find(CHECKBOXINPUT)\n                       .prop(\"checked\", true)\n                       .attr(ARIA_LABEL, \"Deselect row\")\n                       .attr(ARIA_CHECKED, true);\n               });\n           },\n\n           _persistSelectedRows: function() {\n               var that = this,\n                   key,\n                   dataItem,\n                   allRows = that.items(),\n                   dataSourceOptions = that.dataSource.options,\n                   schema = dataSourceOptions.schema,\n                   modelId,\n                   selectedViewIds = {};\n\n               if (!schema || !schema.model || !that._data) {\n                   return;\n               }\n\n               modelId = that._getSchemaIdField();\n\n               if (!modelId) {\n                   return;\n               }\n\n               if (!kendo.ui.Selectable.parseOptions(that.options.selectable).multiple && !that._checkBoxSelection) {\n                   that._selectedIds = {};\n               }\n\n               that.select().each(function() {\n                   dataItem = that.dataItem(this);\n                   selectedViewIds[dataItem[modelId]] = true;\n               });\n\n               for (var i = 0; i < allRows.length; i ++) {\n                   dataItem = that.dataItem(allRows[i]);\n                   key = dataItem[modelId];\n                   if (selectedViewIds[key]) {\n                       that._selectedIds[key] = true;\n                   } else {\n                       delete that._selectedIds[key];\n                   }\n               }\n           },\n\n           selectedKeyNames: function() {\n               var that = this,\n                   ids = [];\n               for (var property in that._selectedIds) {\n                   ids.push(property);\n               }\n               ids.sort();\n               return ids;\n           },\n\n           _updateCurrentAttr: function(current, next) {\n               var headerId = $(current).data(\"headerId\");\n               var nextId;\n               var descId;\n\n               $(current).removeClass(FOCUSED);\n               this.table.removeAttr(ARIA_ACTIVEDESCENDANT);\n\n               if (headerId) {\n                   headerId = headerId.replace(this._cellId, \"\");\n                   $(current).attr(ID, headerId);\n               } else {\n                   $(current).removeAttr(ID);\n               }\n\n               nextId = next.attr(ID);\n\n               if (nextId != this._cellId) {\n                   next.data(\"headerId\", nextId);\n               }\n\n               if (!!nextId) {\n                   descId = nextId;\n               } else {\n                   next.attr(ID, this._cellId);\n               }\n\n               next.addClass(FOCUSED);\n               this.table.attr(ARIA_ACTIVEDESCENDANT, descId || this._cellId);\n\n               this._current = next;\n           },\n\n           _scrollCurrent: function() {\n               const current = this._current;\n               const scrollable = this.options.scrollable;\n\n               if (!current || !scrollable) {\n                   return;\n               }\n\n               var row = current.parent();\n               var tableContainer = row.closest(\"table\").parent();\n\n               var isInLockedContainer = tableContainer.is(\".k-grid-content-locked,.k-grid-header-locked\");\n               var isInContent = tableContainer.is(\".k-grid-content-locked,.k-grid-content,.k-virtual-scrollable-wrap\");\n\n               var scrollableContainer = $(this.content).find(\">.k-virtual-scrollable-wrap\").addBack().last()[0];\n\n               //adjust scroll vertically\n               if (isInContent) {\n                   if (this.virtualScroll) {\n                       var rowIndex = Math.max(inArray(row[0], this._items(row.parent())), 0);\n                       if (this.virtualScroll.rows) {\n                           this._rowVirtualIndex = this.virtualScrollable.itemIndex(rowIndex);\n                           this.virtualScrollable.scrollIntoView(row);\n                       } else {\n                           this._rowVirtualIndex = rowIndex;\n                           this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                       }\n                   } else {\n                       this._scrollTo(this._relatedRow(row)[0], scrollableContainer);\n                   }\n               }\n\n               if (this.lockedContent) {\n                   //sync locked and non-locked content scrollTop\n                   this.lockedContent[0].scrollTop = scrollableContainer.scrollTop;\n               }\n\n               //adjust scroll horizontally, if not inside locked tables\n               if (!isInLockedContainer) {\n                   this._scrollTo(current[0], scrollableContainer);\n               }\n           },\n\n\n           _findGroupedItem: function(data, id, idField) {\n               const that = this;\n               let item;\n\n               for (let i = 0; i < data.length; i++) {\n                   const group = data[i];\n                   if (group.field === idField) {\n                       if (group.value === id) {\n                           if (group.items[0].uid && group.items[0][idField]) {\n                               item = group.items[0];\n                           } else {\n                               item = that._findGroupedItem(group.items, id, idField);\n                           }\n                       }\n                   } else if (group.items[0].uid && group.items[0][idField]) {\n                       item = group.items.find((item) => item[idField] === id);\n                   } else {\n                       item = that._findGroupedItem(group.items, id, idField);\n                   }\n\n                   if (item) {\n                       return item;\n                   }\n\n               }\n           },\n\n           _findClosestGroupingRow: function(htmlRow, rowsCount, hiddenGroupingRows) {\n               const that = this;\n               const hasGroupingRows = that.options.groupable && that.dataSource.group().length > 0;\n               let i = rowsCount ? rowsCount : 0;\n               let j = hiddenGroupingRows ? hiddenGroupingRows : 0;\n\n               if (!hasGroupingRows || !htmlRow) {\n                   return { targetRow: htmlRow, rowsToTarget: i, hiddenGroupingRows: j };\n               }\n\n               const prevSibling = $(htmlRow.previousSibling);\n               if (prevSibling && prevSibling.hasClass(GROUPING_ROW)) {\n                   let result = { targetRow: prevSibling, rowsToTarget: i, hiddenGroupingRows: j };\n                   if (prevSibling.css(\"display\") === \"none\") {\n                       result = that._findClosestGroupingRow(prevSibling[0], i, j + 1);\n                   }\n                   return result;\n               } else {\n                   const result = that._findClosestGroupingRow(prevSibling[0], i + 1, j);\n                   if ( result ) {\n                       return { targetRow: result.targetRow, rowsToTarget: result.rowsToTarget, hiddenGroupingRows: j };\n                   }\n               }\n           },\n\n           _checkItemAlreadyLoaded: function(id, idField) {\n               const that = this;\n               const dataSource = that.dataSource;\n               const ranges = dataSource._ranges;\n\n               let item;\n               for (let i = 0; i < ranges.length; i++) {\n                   const range = ranges[i].data;\n                   item = range.find((item) => item[idField] === id);\n\n                   if (item) {\n                       return { loadedItem: item, page: i };\n                   }\n               }\n\n               return;\n           },\n\n           scrollToItem: function(id, callback) {\n               const that = this;\n               const options = that.options;\n               const dataSource = that.dataSource;\n               const groups = dataSource.group();\n               const pageSize = dataSource.pageSize();\n               const idField = that._getSchemaIdField();\n               const scrollable = options.scrollable;\n               const scrollableContainer = that.wrapper.find(\".k-grid-content.k-auto-scrollable\");\n               const rowHeight = kendo._outerHeight(that.tbody.find(`tr:not(.${GROUPING_ROW})`));\n               let rootGroupingRow = options.groupable && that.wrapper.find(`.${GROUPING_ROW}:first-child`);\n               let previouslyScrolledItems = {};\n\n               if (that._scrolledItems) {\n                   previouslyScrolledItems = that._scrolledItems;\n               }\n\n               let groupingRowHeight = 0;\n               let targetRowIsHidden = false;\n\n               if (scrollable && scrollable.virtual && groups.length === 0) {\n                   that.virtualScrollable._alwaysScrollTop = true;\n               }\n\n               if (!id || !idField) {\n                   return;\n               }\n\n               const currentView = dataSource.view();\n\n               let item = currentView.find((item) => item[idField] == id);\n\n               if (groups.length > 0) {\n                   item = that._findGroupedItem(currentView, id, idField);\n                   groupingRowHeight = kendo._outerHeight(rootGroupingRow[0]);\n               }\n\n               if (!item && options.scrollable.virtual) {\n                   if (!that.virtualScrollable._programmaticallyScrolling || that.virtualScrollable._programmaticallyScrolling.state() === 'resolved') {\n                       that.virtualScrollable._programmaticallyScrolling = $.Deferred();\n                   }\n\n                   callback && typeof callback === 'function' && callback({\n                       success: (index) => {\n                           let itemIndex = index;\n                           itemIndex = typeof itemIndex !== 'number' ? Number(itemIndex) : itemIndex;\n\n                           if (isNaN(itemIndex)) {\n                               return;\n                           }\n\n                           const serverPaging = dataSource.options.serverPaging;\n                           let page = math.floor(itemIndex / pageSize);\n\n                           if (serverPaging) {\n                               const itemLoaded = that._checkItemAlreadyLoaded(id, idField);\n                               if (itemLoaded) {\n                                   page = itemLoaded.page;\n                               }\n                           }\n\n\n                           const allRows = scrollableContainer.find(TR);\n                           const lastRowOffsetTop = allRows[allRows.length - 1].offsetTop;\n                           const pageEndOffset = (pageSize / allRows.length) * lastRowOffsetTop;\n\n                           const itemsToTarget = (itemIndex - page * pageSize) - 1;\n\n                           const scrollPosition = page * pageEndOffset + itemsToTarget * rowHeight;\n\n                           that._scrollingUp = that.virtualScrollable.verticalScrollbar.scrollTop() > scrollPosition;\n                           that._scrollOffset = scrollPosition;\n                           that.virtualScrollable._scrollTo(scrollPosition);\n                           that.virtualScrollable.verticalScrollbar.trigger(SCROLL);\n\n                           return that.virtualScrollable._programmaticallyScrolling.done(() => {\n                               that.scrollToItem(id);\n                           });\n                       }\n                   });\n                   return;\n               }\n\n               const uid = item && item.uid;\n\n               if (!uid) {\n                   return;\n               }\n\n               const selector = `[data-uid=${uid}]`;\n               let element = $(selector);\n\n\n               let { targetRow, rowsToTarget, hiddenGroupingRows } = that._findClosestGroupingRow(element[0]);\n\n\n               if (!element || !targetRow) {\n                   return;\n               } else if (groups.length > 0 && element.css(\"display\") === \"none\") {\n                   element = targetRow;\n                   targetRowIsHidden = true;\n               }\n\n               const hiddenGroupingRowsOffset = targetRowIsHidden ? (hiddenGroupingRows * groupingRowHeight) + rowHeight : 0;\n               let wrapperPosition = element[0].offsetTop - (((rowsToTarget + groups.length) * groupingRowHeight) - hiddenGroupingRowsOffset);\n               let scrollPosition = wrapperPosition;\n\n               if (options.scrollable.virtual) {\n                   if (previouslyScrolledItems && previouslyScrolledItems[id]) {\n                       const scrollerPosition = Math.floor(that.virtualScrollable.verticalScrollbar.scrollTop());\n                       const prevScrollDown = Math.floor(previouslyScrolledItems[id].scrollingDownOffset);\n                       const prevScrollUp = Math.floor(previouslyScrolledItems[id].scrollingUpOffset);\n\n                       if (scrollerPosition === prevScrollUp || scrollerPosition === prevScrollDown) {\n                           return;\n                       }\n\n                       that._scrollingUp = scrollerPosition > scrollPosition;\n\n                       if (that._scrollingUp) {\n                           scrollPosition = prevScrollUp ?? scrollPosition;\n                       } else {\n                           scrollPosition = prevScrollDown ?? scrollPosition;\n                       }\n                   }\n\n                   if (that._scrollOffset) {\n                       if (!that._scrollingUp) {\n                           scrollPosition += that._scrollOffset;\n                       } else {\n                           if (that._scrollOffset === wrapperPosition) {\n                               that._scrollOffset += rowHeight;\n                           }\n                           scrollPosition = ((wrapperPosition - that.virtualScrollable._scrollTop) + that._scrollOffset);\n                       }\n                   }\n                   that.virtualScrollable._scrollTo(wrapperPosition, scrollPosition);\n\n                   if (!previouslyScrolledItems[id]) {\n                       previouslyScrolledItems[id] = {};\n                   }\n\n                   if (that._scrollingUp) {\n                       if (previouslyScrolledItems[id] && !previouslyScrolledItems[id].scrollingUpOffset) {\n                           previouslyScrolledItems[id].scrollingUpOffset = scrollPosition;\n                       }\n                   } else {\n                       if (previouslyScrolledItems[id] && !previouslyScrolledItems[id].scrollingDownOffset) {\n                           previouslyScrolledItems[id].scrollingDownOffset = scrollPosition;\n                       }\n                   }\n               } else {\n                   scrollableContainer.scrollTop(scrollPosition);\n               }\n\n               if (that.virtualScrollable) {\n                   if (that._scrollOffset) {\n                       delete that._scrollOffset;\n                   }\n                   if (that._scrollingUp) {\n                       delete that._scrollingUp;\n                   }\n               }\n\n               that._scrolledItems = previouslyScrolledItems;\n           },\n\n           current: function(next) {\n               return this._setCurrent(next, true);\n           },\n\n           _setCurrent: function(next, preventTrigger, preventScroll) {\n               var current = this._current;\n\n               next = $(next);\n\n               if (current && next && current.length && next.length && current.closest(\".k-filter-row\").length > 0 && next.closest(\".k-filter-row\").length === 0) {\n                   this._filterFocusable().attr(TABINDEX, -1);\n               }\n\n               if (next.length) {\n                   if (!current || current[0] !== next[0]) {\n                       var parent = next.parent();\n                       var siblings = parent.children(DATA_CELL);\n                       var colspan = parseInt(parent.children().first().attr(\"colspan\"), 10);\n\n                       if (this._hasVirtualColumns()) {\n                           this._virtualCellIndex = (colspan > 1 ? colspan : 0) + siblings.index(next);\n                       }\n                       this._updateCurrentAttr(current, next);\n\n                       if (!preventScroll) {\n                           this._scrollCurrent();\n                       }\n\n                       if (!preventTrigger) {\n                           this.trigger(NAVIGATE, {\n                               element: next\n                           });\n                       }\n                   }\n               }\n\n               if (next && next.length) {\n                   this._lastCellIndex = next.parent().children(\".k-group-cell,\" + DATA_CELL_HIDDENINCLUDED).index(next);\n               }\n\n               this._updateSelctCheckbox(current, next);\n\n               return this._current;\n           },\n\n           _removeCurrent: function() {\n               if (this._current) {\n                   this._current.removeClass(FOCUSED);\n                   this._current = null;\n               }\n           },\n\n           _updateSelctCheckbox: function(current, next) {\n               var nextCheckbox;\n\n               if (next && next.length) {\n                   nextCheckbox = next.find(\".k-select-checkbox\");\n\n                   if (nextCheckbox.length > 0) {\n                       nextCheckbox.trigger(\"focus\");\n                   } else if (current && current.find(\".k-select-checkbox\").length > 0) {\n                       focusTable(this.table, true);\n                   }\n               }\n           },\n\n           _scrollTo: function(element, container) {\n               var elementToLowercase = element.tagName.toLowerCase();\n               var isHorizontal = elementToLowercase === \"td\" || elementToLowercase === \"th\";\n               var table = $(element).closest(\"table\")[0];\n               var elementOffsetDir = element[isHorizontal ? \"offsetWidth\" : \"offsetHeight\"];\n               var containerScroll = container[isHorizontal ? \"scrollLeft\" : \"scrollTop\"];\n               var containerOffsetDir = container[isHorizontal ? \"clientWidth\" : \"clientHeight\"];\n               var elementOffset = $(element).css(\"position\") === \"relative\" && isRtl && isHorizontal ? Math.abs(table.offsetLeft - element.offsetLeft) : element[isHorizontal ? \"offsetLeft\" : \"offsetTop\"];\n               var bottomDistance = elementOffset + elementOffsetDir;\n               var result = 0;\n               var ieCorrection = 0;\n               var firefoxCorrection = 0;\n\n               if (isRtl && isHorizontal) {\n                   if (browser.msie || browser.edge) {\n                       ieCorrection = table.offsetLeft;\n                   } else if (browser.mozilla || (browser.webkit && (browser.version > 85))) {\n                       firefoxCorrection = table.offsetLeft - kendo.support.scrollbar();\n                   }\n               }\n\n               containerScroll = Math.abs(containerScroll + ieCorrection - firefoxCorrection);\n\n               if (containerScroll > elementOffset) {\n                   result = elementOffset;\n               } else if (bottomDistance > (containerScroll + containerOffsetDir)) {\n                   if (elementOffsetDir <= containerOffsetDir) {\n                       result = (bottomDistance - containerOffsetDir);\n                   } else {\n                       result = elementOffset;\n                   }\n               } else {\n                   result = containerScroll;\n               }\n\n               result = Math.abs(result + ieCorrection) + firefoxCorrection;\n\n               container[isHorizontal ? \"scrollLeft\" : \"scrollTop\"] = result;\n           },\n\n           _navigatable: function() {\n               var that = this;\n\n               if (!that.options.navigatable) {\n                   return;\n               }\n\n               //data tables - locked and non-locked\n               var dataTables = that.table.add(that.lockedTable);\n               //header tables - locked and non-locked\n               var headerTables = that.thead.parent().add($(\">table\", that.lockedHeader));\n\n               //the over wich keys will be handled\n               var tables = dataTables;\n\n               if (that.options.scrollable) {\n                   //add the header table when the widget is scrollable\n                   tables = tables.add(headerTables);\n               }\n\n               this._navigatableTables = tables;\n               this._headertables = headerTables;\n\n               //dettach all previous events\n               tables.off(MOUSEDOWN + NS + \" focus\" + NS + \" focusout\" + NS + \" keydown\" + NS);\n\n               headerTables\n                   .find(\"a.k-link\").attr(\"tabIndex\", -1);\n\n               //prevent propagation when clicked inside detail grid\n               dataTables\n                   .on(\"keydown\" + NS, \".k-detail-cell\", function(e) {\n                       if (e.target !== e.currentTarget) {\n                           e.stopImmediatePropagation();\n                       }\n                   });\n\n               tables\n                   //handle click on tables, will attempt to focus the table\n                   .on((kendo.support.touch ? \"touchstart\" + NS : MOUSEDOWN + NS), NAVROW + \">\" + NAVCELL, tableClick.bind(that))\n                   .on(\"focus\" + NS, that._tableFocus.bind(that))\n                   .on(\"focusout\" + NS, that._tableBlur.bind(that))\n                   .on(\"keydown\" + NS, that, that._tableKeyDown.bind(that));\n\n               that._filterFocusable().on(\"focus\", that._filterFocus.bind(that));\n           },\n\n           _filterFocus: function(e) {\n               var header = e.target.closest(\"th\");\n\n               this._filterFocusable().attr(TABINDEX, 0);\n               this._setCurrent(header);\n               $(header).removeClass(FOCUSED);\n           },\n\n           _tableFocus: function() {\n               var current = this.current();\n               var table = this.lockedTable ? this.lockedTable : this.table;\n\n               //if there is already current, highlighted it\n               //otherwise highlight the first possible cell\n               if (current && current.is(\":visible\")) {\n                   current.addClass(FOCUSED);\n               } else {\n                   if (this._virtualColScroll) {\n                       this._setCurrent(table.find(NAVROW).first().children(NAVCELL).first(), true, true);\n                   } else {\n                       this._setCurrent(table.find(NAVROW).first().children(NAVCELL).first());\n                   }\n               }\n\n               this.table.attr(TABINDEX, 0);\n           },\n\n           _tableBlur: function() {\n               var current = this.current();\n\n               if (current) {\n                   current.removeClass(FOCUSED);\n               }\n           },\n\n           _findCellIndex: function(columns, startIndex, reversed) {\n               var cellIndex;\n               var i;\n\n               if (reversed) {\n                   for (i = startIndex; i >= 0; i--) {\n                       cellIndex = i;\n                       if (!columns[i].hidden) {\n                           break;\n                       }\n                   }\n               } else {\n                   for (i = startIndex; i < columns.length; i++) {\n                       cellIndex = i;\n                       if (!columns[i].hidden) {\n                           break;\n                       }\n                   }\n               }\n\n               return cellIndex;\n           },\n\n           _scrollToColumn: function(key, e) {\n               if (this._virtualCellIndex === undefined$1) {\n                   return false;\n               }\n\n               var that = this;\n               var cellIndex = that._virtualCellIndex;\n               var leafsCols = leafColumns(nonLockedColumns(that.columns));\n               var scrollWidth = 0;\n\n               if (key == (isRtl ? keys.LEFT : keys.RIGHT) && (cellIndex !== leafsCols.length - 1)) {\n                   cellIndex = that._findCellIndex(leafsCols, cellIndex + 1);\n               } else if (key == (isRtl ? keys.RIGHT : keys.LEFT) && cellIndex) {\n                   cellIndex = that._findCellIndex(leafsCols,cellIndex - 1, true);\n               } else if (key == keys.HOME) {\n                   cellIndex = that._findCellIndex(leafsCols, 0);\n               } else if (key == keys.END) {\n                   cellIndex = that._findCellIndex(leafsCols, leafsCols.length - 1, true);\n               }\n\n               for (var i = 0; i < cellIndex; i++) {\n                   scrollWidth += leafsCols[i].width;\n               }\n\n               that._virtualCellIndex = cellIndex;\n               if (e) {\n                   e.preventDefault();\n                   e.stopPropagation();\n               }\n               kendo.scrollLeft(that.content, scrollWidth);\n               return true;\n           },\n\n           _tableKeyDown: function(e) {\n               let current = this.current(),\n                   currentTable = current && current.closest(DOT + \"k-grid-table\")[0],\n                   virtualScroll = this.virtualScroll || {},\n                   requestInProgress = this.virtualScrollable && this.virtualScrollable.fetching(),\n                   target = $(e.target),\n                   canHandle = !e.isDefaultPrevented() && !target.is(\":button,a,:input:not(.k-select-checkbox),a>.k-icon,a>.k-svg-icon\");\n\n               if (e.altKey && e.keyCode == keys.DOWN) {\n                   this.current().find(\".k-grid-filter-menu, .k-grid-column-menu\").click();\n                   e.stopImmediatePropagation();\n                   return;\n               }\n\n               // do not handle key down if request in progress\n               // or there isn't current set\n               if (requestInProgress) {\n                   // swallow key events while in progress\n                   e.preventDefault();\n                   return;\n               }\n\n               if (virtualScroll.columns && (!current || !document.body.contains(current[0])) && (this._scrollToColumn(e.keyCode, e))) {\n                   return;\n               }\n\n               if (!current) {\n                   current = $(this.lockedTable).add(this.options.scrollable ? this.table : this.tbody).find(NAVROW).first().children(NAVCELL).first();\n               }\n\n               if (!current.length) {\n                   return;\n               }\n\n               var handled = false;\n\n               if (!e.isDefaultPrevented() && e.keyCode === keys.F10) {\n                   handled = this._focusToolbar();\n               }\n\n               if (canHandle && e.keyCode == keys.UP) {\n                   handled = this._moveUp(current, e.shiftKey, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == keys.DOWN) {\n                   handled = this._moveDown(current, e.shiftKey, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == (isRtl ? keys.LEFT : keys.RIGHT)) {\n                   handled = this._moveRight(current, e.altKey, e.shiftKey, e.ctrlKey, currentTable);\n               }\n\n               if (canHandle && e.keyCode == (isRtl ? keys.RIGHT : keys.LEFT)) {\n                   handled = this._moveLeft(current, e.altKey, e.shiftKey, e.ctrlKey, currentTable);\n               }\n\n               if (canHandle && e.keyCode == keys.PAGEDOWN) {\n                   handled = this._handlePageDown();\n               }\n\n               if (canHandle && e.keyCode == keys.PAGEUP) {\n                   handled = this._handlePageUp();\n               }\n\n               if (canHandle && e.keyCode == keys.HOME) {\n                   handled = this._handleHome(current, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == keys.END) {\n                   handled = this._handleEnd(current, e.ctrlKey);\n               }\n\n               if (canHandle && e.keyCode == keys.SPACEBAR) {\n                   handled = this._handleSpaceKey(current, e.ctrlKey);\n               }\n\n               if (e.keyCode == keys.ENTER || e.keyCode == keys.F2) {\n                   handled = this._handleEnterKey(current, currentTable, target);\n               }\n\n               if (e.keyCode == keys.ESC) {\n                   handled = this._handleEscKey(current, currentTable);\n               }\n\n               if (e.keyCode == keys.TAB) {\n                   handled = this._handleTabKey(current, currentTable, e.shiftKey, target);\n               }\n\n               if (handled) {\n                   //prevent scrolling while pressing the keys\n                   e.preventDefault();\n                   //required in hierarchy\n                   e.stopPropagation();\n               }\n           },\n\n           _focusToolbar: function() {\n               var focusable = this.wrapper.find(\".k-grid-toolbar [tabindex=0]\");\n\n               if (focusable.length > 0) {\n                   focusable.first().addClass(\".k-focus\").trigger(\"focus\");\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _moveLeft: function(current, altKey, shiftKey, ctrlKey, currentTable) {\n               var next, index;\n               var row = current.parent();\n               //thead or tbody\n               var container = row.parent();\n\n               if (altKey) {\n                   if (row.hasClass(GROUPING_ROW)) {\n                       this.collapseGroup(row);\n                   } else {\n                       this.collapseRow(row);\n                   }\n               } else if (ctrlKey && current.is(DOT + HEADER_CLASS) && this.options.reorderable) {\n                  this._moveColumn(current, true);\n               } else {\n                   index = container.find(NAVROW).index(row);\n                   next = this._prevHorizontalCell(container, current, index);\n\n                   if (!next[0]) {\n                       if (shiftKey) {\n                           if (this.lockedTable) {\n                               next = this._relatedRow(row);\n                               if ($.contains(this.lockedTable[0], row[0])) {\n                                   next = next.prevAll(ITEMROW).first();\n                               }\n                               next = next.children(DATA_CELL).last();\n                           } else {\n                               next = this._tabNext(current, currentTable, true);\n                           }\n                       } else {\n                           container = this._horizontalContainer(container);\n\n                           next = this._prevHorizontalCell(container, current, index);\n\n                           if (next[0] !== current[0]) {\n                               focusTable(this.table, true);\n                           }\n                       }\n                   }\n\n                   this._setCurrent(next);\n               }\n\n               return true;\n           },\n\n           _moveRight: function(current, altKey, shiftKey, ctrlKey, currentTable) {\n               var next, index;\n               var row = current.parent();\n               //thead or tbody\n               var container = row.parent();\n\n               if (altKey) {\n                   if (row.hasClass(GROUPING_ROW)) {\n                       this.expandGroup(row);\n                   } else {\n                       this.expandRow(row);\n                   }\n                } else if (ctrlKey && current.is(DOT + HEADER_CLASS) && this.options.reorderable) {\n                   this._moveColumn(current, false);\n               } else {\n                   index = container.find(NAVROW).index(row);\n                   next = this._nextHorizontalCell(container, current, index);\n\n                   if (!next[0]) {\n                       if (shiftKey) {\n                          if (this.lockedTable) {\n                               next = this._relatedRow(row);\n                               if ($.contains(this.table[0], row[0])) {\n                                   next = next.nextAll(ITEMROW).first();\n                               }\n                               next = next.children(DATA_CELL).first();\n                           } else {\n                               next = this._tabNext(current, currentTable, false);\n                           }\n                       } else {\n                           container = this._horizontalContainer(container, true);\n\n                           next = this._nextHorizontalCell(container, current, index);\n\n                           if (next[0] !== current[0]) {\n                               focusTable(this.table, true);\n                           }\n                       }\n                   }\n\n                   this._setCurrent(next);\n               }\n\n               return true;\n           },\n\n           _moveUp: function(current, shiftKey, ctrlKey) {\n               //thead or tbody\n               var container = current.parent().parent();\n               var next, cellIndex, index, oldIndex;\n\n               if (shiftKey) {\n                  next = current.parent();\n                  next = next.prevAll(ITEMROW).first();\n                  next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL).last();\n               } else if (ctrlKey && current.parent().is(ITEMROW) && this._hasReorderableRows()) {\n                   cellIndex = current.index();\n                   next = current.parent();\n                   next = next.prevAll(ITEMROW).first();\n                   index = this.tbody.children(ITEMROW).index(next);\n                   oldIndex = this.tbody.children(ITEMROW).index(current.parent());\n\n                   if (index >= 0 && !this.trigger(ROWREORDER, { oldIndex: oldIndex, newIndex: index, row: current.parent() })) {\n                       this.reorderRows(current.parent(), index);\n                       next = this.tbody.children(ITEMROW).eq(index).children().eq(cellIndex);\n                   }\n               } else {\n                  next = this._prevVerticalCell(container, current);\n                  if (!next[0]) {\n                     this._lastCellIndex = 0;\n                     container = this._verticalContainer(container, true);\n\n                     next = this._prevVerticalCell(container, current);\n\n                     if (next.is(\":hidden\")) {\n                       next = next.nextAll().not(\":hidden\").first();\n                     }\n\n                     if (next[0]) {\n                         focusTable(this.table, true);\n                     }\n                  }\n               }\n\n               var tmp = this._lastCellIndex || 0;\n               this._setCurrent(next);\n               this._lastCellIndex = tmp;\n\n               return true;\n           },\n\n           _moveDown: function(current, shiftKey, ctrlKey) {\n               //thead or tbody\n               var container = current.parent().parent();\n               var next, cellIndex, index, oldIndex;\n\n               if (shiftKey) {\n                   next = current.parent();\n                   next = next.nextAll(ITEMROW).first();\n                   next = current.parent().is(ITEMROW) ? next.children().eq(current.index()) : next.children(DATA_CELL).first();\n               } else if (ctrlKey && current.parent().is(ITEMROW) && this._hasReorderableRows()) {\n                   cellIndex = current.index();\n                   next = current.parent();\n                   next = next.nextAll(ITEMROW).first();\n                   index = this.tbody.children(ITEMROW).index(next);\n                   oldIndex = this.tbody.children(ITEMROW).index(current.parent());\n\n                   if (index >= 0 && !this.trigger(ROWREORDER, { oldIndex: oldIndex, newIndex: index, row: current.parent() })) {\n                       this.reorderRows(current.parent(), index + 1);\n                       next = this.tbody.children(ITEMROW).eq(index).children().eq(cellIndex);\n                   }\n               } else {\n                   next = this._nextVerticalCell(container, current);\n                   if (!next[0]) {\n                       this._lastCellIndex = 0;\n                       container = this._verticalContainer(container);\n\n                       next = this._nextVerticalCell(container, current);\n                       if (next[0]) {\n                           focusTable(this.table, true);\n                       }\n                   }\n               }\n               var tmp = this._lastCellIndex || 0;\n               this._setCurrent(this._findVisibleCell(next));\n               this._lastCellIndex = tmp;\n               return true;\n           },\n\n           _moveColumn: function(current, isLeft) {\n               var elements = this.wrapper.data().kendoReorderable.element.find(this._draggableInstance.options.filter + \":visible\");\n\n               var columns = visibleColumns(flatColumnsInDomOrder(this.columns));\n               var oldIndex = elements.index($(current));\n               var offset = isLeft ? - 1 : 1;\n               var column = columns[oldIndex];\n               var newIndex = targetParentContainerIndex(columns, this.columns, oldIndex, oldIndex + offset);\n               if (newIndex >= 0) {\n                   this.reorderColumn(newIndex, column, isLeft);\n                   this.trigger(COLUMNREORDER, {\n                       newIndex: newIndex,\n                       oldIndex: oldIndex,\n                       column: column\n                   });\n               }\n           },\n\n           _handleHome: function(current, ctrl) {\n               var row = current.parent();\n               var rowContainer = row.parent();\n               var isInLockedTable = this.lockedTable && this.lockedTable.children(\"tbody\")[0] === rowContainer[0];\n               var isInBody = rowContainer[0] === this.tbody[0];\n               var prev;\n\n               if (this._hasVirtualColumns()) {\n                   this._scrollToColumn(keys.HOME);\n                   return true;\n               }\n\n               if (ctrl) {\n                   if (this.lockedTable) {\n                       prev = this.lockedTable.find(ITEMROW).first().children(NAVCELL).first();\n                   } else {\n                       prev = this.table.find(ITEMROW).first().children(NAVCELL).first();\n                   }\n               } else if (isInBody || isInLockedTable) {\n                   if (isInBody && this.lockedTable) {\n                       row = this._relatedRow(row);\n                   }\n                   prev = row.children(DATA_CELL).first();\n               }\n\n               if (prev && prev.length) {\n                   this._setCurrent(prev);\n                   return true;\n               }\n           },\n\n           _handleEnd: function(current, ctrl) {\n               var row = current.parent();\n               var rowContainer = row.parent();\n               var isInLockedTable = this.lockedTable && this.lockedTable.children(\"tbody\")[0] === rowContainer[0];\n               var isInBody = rowContainer[0] === this.tbody[0];\n               var next;\n\n               if (this._hasVirtualColumns()) {\n                   this._scrollToColumn(keys.END);\n                   return true;\n               }\n\n               if (ctrl) {\n                   next = this.table.find(ITEMROW).last().children(NAVCELL).last();\n               } else if (isInBody || isInLockedTable) {\n                   if (!isInBody && this.lockedTable) {\n                       row = this._relatedRow(row);\n                   }\n                   next = row.children(DATA_CELL).last();\n               }\n\n               if (next && next.length) {\n                   this._setCurrent(next);\n                   return true;\n               }\n           },\n\n           _handlePageDown: function() {\n               if (!this.options.pageable) {\n                   return false;\n               }\n\n               this.dataSource.page(this.dataSource.page() + 1);\n\n               return true;\n           },\n\n           _handlePageUp: function() {\n               if (!this.options.pageable) {\n                   return false;\n               }\n\n               this.dataSource.page(this.dataSource.page() - 1);\n\n               return true;\n           },\n\n           _handleTabKey: function(current, currentTable, shiftKey, target) {\n               var isInCell = this.options.editable && this._editMode() == \"incell\";\n               var cell, filterFocusable;\n\n               if (!isInCell ||\n                   current.is(\"th\") ||\n                   (this.options.scrollable ? this._headertables.filter(currentTable).length : this.thead.filter(target).length)) {\n                       if (current.parent().hasClass(\"k-filter-row\")) {\n                           filterFocusable = this._filterFocusable();\n\n                           if (!shiftKey && filterFocusable[filterFocusable.length - 1] === document.activeElement) {\n                               filterFocusable.first().trigger(\"focus\");\n\n                               return true;\n                           } else if (shiftKey && filterFocusable[0] === document.activeElement) {\n                               filterFocusable.last().trigger(\"focus\");\n\n                               return true;\n                           }\n                       }\n\n                       return false;\n               }\n\n               cell = $(activeElement()).closest(\".k-edit-cell\");\n\n               if (cell[0] && cell[0] !== current[0]) {\n                   current = cell;\n               }\n\n               cell = this._tabNext(current, currentTable, shiftKey);\n\n               if (cell[0] === current[0]) {\n                   return false;\n               }\n\n               if (cell.length) {\n                   this._handleEditing(current, cell, cell.closest(\"table\"));\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _handleEscKey: function(current) {\n               var active = activeElement();\n               var isInCell = this._editMode() == \"incell\";\n\n               if (!isInEdit(current)) {\n                   if (current.has(active).length) {\n                       // return focus back to the table\n                       focusTable(this.table, true);\n\n                       return true;\n                   }\n\n                   if (current.parent().hasClass(\"k-filter-row\")) {\n                       this._filterFocusable().attr(TABINDEX, -1);\n                       focusTable(this.table, true);\n\n                       return true;\n                   }\n\n                   return false;\n               }\n\n               if (isInCell) {\n                   this.closeCell(true);\n               } else {\n                   var currentIndex = $(current).parent().index();\n                   if (active) {\n                       active.blur();\n                   }\n                   this.cancelRow(true);\n                   if (currentIndex >= 0) {\n                       this._setCurrent(this.items().eq(currentIndex).children(NAVCELL).first());\n                   }\n               }\n\n               focusTable(this.table, true);\n\n               return true;\n           },\n\n           _toggleCurrent: function(current, editable, hasDetails) {\n               var row = current.parent();\n\n               if (current.is(\".k-command-cell\")) {\n                   return false;\n               }\n\n               if (row.is(\".k-filter-row\")) {\n                   return false;\n               }\n\n               if (row.is(DOT + GROUPING_ROW)) {\n                   row.find(\".k-icon,.k-svg-icon\").first().click();\n\n                   return true;\n               }\n\n               if (!editable && hasDetails) {\n                   row.find(\".k-icon,.k-svg-icon\").first().click();\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _handleSpaceKey: function(current, ctrlKey) {\n               var that = this;\n\n               if (!ctrlKey || !that.groupable || !current.hasClass(HEADER_CLASS)) {\n                   return;\n               }\n\n               var descriptors = that.groupable.descriptors();\n               var field = current.attr(kendo.attr(\"field\"));\n               var aggregates = that.groupable.aggregates();\n\n               if (that.groupable._canDrag(current)) {\n                   descriptors.push({\n                       field: field,\n                       dir: \"asc\",\n                       aggregates: aggregates || []\n                   });\n               } else {\n                   descriptors = $.grep(descriptors, function(item)\n                   {\n                       return item.field !== field;\n                   });\n               }\n\n               that.dataSource.group(descriptors);\n\n               return true;\n           },\n\n           _handleEnterKey: function(current, currentTable, target) {\n               var editable = this.options.editable && this.options.editable.update !== false;\n               var container = target.closest(\"td\");\n               var hasDetails = this._hasDetails();\n               var link, filterFocusable;\n\n               if (!target.is(\"table\") && !$.contains(current[0], target[0])) {\n                   current = container;\n               }\n\n               if (current.is(\"th\")) {\n                   // sort the column, if possible\n                   link = current.find(\".k-link\");\n\n                   if (current.has($(activeElement())).length > 0) {\n                       return false;\n                   } else if (link.length) {\n                       link.click();\n                   } else if (current.parent().hasClass(\"k-filter-row\")) {\n                       filterFocusable = this._filterFocusable();\n                       filterFocusable.attr(TABINDEX, 0);\n                       current.find(\":kendoFocusable\").first().trigger(\"focus\");\n                   } else {\n                       current.find(CHECKBOXINPUT).trigger(\"focus\");\n                   }\n\n                   return true;\n               }\n               if (this._toggleCurrent(current, editable, hasDetails)) {\n                   return true;\n               }\n\n               var focusable = current.find(\":kendoFocusable\").first();\n               if (focusable[0] && !current.hasClass(\"k-edit-cell\") && current.hasClass(\"k-focus\")) {\n                   focusable.trigger(\"focus\");\n\n                   return true;\n               }\n\n               if (editable && !target.is(\":button,.k-button,textarea\")) {\n                   if (!container[0]) {\n                       container = current;\n                   }\n\n                   this._handleEditing(container, false, currentTable);\n\n                   return true;\n               }\n\n               return false;\n           },\n\n           _nextHorizontalCell: function(table, current, originalIndex) {\n               var cells = current.nextAll(DATA_CELL);\n\n               if (!cells.length) {\n                   var rows = table.find(NAVROW);\n                   var rowIndex = rows.index(current.parent());\n\n                   //no sibling cells are found and we've changed the table\n                   if (rowIndex == -1) {\n                       if (current.hasClass(HEADER_CLASS)) {\n                           var headerRows = [];\n                           mapColumnToCellRows([lockedColumns(this.columns)[0]], childColumnsCells(rows.eq(0).children(\":visible\").first()), headerRows, 0, 0);\n\n                           if (headerRows[originalIndex]) {\n                               return headerRows[originalIndex][0];\n                           }\n\n                           return current;\n                       }\n\n                       //current is in filter row\n                       if (current.parent().hasClass(\"k-filter-row\")) {\n                           return rows.last().children(DATA_CELL).first();\n                       }\n\n                       //get the same row index in the new table\n                       return this._findVisibleCell(rows.eq(originalIndex).children(DATA_CELL_HIDDENINCLUDED).first());\n                   }\n               }\n\n               return this._findVisibleCell(current.nextAll(DATA_CELL + \",[hidden]\").eq(0));\n           },\n\n           _prevHorizontalCell: function(table, current, originalIndex) {\n               var cells = current.prevAll(DATA_CELL);\n\n               if (!cells.length) {\n                   var rows = table.find(NAVROW);\n                   var rowIndex = rows.index(current.parent());\n\n                   //no sibling cells are found and we've changed the table\n                   if (rowIndex == -1) {\n                       if (current.hasClass(HEADER_CLASS)) {\n                           var headerRows = [];\n                           var columns = lockedColumns(this.columns);\n                           mapColumnToCellRows([columns[columns.length - 1]], childColumnsCells(rows.eq(0).children().last()), headerRows, 0, 0);\n\n                           if (headerRows[originalIndex]) {\n                               return headerRows[originalIndex][0];\n                           }\n\n                           return current;\n                       }\n\n                       //current is in filter row\n                       if (current.parent().hasClass(\"k-filter-row\")) {\n                           return rows.last().children(DATA_CELL).last();\n                       }\n\n                       //get the same row index in the new table\n                       return rows.eq(originalIndex).children(DATA_CELL).last();\n                   }\n               }\n\n               cells = current.prevAll(DATA_CELL + \",[hidden]\");\n               let cellToFocus = this._findVisibleCell(cells.first());\n               if (cellToFocus.is(\".k-group-cell\")) {\n                   return cellToFocus.next(DATA_CELL);\n               }\n\n               return cellToFocus;\n           },\n\n           _currentDataIndex: function(table, current) {\n               var index = current.attr(\"data-index\");\n\n               if (!index) {\n                   return undefined$1;\n               }\n\n               var lockedColumnsCount = lockedColumns(this.columns).length;\n               if (lockedColumnsCount && !table.closest(DIV).hasClass(\"k-grid-content-locked\")[0]) {\n                   return index - lockedColumnsCount;\n               }\n\n               return index;\n           },\n\n           _findVisibleCell: function($cell) {\n               var col = $cell.index();\n               var row = $cell.closest('tr').index();\n               var $newFocus;\n\n               if ($cell.is('[hidden]')) {\n                   $newFocus = $cell.prevAll(':not([hidden])').first();\n                   var hiddenCount = $cell.prevUntil(':not([hidden])', '[hidden]').length;\n                   if (!$newFocus.attr('colspan') || ($newFocus.attr('colspan') > 1 && $newFocus.attr('colspan') <= hiddenCount + 1)) {\n                       $newFocus = $cell.prevAll('[hidden]').last();\n                       if ($newFocus.length === 0) {\n                           return $cell.closest('tr').prevAll().find(`td:nth-of-type(${col + 1}):visible`).last();\n                       }\n\n                       while (!$newFocus.attr('rowspan') && !($newFocus.attr('rowspan') > 1 && $newFocus.attr('rowspan') != row - $newFocus.closest('tr').index()) && Math.abs($newFocus.index() - col) != $newFocus.attr('colspan')) {\n                           $newFocus = $newFocus.closest('tr').prevAll().find('td, th').eq(col).first();\n                           if ($newFocus.length === 0) {\n                               $newFocus = $cell;\n                               break;\n                           }\n                       }\n                   }\n               } else {\n                   $newFocus = $cell;\n               }\n\n               return $newFocus;\n           },\n\n           _prevVerticalCell: function(container, current) {\n               var cells;\n               var row = current.parent();\n               var rows = container.children(NAVROW);\n               var rowIndex = rows.index(row);\n               //get data-index in case of last level of multi-level columns\n               var index = this._currentDataIndex(container, current);\n\n               //current is in the header, but not at the last level of multi-level columns\n               if (index || current.hasClass(HEADER_CLASS)) {\n                   cells = parentColumnsCells(current);\n                   return cells.eq(cells.length - 2);\n               }\n\n               //check this out\n               index = Math.max(row.children(DATA_CELL_HIDDENINCLUDED).index(current), this._lastCellIndex || 0);\n\n               //if current is inside filter row\n               if (row.hasClass(\"k-filter-row\")) {\n                   let offset = rows.last().children(\".k-group-cell\").length;\n\n                   return leafDataCells(container).filter(isCellVisible).eq(Math.max(0, index - offset));\n               }\n\n               //move up to header container\n               if (rowIndex == -1) {\n                   if (this._hasVirtualColumns()) {\n                       index = this._virtualCellIndex;\n                   }\n                   //is there filter row in the header container\n                   row = container.find(\"tr.k-filter-row:visible\");\n                   if (!row[0]) {\n                       // in hierarchical grid we need to correct the index\n                       // since the k-hierarchy cell is navigatable\n                       if ((this._hasDetails() || current.parent().find('.k-hierarchy-cell').length) && index) {\n                           index--;\n                       }\n\n                       let offset = 0;\n                       if (current.parent().is(\".k-table-group-row\")) {\n                           offset = rows.last().children(\".k-group-cell\").length;\n                       }\n\n                       return leafDataCells(container).eq(Math.max(0, index - offset));\n                   } else {\n                       if (this._hasDetails()) {\n                           index--;\n                       }\n                   }\n               } else {\n                   row = rowIndex === 0 ? $() : rows.eq(rowIndex - 1);\n               }\n\n               cells = row.children(DATA_CELL_HIDDENINCLUDED);\n               if (cells.length > index) {\n                   let nextCell = cells.eq(index);\n                   if (nextCell.is(\".k-group-cell\")) {\n                       nextCell = nextCell.nextAll(\"td\").not(\".k-group-cell\").not(\":hidden\").first();\n                   }\n\n                   return this._findVisibleCell(nextCell);\n               }\n\n               return cells.eq(0);\n           },\n\n           _nextVerticalCell: function(container, current) {\n               var cells;\n               var originalRow;\n               var row = originalRow = current.parent();\n               var rows = container.children(NAVROW);\n               var rowIndex = rows.index(row);\n               //get data-index in case of last level of multi-level columns\n               var index = this._currentDataIndex(container, current);\n               var virtualScroll = this.virtualScroll || {};\n               var colspan;\n               //current is in the header, but not at the last level of multi-level columns\n               //and we are not changing the table\n               if (rowIndex != -1 && index === undefined$1 && current.hasClass(HEADER_CLASS)) {\n                   return childColumnsCells(current).eq(1);\n               }\n\n               index = index ? parseInt(index, 10) : row.children(DATA_CELL_HIDDENINCLUDED).index(current);\n               index = Math.max(index, this._lastCellIndex || 0);\n\n               //move down to data container\n               if (rowIndex == -1) {\n                   row = rows.eq(0);\n                   if (virtualScroll.columns) {\n                       colspan = parseInt(row.children().first().attr(\"colspan\"), 10);\n                       index = this._virtualCellIndex - (colspan > 1 ? colspan : 0);\n                   }\n                   // in hierarchical grid we need to correct the index\n                   // since the k-hierarchy cell is navigatable\n                   if (this._hasDetails() || row.find('.k-hierarchy-cell').length) {\n                       index++;\n                   }\n\n                   if (row.hasClass(\"k-table-group-row\")) {\n                       index += originalRow.children(\".k-group-cell\").length;\n                   }\n               } else {\n                   row = rows.eq(rowIndex + current[0].rowSpan);\n               }\n\n               cells = row.children(\".k-group-cell,\" + DATA_CELL_HIDDENINCLUDED);\n\n               let cellToFocus = cells.eq(0);\n               if (cells.length > index) {\n                   cellToFocus = cells.eq(index);\n               }\n\n               if (cellToFocus.is(\".k-group-cell\")) {\n                   cellToFocus = cellToFocus.nextAll(\"td\").not(\".k-group-cell\").not(\":hidden\").first();\n               }\n\n               return cellToFocus;\n           },\n\n           _verticalContainer: function(container, up) {\n               var table = container.parent();\n               var length = this._navigatableTables.length;\n               var step = Math.floor(length / 2);\n               var index = inArray(table[0], this._navigatableTables);\n\n               if (up) {\n                   step *= -1;\n               }\n               index += step;\n\n               if (index >= 0 || index < length) {\n                   table = this._navigatableTables.eq(index);\n               }\n\n               return table.find(up ? \">thead\" : \">tbody\");\n           },\n\n           _filterFocusable: function() {\n               return this.wrapper.find(\".k-filter-row\").find(\".k-dropdownlist, .k-input .k-input-inner:visible, input[type='radio']:visible, input[type='checkbox']:visible\");\n           },\n\n           _horizontalContainer: function(container, right) {\n               var length = this._navigatableTables.length;\n               if (length <= 2) {\n                   return container;\n               }\n\n               var table = container.parent();\n               var index = inArray(table[0], this._navigatableTables);\n\n               index += right ? 1 : -1;\n\n               if (right && (index == 2 || index == length)) {\n                   return container;\n               }\n\n               if (!right && (index == 1 || index < 0)) {\n                   return container;\n               }\n\n               return this._navigatableTables.eq(index).find(\"thead, tbody\");\n           },\n\n           _tabNext: function(current, currentTable, back) {\n               var switchRow = true;\n               var next = back ? current.prevAll(DATA_CELL).first() : current.nextAll(\":visible\").first();\n\n               if (!next.length) {\n                   next = current.parent();\n                   if (this.lockedTable) {\n                       switchRow = (back && currentTable == this.lockedTable[0]) || (!back && currentTable == this.table[0]);\n                       next = this._relatedRow(next);\n                   }\n\n                   if (switchRow) {\n                       if (this._hasVirtualColumns()) {\n                           return current;\n                       }\n                       next = next[back ? \"prevAll\" : \"nextAll\"](\"tr:not(.k-grouping-row):not(.k-detail-row):visible\").first();\n                   }\n                   if (back) {\n                       next = next.children(DATA_CELL).last();\n                   } else {\n                       next = next.children(DATA_CELL).first();\n                   }\n               }\n\n               return next;\n           },\n\n           _handleEditing: function(current, next, table) {\n               var that = this,\n                   active = $(activeElement()),\n                   mode = that._editMode(),\n                   isIE = browser.msie,\n                   editContainer = that._editContainer,\n                   focusable,\n                   editable = that.options.editable && that.options.editable.update !== false,\n                   isEdited;\n\n               table = $(table);\n               if (mode == \"incell\") {\n                   isEdited = current.hasClass(\"k-edit-cell\");\n               } else {\n                   isEdited = current.parent().hasClass(\"k-grid-edit-row\");\n               }\n\n               if (that.editable) {\n                   if ($.contains(editContainer[0], active[0])) {\n                       active.trigger(\"blur\");\n                       if (isIE) {\n                           //IE10 with jQuery 1.9.x does not trigger blur handler\n                           //numeric textbox does trigger change\n                           active.trigger(\"blur\");\n                       }\n                   }\n\n                   if (!that.editable) {\n                       focusTable(that.table);\n                       return;\n                   }\n\n                   if (that.editable.end()) {\n                       if (mode == \"incell\") {\n                           that.closeCell();\n                       } else {\n                           that.saveRow();\n                           isEdited = true;\n                       }\n                   } else {\n                       if (mode == \"incell\") {\n                           that._setCurrent(editContainer);\n                       } else {\n                           that._setCurrent(editContainer.children().filter(DATA_CELL).first());\n                       }\n                       focusable = editContainer.find(\":kendoFocusable\").first()[0];\n                       if (focusable) {\n                           focusable.focus();\n                       }\n                       return;\n                   }\n               }\n\n               if (next) {\n                   that._setCurrent(next);\n               }\n\n               focusTable(that.table, true);\n\n               if (!editable) {\n                   return;\n               }\n\n               if ((!isEdited && !next) || next) {\n                   if (mode === INCELL) {\n                       if (!$(that.current()).hasClass(HIERARCHY_CELL_CLASS)) {\n                           that.editCell(that.current());\n                       }\n                   } else {\n                       that.editRow(that.current().parent());\n                   }\n               }\n           },\n\n           _wrapper: function() {\n               var that = this,\n                   table = that.table,\n                   height = that.options.height,\n                   width = that.options.width,\n                   wrapper = that.element;\n\n               if (!wrapper.is(DIV)) {\n                  wrapper = wrapper.wrap(\"<div/>\").parent();\n               }\n\n               that.wrapper = wrapper.addClass(\"k-grid \" + kendo.getValidCssClass(\"k-grid-\", \"size\", that.options.size));\n\n               if (height) {\n                   that.wrapper.css(HEIGHT, height);\n                   table.css(HEIGHT, AUTO);\n               }\n\n               if (width) {\n                   that.wrapper.css(WIDTH, width);\n               }\n\n               that._initMobile();\n           },\n\n           _initContextMenu: function() {\n               var that = this,\n                   options = that.options,\n                   groupsContextMenu = isPlainObject(options.contextMenu) && isArray(options.contextMenu.groups) ? { items: options.contextMenu.groups } : { items: defaultGroupsContextMenu },\n                   tbodyContextMenu = isPlainObject(options.contextMenu) && isArray(options.contextMenu.body) ? { items: options.contextMenu.body } : { items: defaultBodyContextMenu },\n                   theadContextMenu = isPlainObject(options.contextMenu) && isArray(options.contextMenu.head) ? { items: options.contextMenu.head } : { items: defaultHeadContextMenu };\n\n               var mainOptions = isPlainObject(options.contextMenu) ? options.contextMenu : {};\n\n               tbodyContextMenu = extend({}, {\n                   messages: options.messages,\n                   target: that.tbody,\n                   filter: \".k-table-td\",\n                   action: that._action.bind(that),\n                   states: that._buildStates()\n               }, mainOptions, tbodyContextMenu);\n\n               theadContextMenu = extend({}, {\n                   messages: options.messages,\n                   target: that.thead,\n                   filter: \".k-table-th\",\n                   action: that._action.bind(that),\n                   states: that._buildStates()\n               }, mainOptions, theadContextMenu);\n\n               if (that.groupable) {\n                   groupsContextMenu = extend({}, {\n                       showOn: \"click\",\n                       target: that.groupable.groupContainer,\n                       filter: \".k-groupable-context-menu\",\n                       messages: options.messages,\n                       action: that._action.bind(that),\n                       states: that._buildStates()\n                   }, mainOptions, groupsContextMenu);\n               }\n\n\n               that.tbodyContextMenu = new ui.grid.ContextMenu(\"<ul></ul>\", tbodyContextMenu);\n               that.theadContextMenu = new ui.grid.ContextMenu(\"<ul></ul>\", theadContextMenu);\n               that.groupsContextMenu = !!that.groupable && new ui.grid.ContextMenu(\"<ul></ul>\", groupsContextMenu);\n           },\n\n           _buildStates: function() {\n               var that = this;\n\n               return {\n                   isEditable: that.options.editable,\n                   isSelectable: that.options.selectable,\n                   isSortable: that.options.sortable,\n                   isRowReorderable: isPlainObject(that.options.reorderable) ? that.options.reorderable.rows : that.options.reorderable,\n                   isGroupable: that.options.groupable,\n                   allowPaste: that.options.allowPaste,\n                   alwaysDisabled: false,\n                   hasSelection: () => (this.select() ? this.select().length > 0 : false),\n                   isSorted: () => !(this.dataSource.sort() ? this.dataSource.sort().length > 0 : false),\n                   canMoveGroupPrev: (target) =>{\n                       var group = $(target).closest(\".k-chip\");\n\n                       return group.index() > 0;\n                   },\n                   canMoveGroupNext: (target) =>{\n                       var length = $(target).closest(\".k-chip-list\").children().length - 1;\n                       var group = $(target).closest(\".k-chip\");\n\n                       return group.index() < length;\n                   }\n               };\n           },\n\n           _action: function(args) {\n               var commandName = args.command,\n                   commandOptions = extend({ grid: this }, args.options),\n                   command = new ui.grid.commands[commandName](commandOptions);\n\n               return command.exec();\n           },\n\n           _initMobile: function() {\n               var options = this.options;\n               var that = this;\n\n               this._isMobile = (options.mobile === true && kendo.support.mobileOS) ||\n                                   options.mobile === \"phone\" ||\n                                   options.mobile === \"tablet\";\n\n               if (this._isMobile) {\n                   var html = this.wrapper.addClass(\"k-grid-mobile\").wrap(\n                       '<div data-' + kendo.ns + 'stretch=\"true\" data-' + kendo.ns + 'role=\"view\" ' +\n                       'data-' + kendo.ns + 'init-widgets=\"false\"></div>'\n                   )\n                   .parent();\n\n                   this.pane = this._createPane(html);\n                   this.view = this.pane.view();\n\n                   if (options.height) {\n                       this.pane.element.parent().css(HEIGHT, options.height);\n                   } else {\n                       this.pane.element.parent().css(HEIGHT, this.wrapper[0].style.height);\n                   }\n\n                   this._editAnimation = \"slide\";\n\n                   // Grid transitions should not propagate to the view\n                   that.wrapper.on(\"transitionend\" + NS, function(e) {\n                       e.stopPropagation();\n                   });\n\n                   that.wrapper.on(\"contextmenu\" + NS, \"th a\", function(e) {\n                       e.preventDefault();\n                       return false;\n                   });\n\n                   this.view.bind(\"showStart\", function() {\n                       if (that._isLocked()) {\n                           that._updateTablesWidth();\n                           that._applyLockedContainersWidth();\n                           that._syncLockedContentHeight();\n                           that._syncLockedHeaderHeight();\n                           that._syncLockedFooterHeight();\n                       }\n                   });\n               }\n           },\n\n           _createPane: function(html) {\n               var pane = kendo.Pane.wrap(html, {\n                   viewEngine: {\n                       viewOptions: {\n                           renderOnInit: true,\n                           wrap: false,\n                           wrapInSections: true,\n                           detachOnHide: false,\n                           detachOnDestroy: false\n                       }\n                   }\n               });\n\n               return pane;\n           },\n\n           _initLoader: function(options) {\n               var that = this,\n                   defaultOptions = {\n                       size: 'medium',\n                       messages: { exporting: 'Exporting...' }\n               };\n               defaultOptions = $.extend({}, defaultOptions, options);\n\n               const loader = $(\"<div></div>\").kendoLoader(defaultOptions).data(\"kendoLoader\");\n\n               that.loader = loader;\n               that._loaderContainer = kendo_loaderContainer_chunk_js.u.bind(that);\n           },\n\n           _tbody: function() {\n               var that = this,\n                   table = that.table,\n                   tbody;\n\n               tbody = table.find(\">tbody\");\n\n               if (!tbody.length) {\n                   tbody = $(\"<tbody/>\").appendTo(table);\n               }\n\n               tbody.addClass('k-table-tbody');\n               that.tbody = tbody;\n           },\n\n           _scrollable: function() {\n               var that = this,\n                   header,\n                   table,\n                   options = that.options,\n                   scrollable = options.scrollable,\n                   hasVirtualScroll = scrollable !== true && scrollable.virtual,\n                   virtualScroll = hasVirtualScroll ? parseVirtualSettings(scrollable.virtual) : null,\n                   scrollbar = !kendo.support.kineticScrollNeeded || (virtualScroll && virtualScroll.rows) ? kendo.support.scrollbar() : 0,\n                   headerWrap;\n\n               if (scrollable) {\n                   header = that.wrapper.children(\".k-grid-header\");\n\n                   if (!header[0]) {\n                       header = $('<div class=\"k-grid-header\" />').insertBefore(that.table);\n                   }\n\n                   // workaround for IE issue where scroll is not raised if container is same width as the scrollbar\n                   header.css((isRtl ? \"padding-left\" : \"padding-right\"), scrollable.virtual ? scrollbar + 1 : scrollbar);\n                   table = $('<table role=\"none\" class=\"k-grid-header-table k-table\"/>');\n                   table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", options.size));\n\n                   table.width(that.table[0].style.width);\n\n                   table.append(that.thead);\n                   header.empty().append($('<div class=\"k-grid-header-wrap k-auto-scrollable\" />').append(table));\n\n\n                   that.content = that.table.parent();\n                   that.virtualScroll = virtualScroll;\n\n                   if (that.content.is(\".k-virtual-scrollable-wrap, \" + DOT + classNames.scrollContainer)) {\n                       that.content = that.content.parent();\n                   }\n\n                   if (!that.content.is(\".k-grid-content, .k-virtual-scrollable-wrap\")) {\n                       that.content = that.table.wrap('<div class=\"k-grid-content k-auto-scrollable\" />').parent();\n                   }\n\n                   if (!that.content.parent().hasClass(\"k-grid-container\")) {\n                       that.content.wrap(\"<div class='k-grid-container' />\").parent();\n                   }\n\n                   if (virtualScroll && virtualScroll.rows && !that.virtualScrollable) {\n                       that._createVirtualScrollable();\n                   }\n\n                   if (virtualScroll && virtualScroll.columns) {\n\n                       that.table.css({\n                           width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns)))\n                       });\n                   }\n\n                   headerWrap = header.children(\".k-grid-header-wrap\");\n\n                   that.scrollables = headerWrap.add(that.content);\n\n                   // the footer may exists if rendered from the server\n                   var footer = that.wrapper.find(\".k-grid-footer\");\n\n                   if (footer.length) {\n                       that.scrollables = that.scrollables.add(footer.children(\".k-grid-footer-wrap\"));\n                   }\n\n                   headerWrap.off(\"scroll\" + NS).on(\"scroll\" + NS, function(e) {\n                       if (that._scrollLeft !== this.scrollLeft) {\n                           kendo.scrollLeft(that.scrollables.not(e.currentTarget), this.scrollLeft);\n                       }\n                   });\n\n                   if (virtualScroll && virtualScroll.rows) {\n                       that.content.find(\">.k-virtual-scrollable-wrap\").off(\"scroll\" + NS).on(\"scroll\" + NS, function() {\n                           var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                           that._scrollLeft = this.scrollLeft;\n                           kendo.scrollLeft(that.scrollables, this.scrollLeft);\n                           if (that.lockedContent) {\n                               that.lockedContent[0].scrollTop = this.scrollTop;\n                           }\n                           if (virtualScroll.columns && isScrollingLeft) {\n                               that.refresh();\n                           }\n                       });\n                   } else {\n                       var endless = scrollable.endless;\n                       var originalPageSize = that.dataSource.options.pageSize;\n                       if (endless) {\n                           that._endlessPageSize = originalPageSize;\n                       }\n                       that.content.off(\"scroll\" + NS).on(\"scroll\" + NS, function(e) {\n                           var isScrollingLeft = this.scrollLeft != that._scrollLeft;\n                           that._scrollLeft = this.scrollLeft;\n                           kendo.scrollLeft(that.scrollables.not(e.currentTarget), that._scrollLeft);\n                           if (that.lockedContent && e.currentTarget == that.content[0]) {\n                               that.lockedContent[0].scrollTop = this.scrollTop;\n                           }\n                           if (endless) {\n                               if ((this.scrollTop + this.clientHeight - this.scrollHeight >= -10) &&\n                                   !that._endlessFetchInProgress &&\n                                   that._endlessPageSize < that.dataSource.total()) {\n                                   that._skipRerenderItemsCount = that._endlessPageSize;\n                                   that._endlessPageSize = that._endlessPageSize + originalPageSize;\n                                   that.dataSource.options.endless = true;\n                                   that._endlessFetchInProgress = true;\n                                   that.dataSource.pageSize(that._endlessPageSize);\n                               }\n                           }\n\n                           if (virtualScroll && virtualScroll.columns && isScrollingLeft) {\n                                 that._virtualColScroll = true;\n                                 that._cacheEditableState();\n                                 that.refresh();\n                                 that._restoreEditableState();\n                                 that._virtualColScroll = false;\n                           }\n\n                           if (that.rowResizer) {\n                               that.rowResizer.css(\"left\", e.currentTarget.scrollLeft + \"px\");\n                           }\n                       });\n\n                       var touchScroller = that.content.data(\"kendoTouchScroller\");\n                       if (touchScroller) {\n                           touchScroller.destroy();\n                       }\n\n                       touchScroller = kendo.touchScroller(that.content);\n                       if (touchScroller && touchScroller.movable) {\n                           that.touchScroller = touchScroller;\n                           touchScroller.movable.bind(\"change\", function(e) {\n                               kendo.scrollLeft(that.scrollables, -e.sender.x);\n                               if (that.lockedContent) {\n                                   that.lockedContent.scrollTop(-e.sender.y);\n                               }\n                           });\n\n                           that.one(DATABOUND, function(e) {\n                               e.sender.wrapper.addClass(\"k-grid-backface\");\n                           });\n                       }\n                   }\n               }\n           },\n\n           _createVirtualScrollable: function() {\n               var that = this;\n\n               if (that.virtualScrollable) {\n                   that.virtualScrollable.destroy();\n               }\n\n               that.virtualScrollable = new VirtualScrollable(that.content, {\n                   dataSource: that.dataSource,\n                   itemHeight: function() { return that._averageRowHeight(); },\n                   page: function() {\n                       that._restoreEditableState();\n                   },\n                   scroll: function() {\n                       that._focusEditable();\n                   },\n                   loadStart: function() {\n                       that._progress(true);\n                   },\n                   loadEnd: function() {\n                       that._progress(false);\n                   }\n               });\n\n               that.virtualScrollable.bind(PAGING, that._onVirtualPaging.bind(that));\n           },\n\n           _onVirtualPaging: function() {\n               var that = this;\n\n               that._cacheEditableState();\n\n               if (that._isVirtualIncellEditable()) {\n                   that._shouldClearEditableState = false;\n                   that.closeCell();\n                   that._shouldClearEditableState = true;\n               }\n           },\n\n           _isVirtualEditable: function() {\n               return this._isVirtualIncellEditable() || this._isVirtualInlineEditable() || this._isVirtualPopupEditable();\n           },\n\n           _isVirtualInlineEditable: function() {\n               return (this.virtualScrollable) && this._editMode() === INLINE;\n           },\n\n           _isVirtualIncellEditable: function() {\n               return (this.virtualScrollable) && this._editMode() === INCELL;\n           },\n\n           _isVirtualPopupEditable: function() {\n               return this.virtualScrollable && this._editMode() === \"popup\";\n           },\n\n           _hasVirtualColumns: function() {\n               return (this.virtualScroll || {}).columns ? true : false;\n           },\n\n           _scrollVirtualWrapper: function() {\n               var that = this;\n               var scrollable = that.virtualScrollable;\n\n               if (that._isVirtualInlineEditable() || that._isVirtualIncellEditable()) {\n                   if (scrollable._isScrolledToBottom()) {\n                       scrollable._scrollWrapperToBottom();\n                   } else if (scrollable._isScrolledToTop()) {\n                       scrollable._scrollWrapperToTop();\n                   }\n               }\n           },\n\n           _scrollVirtualWrapperOnColumnResize: function() {\n               var virtualScrollable = this.virtualScrollable;\n\n               if (virtualScrollable) {\n                   virtualScrollable._scrollWrapperOnColumnResize();\n               }\n           },\n\n           _restoreEditableState: function() {\n               var that = this;\n               var editableState = that._editableState || {};\n               var editedModel = editableState.model;\n               var dataSource = that.dataSource;\n               var inlineMode = that._isVirtualInlineEditable();\n               var incellMode = that._isVirtualIncellEditable();\n               var virtualColumns = that._hasVirtualColumns();\n               var row;\n               var cell;\n\n               if ((inlineMode || incellMode || virtualColumns) && editedModel && dataSource._getByUid(editedModel.uid, dataSource.view())) {\n                   if (that._editMode() === INLINE) {\n                       that._shouldClearEditableState = false;\n                       that.editRow(editedModel);\n                       if (!virtualColumns) {\n                           that._focusEditable();\n                       }\n                   } else if (that._editMode() === INCELL) {\n                       row = that.tbody.children(attrEquals(UNIQUE_ID, editedModel.uid));\n                       cell = $(row).children(attrEquals(FIELD, editableState.field));\n\n                       if (cell[0]) {\n                           that._shouldClearEditableState = false;\n                           that.editCell(cell);\n                           if (!virtualColumns) {\n                               that._focusEditable();\n                           }\n                       }\n                   }\n               }\n\n               that._shouldClearEditableState = true;\n           },\n\n           _focusEditable: function() {\n               var that = this;\n               var editedField = (that._editableState || {}).field;\n               var editContainer = that._editContainer;\n\n               if (editContainer && editContainer.length && !contains(editContainer[0], activeElement()) && that._canFocusEditable()) {\n                   if (that._isVirtualInlineEditable() || that._hasVirtualColumns()) {\n                       editContainer.find(attrEquals(CONTAINER_FOR, editedField)).find(FOCUSABLE).eq(0).trigger(\"focus\");\n                   } else if (that._isVirtualIncellEditable() || that._hasVirtualColumns()) {\n                       editContainer.find(FOCUSABLE).eq(0).trigger(\"focus\");\n                   }\n               }\n           },\n\n           _canFocusEditable: function() {\n               var that = this;\n               var result = ((that._isVirtualIncellEditable() || that._isVirtualInlineEditable() || that._hasVirtualColumns()) &&\n               (isElementVisibleInWrapper((that.virtualScrollable || {}).wrapper, that._editContainer) || isElementVisibleInWrapper(that.content, that._editContainer)));\n\n               return result;\n           },\n\n           _cacheEditableState: function() {\n               var that = this;\n               var editContainer = that._editContainer;\n               var editedModel = editContainer ? that._modelForContainer(editContainer) : null;\n               var inlineMode = that._isVirtualInlineEditable();\n               var incellMode = that._isVirtualIncellEditable();\n               var virtualColumns = that._hasVirtualColumns();\n               var active;\n               var widget;\n               var value;\n\n               if ((inlineMode || incellMode || virtualColumns) && editedModel) {\n                   that._clearEditableState();\n                   active = $(activeElement());\n\n                   if (editContainer && active[0] && contains(editContainer[0], active[0])) {\n                       //change event is not fired if the editable container is scrolled\n                       //out of the virtual view with the mousewheel right after editing\n                       active.change();\n\n                       widget = kendo.widgetInstance(active, kendo.ui);\n\n                       if (widget && isFunction(widget.value) && active.is(INPUT)) {\n                           value = active.val();\n\n                           if (active.is(\"[type='checkbox'\")) {\n                               value = active.is(\":checked\");\n                           }\n\n                           widget.value(value);\n                           widget.trigger(CHANGE);\n                       }\n                   }\n\n                   if (that._editMode() === INLINE) {\n                       that._editableState = {\n                           model: editedModel,\n                           field: active.closest(\"[\" + kendo.attr(CONTAINER_FOR) + \"]\").attr(kendo.attr(CONTAINER_FOR))\n                       };\n                   } else if (that._editMode() === INCELL) {\n                       that._editableState = {\n                           model: editedModel,\n                           field: editContainer.attr(kendo.attr(FIELD))\n                       };\n                   }\n               }\n           },\n\n           _clearSortClasses: function() {\n               var that = this,\n                   content = that.content || that.table,\n                   lockedContent = that.lockedContent;\n\n               if (content) {\n                   content.find(COLGROUP).removeClass(SORTED_CLASS);\n               }\n\n               if (lockedContent) {\n                   lockedContent.find(COLGROUP).removeClass(SORTED_CLASS);\n               }\n           },\n\n           _clearEditableState: function() {\n               var that = this;\n\n               if (that.virtualScrollable || (that.virtualScroll && that._hasVirtualColumns())) {\n                   that._editableState = null;\n               }\n           },\n\n           _destroyVirtualScrollable: function() {\n               var that = this;\n\n               that._clearEditableState();\n\n               if (that.virtualScrollable && that.virtualScrollable.element) {\n                   that.virtualScrollable.destroy();\n               }\n\n               that.virtualScrollable = null;\n           },\n\n           _destroyRowResizing: function() {\n               if (this.rowResizing) {\n                   this.rowResizing.destroy();\n\n                   this.rowResizing = null;\n               }\n\n               if (this.rowResizer) {\n                   this._detachRowResizerEvents();\n                   this.rowResizer.off(DUBLECLICK + NS);\n                   this.rowResizer = null;\n                   this._clearCachedRowsHeight();\n               }\n           },\n\n           _renderNoRecordsContent: function() {\n               var that = this;\n\n               if (that.options.noRecords) {\n                   var noRecordsElement = that.table.parent().children('.' + NORECORDSCLASS);\n\n                   if (noRecordsElement.length) {\n                       noRecordsElement.remove();\n                   }\n\n                   if (!that.dataSource || !that.dataSource.view().length) {\n                       noRecordsElement = $(that.noRecordsTemplate({ grid: that }));\n                       kendo.applyStylesFromKendoAttributes(noRecordsElement, [\"margin\", \"position\"]);\n                       noRecordsElement.insertAfter(that.table);\n                   }\n               }\n           },\n\n           _setContentWidth: function(scrollLeft) {\n               var that = this,\n                   hiddenDivClass = 'k-grid-content-expander',\n                   hiddenDiv = '<div class=\"' + hiddenDivClass + '\"></div>',\n                   resizable = that.resizable,\n                   expander;\n\n               if (that.options.scrollable && that.wrapper.is(\":visible\")) {\n                   expander = that.table.parent().children('.' + hiddenDivClass);\n                   that._setContentWidthHandler = that._setContentWidth.bind(that);\n                   if (!that.dataSource || !that.dataSource.view().length) {\n                       if (!expander[0]) {\n                           expander = $(hiddenDiv).appendTo(that.table.parent());\n                           if (resizable) {\n                               resizable.bind(\"resize\", that._setContentWidthHandler);\n                           }\n                       }\n                       if (that.thead) {\n                           expander.width(that.thead.width());\n                           if (!isNaN(parseFloat(scrollLeft, 10))) {\n                               kendo.scrollLeft(that.content, scrollLeft);\n                           }\n                       }\n                   } else if (expander[0]) {\n                       expander.remove();\n                       if (resizable) {\n                           resizable.unbind(\"resize\", that._setContentWidthHandler);\n                       }\n                   }\n\n                   that._applyLockedContainersWidth(true);\n                   that._syncLockedContentHeight();\n\n                   // workaround IE does not show vertical scrollbar for elements without width\n                   if (that.lockedHeader && that.table[0].clientWidth === 0) {\n                       that.table[0].style.width = \"1px\";\n                   }\n               }\n           },\n\n           _applyLockedContainersWidth: function(calculateGroupWidth) {\n               if (this.options.scrollable && this.lockedHeader) {\n                   let headerTable = this.thead.parent(),\n                       headerWrap = headerTable.parent(),\n                       contentWidth = this.wrapper[0].clientWidth,\n                       groups = this._groups(),\n                       scrollbar = kendo.support.scrollbar(),\n                       cols = this.lockedHeader.find(\">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)\"),\n                       nonLockedCols = headerTable.find(\">colgroup>col:not(.k-group-col, .k-hierarchy-col)\"),\n                       width = columnsWidth(cols),\n                       nonLockedColsWidth = columnsWidth(nonLockedCols),\n                       footerWrap;\n\n                   if (groups > 0 && calculateGroupWidth) {\n                       width += outerWidth(this.lockedHeader.find(\".k-group-cell\").first()) * groups;\n                   }\n\n                   if (width >= contentWidth) {\n                       width = contentWidth - 3 * scrollbar;\n                   }\n\n                   this.lockedHeader\n                       .add(this.lockedContent)\n                       .width(width);\n\n                   headerWrap[0].style.width = headerWrap.parent().width() - width - 2 + PX;\n\n                   headerTable.add(this.table).width(nonLockedColsWidth);\n\n                   //https://github.com/telerik/kendo-ui-core/issues/377\n                   if (this.virtualScrollable && !isIE11) {\n                       contentWidth -= scrollbar;\n                   }\n\n                   this.content[0].style.width = contentWidth - width - 1 + PX;\n\n                   if (this.lockedFooter && this.lockedFooter.length) {\n                       this.lockedFooter.width(width);\n                       footerWrap = this.footer.find(\".k-grid-footer-wrap\");\n                       footerWrap[0].style.width = headerWrap[0].clientWidth + PX;\n                       footerWrap.children().first().width(nonLockedColsWidth);\n                   }\n               }\n           },\n\n           _setContentHeight: function() {\n               var that = this,\n                   options = that.options,\n                   height,\n                   header = that.wrapper.children(\".k-grid-header\"),\n                   scrollbar = kendo.support.scrollbar();\n               var scrollableHeight = (options.scrollable || {}).height;\n\n               if (options.scrollable && that.wrapper.is(\":visible\")) {\n                   if (scrollableHeight && that.content[0].style.height === \"\") {\n                       // fallback to client-side setting as ASP.NET MVC Core wrapper does not provide server rendering of the content\n                       that.content[0].style.height = scrollableHeight;\n                   }\n\n                   height = that.wrapper.innerHeight();\n\n                   height -= outerHeight(header);\n\n                   if (that.pager && that.pager.element.is(\":visible\")) {\n                       height -= outerHeight(that.pager.element);\n                   }\n\n                   if (options.groupable) {\n                       height -= outerHeight(that.wrapper.children(\".k-grouping-header\"));\n                   }\n\n                   if (options.toolbar) {\n                       height -= outerHeight(that.wrapper.children(\".k-grid-toolbar\"));\n                   }\n\n                   if (that.footerTemplate) {\n                       height -= outerHeight(that.wrapper.children(\".k-grid-footer\"));\n                   }\n\n                   if (that.statusBar) {\n                       height -= outerHeight(that.wrapper.children(\".k-selection-aggregates\"));\n                   }\n\n                   var isGridHeightSet = function(el) {\n                       var initialHeight, newHeight;\n                       if (el[0].style.height) {\n                           return true;\n                       } else {\n                           initialHeight = el.height();\n                       }\n\n                       el.height(AUTO);\n                       newHeight = el.height();\n\n                       if (initialHeight != newHeight) {\n                           el.height(\"\");\n                           return true;\n                       }\n                       el.height(\"\");\n                       return false;\n                   };\n\n                   if (isGridHeightSet(that.wrapper)) { // set content height only if needed\n                       if (height > scrollbar * 2) { // do not set height if proper scrollbar cannot be displayed\n                           if (that.lockedContent) {\n                               scrollbar = that.table[0].offsetWidth > that.table.parent()[0].clientWidth ? scrollbar : 0;\n                               that.lockedContent.height(height - scrollbar);\n                           }\n\n                           that.content.height(height);\n                       } else {\n                           that.content.height(scrollbar * 2 + 1);\n                       }\n                   }\n               }\n           },\n\n           _averageRowHeight: function() {\n               var that = this,\n                   itemsCount = that._items(that.tbody, true).length,\n                   rowHeight = that._rowHeight;\n\n               if (itemsCount === 0) {\n                   return rowHeight;\n               }\n\n               if (!that._rowHeight) {\n                   that._rowHeight = rowHeight = outerHeight(that.table) / itemsCount;\n                   that._sum = rowHeight;\n                   that._measures = 1;\n               }\n\n               var currentRowHeight = outerHeight(that.table) / itemsCount;\n\n               if (rowHeight !== currentRowHeight) {\n                   that._measures ++;\n                   that._sum += currentRowHeight;\n                   that._rowHeight = that._sum / that._measures;\n               }\n               return rowHeight;\n           },\n\n           _dataSource: function() {\n               var that = this,\n                   options = that.options,\n                   pageable,\n                   dataSource = options.dataSource;\n\n               dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n               if (isPlainObject(dataSource)) {\n                   extend(dataSource, { table: that.table, fields: that.columns });\n\n                   pageable = options.pageable;\n\n                   if (isPlainObject(pageable) && pageable.pageSize !== undefined$1) {\n                       dataSource.pageSize = pageable.pageSize;\n                   }\n               }\n\n               if (that.dataSource && that._refreshHandler) {\n                   that.dataSource.unbind(CHANGE, that._refreshHandler)\n                                   .unbind(PROGRESS, that._progressHandler)\n                                   .unbind(REQUESTEND, that._requestEndHandler)\n                                   .unbind(ERROR, that._errorHandler)\n                                   .unbind(SORT, that._sortHandler);\n               } else {\n                   that._refreshHandler = that.refresh.bind(that);\n                   that._progressHandler = that._requestStart.bind(that);\n                   that._requestEndHandler = that._requestEnd.bind(that);\n                   that._errorHandler = that._error.bind(that);\n                   that._sortHandler = that._clearSortClasses.bind(that);\n               }\n\n               that.dataSource = DataSource.create(dataSource)\n                                   .bind(CHANGE, that._refreshHandler)\n                                   .bind(PROGRESS, that._progressHandler)\n                                   .bind(REQUESTEND, that._requestEndHandler)\n                                   .bind(ERROR, that._errorHandler)\n                                   .bind(SORT, that._sortHandler);\n           },\n\n           _error: function() {\n               this._progress(false);\n               this._requestInProgress = false;\n           },\n\n           _requestStart: function() {\n               this._progress(true);\n               this._requestInProgress = true;\n           },\n\n           _requestEnd: function() {\n               this._requestInProgress = false;\n           },\n\n           _modelChange: function(e) {\n               var that = this,\n                   tbody = that.tbody,\n                   model = e.model,\n                   row = that.tbody.find(\"tr[\" + kendo.attr(\"uid\") + \"=\" + model.uid + \"]\"),\n                   relatedRow,\n                   cell,\n                   column,\n                   isAlt = row.hasClass(\"k-alt\"),\n                   tmp,\n                   idx = that._items(tbody).index(row),\n                   isLocked = that.lockedContent,\n                   selectable,\n                   selectableRow,\n                   childCells,\n                   originalCells,\n                   length;\n\n               if (isLocked) {\n                   relatedRow = that._relatedRow(row);\n               }\n\n               if (row.add(relatedRow).children(\".k-edit-cell\").length && !that.options.rowTemplate) {\n                   row.add(relatedRow).children(\":not(.k-group-cell,.k-hierarchy-cell)\").each(function() {\n                       cell = $(this);\n                       column = leafColumns(that.columns)[that._calculateColumnIndex(cell)];\n\n                       if (column.field === e.field) {\n                           if (!cell.hasClass(\"k-edit-cell\")) {\n                               that._displayCell(cell, column, model);\n                           } else {\n                               cell.addClass(\"k-dirty-cell\");\n                           }\n                       }\n                   });\n\n               } else if (!row.hasClass(\"k-grid-edit-row\")) {\n\n                   selectableRow = $().add(row);\n\n                   if (isLocked) {\n                       tmp = (isAlt ? that.lockedAltRowTemplate : that.lockedRowTemplate)(model);\n\n                       selectableRow = selectableRow.add(relatedRow);\n\n                       relatedRow.replaceWith(tmp);\n                   }\n\n                   tmp = (isAlt ? that.altRowTemplate : that.rowTemplate)(model);\n\n                   let tmpResult = $(tmp);\n                   kendo.applyStylesFromKendoAttributes(tmpResult, [\"display\"]);\n                   row.replaceWith(tmpResult);\n\n                   tmp = that._items(tbody).eq(idx);\n\n                   if (isLocked) {\n                       row = row.add(relatedRow);\n\n                       relatedRow = that._relatedRow(tmp)[0];\n                       adjustRowHeight(tmp[0], relatedRow);\n\n                       tmp = tmp.add(relatedRow);\n                   }\n\n                   selectable = that.options.selectable;\n                   if ((selectable || that._checkBoxSelection) && row.hasClass(SELECTED)) {\n                      that.select(tmp);\n                   }\n\n                   originalCells = selectableRow.children(\":not(.k-group-cell,.k-hierarchy-cell)\");\n                   childCells = tmp.children(\":not(.k-group-cell,.k-hierarchy-cell)\");\n\n                   for (idx = 0, length = that.columns.length; idx < length; idx++) {\n                       column = that.columns[idx];\n\n                       cell = childCells.eq(idx);\n                       if (selectable && originalCells.eq(idx).hasClass(SELECTED)) {\n                           cell.addClass(SELECTED);\n                       }\n                   }\n\n                   that.trigger(\"itemChange\", { item: tmp, data: model, ns: ui });\n               }\n           },\n\n           _pageable: function() {\n               var that = this,\n                   pagerWrap,\n                   pageable = that.options.pageable,\n                   size = that.options.size,\n                   navigatable = that.options.navigatable;\n\n               if (pageable) {\n                   pagerWrap = that.wrapper.children(\"div.k-grid-pager\");\n\n                   if (!pagerWrap.length) {\n                       pagerWrap = $('<div class=\"k-pager k-grid-pager\"/>');\n                   }\n\n                   if (pageable.position === \"top\") {\n                       pagerWrap.prependTo(that.wrapper).addClass(\"k-grid-pager-top\");\n                   } else {\n                       pagerWrap.appendTo(that.wrapper);\n                   }\n\n                   if (that.pager) {\n                       that.pager.destroy();\n                   }\n\n                   if (typeof pageable === \"object\" && pageable instanceof kendo.ui.Pager) {\n                       that.pager = pageable;\n                   } else {\n                       if (that.dataSource._groupPaging) {\n                           that.pager = new GroupsPager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource, navigatable: navigatable, size: size }));\n                       } else {\n                           that.pager = new kendo.ui.Pager(pagerWrap, extend({}, pageable, { dataSource: that.dataSource, navigatable: navigatable, size: size }));\n                       }\n                   }\n\n                   that.pager.bind(\"pageChange\", function(e) {\n                       if (that.trigger(\"page\", { page: e.index })) {\n                           e.preventDefault();\n                       }\n                   });\n\n                   that._togglePagerVisibility();\n               }\n           },\n\n           _statusBar: function() {\n               var that = this,\n                   options = that.options,\n                   wrapper = that.wrapper,\n                   statusBarTemplate = options.statusBarTemplate,\n                   content = \"\";\n\n               if (statusBarTemplate) {\n                   if (!that.statusBar) {\n                       content += '<div class=\"k-selection-aggregates k-grid-selection-aggregates\">';\n\n                       content += statusBarTemplate({ aggregates: that._cellAggregates });\n\n                       content += '</div>';\n\n                       if (options.scrollable) {\n                           that.statusBar = $(content).insertAfter(wrapper.find(DOT + \"k-grid-container\"));\n                       } else {\n                           that.statusBar = $(content).insertAfter(wrapper.find(DOT + \"k-grid-table\"));\n                       }\n                   } else {\n                       that.statusBar.html(statusBarTemplate({ aggregates: that._cellAggregates }));\n                   }\n               }\n           },\n\n           _footer: function() {\n               var that = this,\n                   aggregates = that.dataSource.aggregates(),\n                   html = \"\",\n                   footerTemplate = that.footerTemplate,\n                   options = that.options,\n                   footerWrap,\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\");\n\n               if (footerTemplate) {\n                   html = $(that._wrapFooter(footerTemplate(aggregates)));\n                   kendo.applyStylesFromKendoAttributes(html, [\"display\", \"left\", \"right\"]);\n\n                   if (footer.length) {\n                       var tmp = html;\n\n                       footer.replaceWith(tmp);\n                       footer = that.footer = tmp;\n                   } else {\n                       if (options.scrollable) {\n                           if (that.statusBar) {\n                               that.footer = html.insertBefore(that.statusBar);\n                           } else if (options.pageable && options.pageable.position !== \"top\") {\n                               that.footer = html.insertBefore(that.wrapper.children(\"div.k-grid-pager\"));\n                           } else {\n                               that.footer = html.appendTo(that.wrapper);\n                           }\n                           footer = that.footer;\n                       } else {\n                           footer = that.footer = html.insertAfter(that.tbody);\n                       }\n                   }\n               } else if (footer && !that.footer) {\n                   that.footer = footer;\n               }\n\n               if (footer.length) {\n                   if (options.scrollable) {\n                       footerWrap = footer.attr(TABINDEX, -1).children(\".k-grid-footer-wrap\");\n\n                       that.scrollables = $(\n                           that.scrollables\n                               .filter(function() { return !$(this).is(\".k-grid-footer-wrap\"); })\n                               .toArray()\n                       ).add(footerWrap);\n                   }\n\n                   if (that._footerWidth) {\n                       footer.find(\"table\").css('width', that._footerWidth);\n                   }\n\n                   if (footerWrap) {\n                       var offset = kendo.scrollLeft(that.content);\n\n                       if (options.scrollable !== true && that.virtualScroll && that.virtualScroll.rows) {\n                           offset = kendo.scrollLeft(that.wrapper.find('.k-virtual-scrollable-wrap'));\n                       }\n                       kendo.scrollLeft(footerWrap, offset);\n                   }\n               }\n\n               if (that.lockedContent) {\n                   that._appendLockedColumnFooter();\n                   that._applyLockedContainersWidth();\n                   that._syncLockedFooterHeight();\n               }\n           },\n\n           _wrapFooter: function(footerRow) {\n               var that = this,\n                   html = \"\",\n                   table,\n                   scrollbar = !kendo.support.mobileOS ? kendo.support.scrollbar() : 0;\n\n               if (that.options.scrollable) {\n                   html = $('<div class=\"k-grid-footer\"><div class=\"k-grid-footer-wrap\"><table class=\"k-table k-grid-footer-table\"><tfoot class=\"k-table-tfoot\">' + footerRow + '</tfoot></table></div></div>');\n                   table = html.find(\"table\");\n                   table.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n                   that._appendCols(table);\n                   html.css((isRtl ? \"padding-left\" : \"padding-right\"), scrollbar); // Update inner fix.\n\n                   return html;\n               }\n\n               return '<tfoot class=\"k-grid-footer k-table-tfoot\">' + footerRow + '</tfoot>';\n           },\n\n           _globalColumnsMenu: function(cell) {\n               var that = this,\n                   menu,\n                   columns = leafColumns(that.columns),\n                   options = that.options,\n                   columnMenu = options.columnMenu,\n                   menuOptions,\n                   initCallback = function(e) {\n                       that.trigger(COLUMNMENUINIT, { field: e.field, container: e.container });\n                   },\n                   openCallback = function(e) {\n                       that.trigger(COLUMNMENUOPEN, { field: e.field, container: e.container });\n                   },\n                   closeCallback = function() {\n                       cell.trigger(\"focus\");\n                   };\n\n               if (columnMenu) {\n                   if (typeof columnMenu == \"boolean\") {\n                       columnMenu = {};\n                   }\n\n                   that._setColumnsMediaVisibility(columns);\n\n                   let toggleable = !!(columnMenu.autoSize || columnMenu.clearAllFilters);\n\n                   menu = cell.data(\"kendoColumnMenu\");\n                   if (menu) {\n                       menu.destroy();\n                   }\n\n                   let columnsExpanderOptions = {\n                       toggleable: toggleable,\n                       expanded: columnMenu.expanded || true,\n                       animation: false,\n                       hideExpanderIndicator: !toggleable\n                   };\n\n                   menuOptions = {\n                       dataSource: that.dataSource,\n                       columns: columnMenu.columns,\n                       sortable: false,\n                       filterable: false,\n                       clearAllFilters: columnMenu.clearAllFilters,\n                       messages: columnMenu.messages,\n                       hideAutoSizeColumn: true,\n                       owner: that,\n                       closeCallback: closeCallback,\n                       init: initCallback,\n                       open: openCallback,\n                       pane: that.pane,\n                       autoSize: columnMenu.autoSize,\n                       encodeTitles: that.options.encodeTitles,\n                       componentType: \"modern\",\n                       columnsExpanderOptions: columnsExpanderOptions\n                   };\n\n                   cell.kendoColumnMenu(menuOptions);\n               }\n           },\n\n           _columnMenu: function() {\n               var that = this,\n                   menu,\n                   columns = leafColumns(that.columns),\n                   column,\n                   options = that.options,\n                   columnMenu = options.columnMenu,\n                   menuOptions,\n                   sortable,\n                   filterable,\n                   cells,\n                   hasMultiColumnHeaders = grep(that.columns, function(item) {\n                       return item.columns !== undefined$1;\n                   }).length > 0,\n                   hasLockableColumns = grep(that.columns, function(item) {\n                       return item.lockable !== false;\n                   }).length > 0,\n                   hasStickableColumns = grep(that.columns, function(item) {\n                       return item.stickable === true;\n                   }).length > 0,\n                   isMobile = this._isMobile,\n                   initCallback = function(e) {\n                       that.trigger(COLUMNMENUINIT, { field: e.field, container: e.container });\n                   },\n                   openCallback = function(e) {\n                       that.trigger(COLUMNMENUOPEN, { field: e.field, container: e.container });\n                   },\n                   closeCallback = function() {\n                       focusTable(that.table, true);\n                   },\n                   stickCallback = function(e) {\n                       that.trigger(COLUMNSTICK, { column: e.column });\n                   },\n                   unstickCallback = function(e) {\n                       that.trigger(COLUMNUNSTICK, { column: e.column });\n                   },\n                   sortHandler = function(e) {\n                       if (that.trigger(\"sort\", { sort: e.sort })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   },\n                   filterHandler = function(e) {\n                       if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   };\n\n               if (columnMenu) {\n                   if (typeof columnMenu == \"boolean\") {\n                       columnMenu = {};\n                   }\n\n                   that._setColumnsMediaVisibility(columns);\n\n                   cells = leafDataCells(that.thead);\n\n                   for (var idx = 0, length = cells.length; idx < length; idx++) {\n                       column = columns[idx];\n                       var cell = cells.eq(idx);\n\n                       if (column.columnMenu !== false && !column.command && (column.field || cell.attr(\"data-\" + kendo.ns + \"field\"))) {\n                           menu = cell.data(\"kendoColumnMenu\");\n                           if (menu) {\n                               menu.destroy();\n                           }\n\n                           sortable = column.sortable !== false && columnMenu.sortable !== false && options.sortable !== false ? extend({}, options.sortable, {\n                               compare: (column.sortable || {}).compare\n                           }) : false;\n\n                           filterable = options.filterable && column.filterable !== false && columnMenu.filterable !== false ? extend(true, { pane: that.pane }, options.filterable, column.filterable) : false;\n\n                           if (column.filterable && column.filterable.dataSource) {\n                               filterable.forceUnique = false;\n                               filterable.checkSource = column.filterable.dataSource;\n                           }\n\n                           if (filterable) {\n                               filterable.format = column.format;\n                           }\n\n                           menuOptions = {\n                               dataSource: that.dataSource,\n                               values: column.values,\n                               columns: columnMenu.columns,\n                               sortable: sortable,\n                               filterable: filterable,\n                               messages: columnMenu.messages,\n                               owner: that,\n                               closeCallback: closeCallback,\n                               init: initCallback,\n                               open: openCallback,\n                               stick: stickCallback,\n                               unstick: unstickCallback,\n                               pane: that.pane,\n                               sort: sortHandler,\n                               filtering: filterHandler,\n                               filter: isMobile ? \":not(.k-column-active)\" : \"\",\n                               autoSize: columnMenu.autoSize,\n                               hasLockableColumns: lockedColumns(columns).length > 0 && hasLockableColumns && !hasMultiColumnHeaders,\n                               hasStickableColumns: hasStickableColumns && !hasMultiColumnHeaders,\n                               encodeTitles: that.options.encodeTitles,\n                               componentType: columnMenu.componentType,\n                               appendTo: DOT + classNames.headerCellInner,\n                               reorderable: options.reorderable === true || (options.reorderable && options.reorderable.columns),\n                               groupable: that.options.groupable && that.options.groupable.enabled !== false && column.groupable !== false\n                           };\n\n                           cell.kendoColumnMenu(menuOptions);\n                       }\n                   }\n               }\n           },\n\n           _headerCells: function() {\n               return $(this.thead).find(\"th\").filter(function() {\n                   var th = $(this);\n                   return !th.hasClass(\"k-group-cell\") && !th.hasClass(\"k-hierarchy-cell\");\n               });\n           },\n\n           _hasFilterMenu: function() {\n               var filterable = this.options.filterable;\n               if (filterable && typeof filterable.mode == STRING && filterable.mode.indexOf(\"menu\") == -1) {\n                   return false;\n               }\n\n               return filterable;\n           },\n\n           _filterable: function() {\n               var that = this,\n                   columns = leafColumns(that.columns),\n                   filterMenu,\n                   cells,\n                   cell,\n                   filterInit = function(e) {\n                       that.trigger(FILTERMENUINIT, { field: e.field, container: e.container });\n                   },\n                   closeCallback = function() {\n                       focusTable(that.table, true);\n                   },\n                   filterHandler = function(e) {\n                       if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   },\n                   filterOpen = function(e) {\n                       that.trigger(FILTERMENUOPEN, { field: e.field, container: e.container });\n                   },\n                   filterable = that._hasFilterMenu();\n\n               if (filterable && !that.options.columnMenu) {\n                   cells = leafDataCells(that.thead);//that._headerCells();\n\n                   for (var idx = 0, length = cells.length; idx < length; idx++) {\n                       cell = cells.eq(idx);\n\n                       if (columns[idx].filterable !== false && !columns[idx].command && (columns[idx].field || cell.attr(\"data-\" + kendo.ns + \"field\"))) {\n                           filterMenu = cell.data(\"kendoFilterMenu\");\n\n                           if (filterMenu) {\n                               filterMenu.destroy();\n                           }\n\n                           filterMenu = cell.data(\"kendoFilterMultiCheck\");\n                           if (filterMenu) {\n                              filterMenu.destroy();\n                           }\n\n                           var columnFilterable = columns[idx].filterable;\n\n                           var options = extend({},\n                               filterable,\n                               columnFilterable,\n                               {\n                                   dataSource: that.dataSource,\n                                   values: columns[idx].values,\n                                   format: columns[idx].format,\n                                   closeCallback: closeCallback,\n                                   title: columns[idx].title || columns[idx].field,\n                                   init: filterInit,\n                                   open: filterOpen,\n                                   pane: that.pane,\n                                   change: filterHandler,\n                                   appendTo: DOT + classNames.headerCellInner\n                               }\n                           );\n\n                           if (columnFilterable && columnFilterable.messages) {\n                               options.messages = extend(true, {}, filterable.messages, columnFilterable.messages);\n                           }\n                           if (columnFilterable && columnFilterable.dataSource) {\n                               options.forceUnique = false;\n                               options.checkSource = columnFilterable.dataSource;\n                           }\n\n                           if (columnFilterable && columnFilterable.multi) {\n                               cell.kendoFilterMultiCheck(options);\n                           } else {\n                               cell.kendoFilterMenu(options);\n                           }\n                       }\n                   }\n               }\n           },\n\n           _filterRow: function() {\n               var that = this;\n               if (!that._hasFilterRow()) {\n                  return;\n               }\n\n               var settings;\n               var columns = leafColumns(that.columns),\n                   filterable = that.options.filterable,\n                   rowheader = that.thead.find(\".k-filter-row\"),\n                   filterHandler = function(e) {\n                       if (that.trigger(\"filter\", { filter: e.filter, field: e.field })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                           if (that.dataSource.options.endless) {\n                               that._resetEndless();\n                           }\n                       }\n                   };\n\n\n               this._updateHeader(that._groups());\n\n               for (var i = 0; i < columns.length; i++) {\n                   var suggestDataSource,\n                       col = columns[i],\n                       operators = that.options.filterable.operators,\n                       customDataSource = false,\n                       td = $(\"<td class='k-table-td' title='\" + that.options.messages.filterCellTitle + \"'/>\"),\n                       field = col.field;\n\n                   if (col.hidden) {\n                       td.hide();\n                   }\n                   rowheader.append(td);\n                   if (field && col.filterable !== false) {\n                       var cellOptions = col.filterable && col.filterable.cell || {};\n\n                       suggestDataSource = that.options.dataSource;\n                       if (suggestDataSource instanceof DataSource) {\n                           suggestDataSource = that.options.dataSource.options;\n                       }\n\n                       var messages = extend(true, {}, filterable.messages);\n                       if (col.filterable) {\n                           extend(true, messages, col.filterable.messages);\n                       }\n\n                       if (cellOptions.enabled === false) {\n                           td.html(\"&nbsp;\");\n                           continue;\n                       }\n                       if (cellOptions.dataSource) {\n                           suggestDataSource = cellOptions.dataSource;\n                           customDataSource = true;\n                       }\n                       if (col.filterable && col.filterable.operators) {\n                           operators = col.filterable.operators;\n                       }\n\n                       settings = {\n                           column: col,\n                           dataSource: that.dataSource,\n                           suggestDataSource: suggestDataSource,\n                           customDataSource: customDataSource,\n                           field: field,\n                           messages: messages,\n                           size: that.options.size,\n                           values: col.values,\n                           template: cellOptions.template,\n                           delay: cellOptions.delay,\n                           inputWidth: cellOptions.inputWidth,\n                           suggestionOperator: cellOptions.suggestionOperator,\n                           minLength: cellOptions.minLength,\n                           dataTextField: cellOptions.dataTextField,\n                           operator: cellOptions.operator,\n                           operators: operators,\n                           showOperators: cellOptions.showOperators,\n                           change: filterHandler\n                       };\n\n                       $(\"<span/>\").attr(kendo.attr(\"field\"), field)\n                           .appendTo(td)\n                           .kendoFilterCell(settings);\n                   } else {\n                       td.html(\"&nbsp;\");\n                   }\n                   td.data(\"column\", col);\n               }\n\n               this._filterFocusable().attr(TABINDEX, -1);\n           },\n\n           _sortable: function() {\n               var that = this,\n                   columns = leafColumns(that.columns),\n                   column,\n                   sorterInstance,\n                   cell,\n                   sortable = that.options.sortable,\n                   sortHandler = function(e) {\n                       if (that.trigger(\"sort\", { sort: e.sort })) {\n                           e.preventDefault();\n                       } else {\n                           that._clearEditableState();\n                       }\n                   };\n\n\n               if (sortable) {\n                   var cells = leafDataCells(that.thead);\n\n                   for (var idx = 0, length = cells.length; idx < length; idx++) {\n                       column = columns[idx];\n\n                       if (column.sortable !== false && !column.command && column.field) {\n                           cell = cells.eq(idx);\n\n                           sorterInstance = cell.data(\"kendoColumnSorter\");\n\n                           if (sorterInstance) {\n                               sorterInstance.destroy();\n                           }\n\n                           cell.attr(\"data-\" + kendo.ns + \"field\", column.field)\n                               .kendoColumnSorter(\n                                   extend({}, sortable, column.sortable, {\n                                       dataSource: that.dataSource,\n                                       aria: true,\n                                       filter: \":not(.k-column-active)\",\n                                       change: sortHandler\n                                   })\n                               );\n                       }\n                   }\n                   cells = null;\n               }\n           },\n\n           _columns: function(columns) {\n               var that = this,\n                   table = that.table,\n                   encoded,\n                   cols = table.find(\"col\"),\n                   lockedCols,\n                   headerRows = that.element.find('thead tr'),\n                   dataSource = that.options.dataSource,\n                   draggableColumns;\n\n               // using HTML5 data attributes as a configuration option e.g. <th data-field=\"foo\">Foo</foo>\n               columns = columns.length ? columns : map(table.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\"), function(th, idx) {\n                   th = $(th);\n                   var sortable = th.attr(kendo.attr(\"sortable\")),\n                       filterable = th.attr(kendo.attr(\"filterable\")),\n                       type = th.attr(kendo.attr(\"type\")),\n                       groupable = th.attr(kendo.attr(\"groupable\")),\n                       field = th.attr(kendo.attr(\"field\")),\n                       title = th.attr(kendo.attr(\"title\")),\n                       columnMenu = th.attr(kendo.attr(\"column-menu\")),\n                       menu = th.attr(kendo.attr(\"menu\"));\n\n                   if (!field) {\n                      field = th.text().replace(/\\s|[^A-z0-9]/g, \"\");\n                   }\n\n                   return {\n                       field: field,\n                       type: type,\n                       title: title,\n                       sortable: sortable !== \"false\",\n                       filterable: filterable !== \"false\",\n                       groupable: groupable !== \"false\",\n                       menu: menu !== \"false\",\n                       columnMenu: columnMenu !== \"false\",\n                       template: th.attr(kendo.attr(\"template\")),\n                       width: cols.eq(idx).css(WIDTH)\n                   };\n               });\n\n               encoded = !(that.table.find(\"tbody tr\").length > 0 && (!dataSource || !dataSource.transport));\n\n               if (that.options.scrollable) {\n                   var initialColumns = columns;\n                   lockedCols = lockedColumns(columns);\n                   columns = nonLockedColumns(columns);\n\n                   if (lockedCols.length > 0 && columns.length === 0) {\n                       throw new Error(\"There should be at least one non locked column\");\n                   }\n\n                   normalizeHeaderCells(that.element.find(\"tr:has(th)\").first(), initialColumns);\n                   columns = lockedCols.concat(columns);\n               }\n\n               if (headerRows.length && columns.length) {\n                   that._updateColumnIDs(columns, headerRows.first());\n               }\n\n               that.columns = normalizeColumns(columns, encoded);\n\n               if ($.grep(leafColumns(that.columns), function(col) { return col.selectable;}).length) {\n                   that._selectedIds = {};\n                   that._checkBoxSelection = true;\n                   that.wrapper.on(CLICK + NS, \"tbody > tr \" + CHECKBOXINPUT, that._checkboxClick.bind(that));\n                   that.wrapper.on(CLICK + NS, \"thead > tr \" + CHECKBOXINPUT, that._headerCheckboxClick.bind(that));\n               }\n\n               draggableColumns = $.grep(leafColumns(that.columns), function(col) { return col.draggable;});\n\n               if (draggableColumns.length) {\n                   that._hasDragHandleColumn = true;\n\n                   for (var i = 0; i < draggableColumns.length; i++) {\n                       draggableColumns[i].headerAttributes = $.extend({\n                           \"aria-label\": that.options.messages.dragHandleLabel\n                       }, draggableColumns[i].headerAttributes);\n                   }\n               }\n\n               that._foreignKeyBindings(that.columns);\n           },\n\n           _foreignKeyBindings: function(columns) {\n               var that = this;\n               var length = columns.length;\n               var column;\n\n               for (var i = 0; i < length; i++) {\n                   column = columns[i];\n\n                   if (column.dataSource) {\n                       that._fetchForeignKeyValues(column);\n                   }\n               }\n           },\n\n           _fetchForeignKeyValues: function(column) {\n               var that = this;\n               var promise = $.Deferred();\n\n               that._hasBoundForeignKey = true;\n               column.dataSource = DataSource.create(column.dataSource);\n\n               if (!that._foreignKeyPromises) {\n                   that._foreignKeyPromises = [];\n               }\n\n               that._foreignKeyPromises.push(promise);\n               column.dataSource.fetch().then(function() {\n                   var data = column.dataSource.data();\n                   column.values = data.map(function(item) {\n                       return {\n                           value: item[column.dataValueField],\n                           text: item[column.dataTextField]\n                       };\n                   });\n                   promise.resolve();\n               });\n\n           },\n\n           _updateColumnIDs: function(columns, tr) {\n\n               if (!columns.length) {\n                   return;\n               }\n\n               var ths = tr.find(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\");\n               var id;\n               for (var i = 0; i < columns.length; i++) {\n                   id = ths.eq(i).attr(ID);\n                   if (id) {\n                       columns[i].headerAttributes = extend(columns[i].headerAttributes, { id: id });\n                   }\n               }\n\n               this._updateColumnIDs(childColumns(columns), tr.next());\n           },\n\n           _headerCheckboxClick: function(e) {\n               var that = this,\n                   checkBox = $(e.target),\n                   checked = checkBox.prop(\"checked\");\n\n               if (!that._belongsToGrid(checkBox)) {\n                   return;\n               }\n\n               if (that.trigger(CHANGING, { target: checkBox, originalEvent: e })) {\n                   e.preventDefault();\n                   return;\n               }\n\n               if (checked) {\n                   that.select(that.items());\n               } else {\n                   that.clearSelection();\n               }\n\n               that._calculateAggregatesForSelected();\n               that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n           },\n\n           _checkboxClick: function(e) {\n               var that = this,\n                   row = $(e.target).closest(TR),\n                   isSelecting = !row.hasClass(SELECTED);\n\n               if (!that._belongsToGrid(row)) {\n                   return;\n               }\n\n               if (that.trigger(CHANGING, { target: row, originalEvent: e })) {\n                   e.preventDefault();\n                   return;\n               }\n\n               if (isSelecting) {\n                   that.select(row);\n               } else {\n                   that._deselectCheckRows(row);\n               }\n               that._calculateAggregatesForSelected();\n               that.trigger(CHANGE, { cellAggregates: that._cellAggregates });\n           },\n\n           _groups: function() {\n               var group = this.dataSource.group();\n\n               return group ? group.length : 0;\n           },\n\n           _tmpl: function(rowTemplate, columns, alt, skipGroupCells) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   idx,\n                   length = columns.length,\n                   template,\n                   state = { storage: {}, count: 0 },\n                   column,\n                   type,\n                   hasDetails = that._hasDetails(),\n                   groups = that._groups();\n\n               var fieldAttr = kendo.attr(\"field\");\n               var field;\n               var classAttribute;\n               var compiledAttributes;\n               let rowTemplateFunc;\n\n               if (!rowTemplate) {\n                   rowTemplateFunc = (data) => {\n                       var uid = length ? ` ${kendo.attr(\"uid\")}=\"${kendo.getter(\"uid\")(data)}\"` : '';\n                       var rowTemplateResult = `<tr class=\"${alt ? 'k-alt k-table-row k-table-alt-row ' : 'k-table-row '}k-master-row\"${uid}>`;\n\n                       if (groups > 0 && !skipGroupCells) {\n                           rowTemplateResult += groupCells(groups);\n                       }\n\n                       if (hasDetails) {\n                           rowTemplateResult += '<td class=\"k-hierarchy-cell k-table-td\" aria-expanded=\"false\">' + kendo.ui.icon($(`<a href=\"#\" ${ARIA_LABEL}=\"${EXPAND}\" tabindex=\"-1\"></a>`), { icon: `caret-alt-${isRtl ? \"left\" : \"right\"}` }) + '</td>';\n                       }\n\n                       for (idx = 0; idx < length; idx++) {\n                           column = columns[idx];\n                           template = column.template;\n                           type = typeof template;\n                           field = column.field;\n                           compiledAttributes = {};\n\n                           let dirtyCellTemplate;\n\n                           if (that._editMode() && field) {\n                               column.attributes = column.attributes || {};\n\n                               if (that.virtualScroll) {\n                                   column.attributes[fieldAttr] = field;\n                               }\n\n                               dirtyCellTemplate = that._dirtyCellTemplate(field)(data);\n                           }\n\n                           if (column.colSpan && column.colSpan > 0 && hasHiddenStyle(column.attributes)) { //virtual cell should be visible at all times\n                               column.attributes = removeHiddenStyle(column.attributes);\n                           } else if (!column.colSpan && column.hidden) {\n                               column.attributes = addHiddenStyle(column.attributes);\n                           }\n\n                           if (column.command) {\n                               column.attributes = column.attributes || {};\n                               classAttribute = column.attributes[\"class\"];\n\n                               if (typeof classAttribute !== \"undefined\") {\n                                   if (classAttribute.indexOf(\"k-command-cell\") < 0) {\n                                       column.attributes[\"class\"] += \" k-command-cell\";\n                                   }\n                               } else {\n                                   column.attributes[\"class\"] = \"k-command-cell\";\n                               }\n                           }\n\n                           if (column.draggable) {\n                               column.attributes = column.attributes || {};\n                               if (typeof column.attributes[\"class\"] !== \"undefined\") {\n                                   if (column.attributes[\"class\"].indexOf(\"k-drag-cell k-touch-action-none\") < 0) {\n                                       column.attributes[\"class\"] += \" k-drag-cell k-touch-action-none\";\n                                   }\n                               } else {\n                                   column.attributes[\"class\"] = \"k-drag-cell k-touch-action-none\";\n                               }\n\n                               if (typeof column.attributes[ARIA_LABEL] === \"undefined\") {\n                                   column.attributes[ARIA_LABEL] = that.options.messages.dragHandleLabel;\n                               }\n\n                               if (typeof column.attributes.style !== \"undefined\") {\n                                   if (column.attributes.style.indexOf(\"cursor: move;\") < 0) {\n                                       column.attributes.style += \" cursor: move;\";\n                                   }\n                               } else {\n                                   column.attributes.style = \"cursor: move;\";\n                               }\n                           }\n\n                           if (column._attributesFunction) {\n                               compiledAttributes = column._attributesFunction(data);\n                           }\n\n                           let attributes = extend({}, column.attributes, compiledAttributes);\n                           if (dirtyCellTemplate) {\n                               attributes[\"class\"] = (attributes[\"class\"] || \"\");\n                               attributes[\"class\"] += dirtyCellTemplate;\n                           }\n                           let columnAttributes = stringifyAttributes(attributes);\n                           let colSpanAttributes = '';\n\n                           if (column.colSpan) {\n                               if (column.colSpan > 1) {\n                                   colSpanAttributes += \" \" + kendo.attr(\"virtual\");\n                               }\n                               colSpanAttributes += ` colSpan=\"${column.colSpan}\"`;\n                           }\n                           rowTemplateResult += decorateCellWithClass(`<td${columnAttributes}${colSpanAttributes}>`);\n                           rowTemplateResult += column.selectable ? kendo.template(SELECTCOLUMNTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size) }) : that._cellTmpl(column, state)(data);\n                           rowTemplateResult += \"</td>\";\n                       }\n\n                       rowTemplateResult += \"</tr>\";\n                       return rowTemplateResult;\n                   };\n               }\n\n               rowTemplate = kendo.template(rowTemplate || rowTemplateFunc, settings);\n\n               if (state.count > 0) {\n                   return rowTemplate.bind(state.storage);\n               }\n\n               return rowTemplate;\n           },\n\n           _dirtyCellTemplate: function(field) {\n               return (data) => {\n                   if (field && data && data.dirty && data.dirtyFields) {\n                       let dirtyField = field.charAt(0) === \"[\" ? kendo.getter(field)(data.dirtyFields) : data.dirtyFields[field];\n                       return dirtyField ? ' k-dirty-cell' : '';\n                   }\n\n                   return \"\";\n               };\n           },\n\n           _headerCellText: function(column) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   template = column.headerTemplate,\n                   type = typeof(template),\n                   text = column.title && (that.options.encodeTitles ? htmlEncode(column.title) : column.title) || htmlEncode(column.field || \"\");\n\n               if (type === FUNCTION) {\n                   text = kendo.template(template, settings)({});\n               } else if (type === STRING) {\n                   text = template;\n               }\n               return text;\n           },\n\n           _cellTmpl: function(column, state) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   template = column.template,\n                   field = column.field,\n                   // html = \"\",\n                   idx,\n                   length,\n                   format = column.format,\n                   type = typeof template,\n                   columnValues = column.values;\n\n               if (column.command) {\n                   if (isArray(column.command)) {\n                       return (data) => {\n                           let html = \"\";\n                           for (idx = 0, length = column.command.length; idx < length; idx++) {\n                               if (column.command[idx].visible) {\n                                   html += column.command[idx].visible(data) ? that._createButton(column.command[idx]) : '';\n                               } else {\n                                   html += that._createButton(column.command[idx]);\n                               }\n                           }\n                           return html;\n                       };\n                   }\n                   return () => that._createButton(column.command);\n               }\n\n               if (column.selectable) {\n                   return SELECTCOLUMNTMPL;\n               }\n\n               if (column.draggable) {\n                   return DRAGHANDLECOLUMNTMPL;\n               }\n\n               return (data) => {\n                   let html = that._dirtyIndicatorTemplate(field)(data);\n\n                   if (type === FUNCTION) {\n                       state.storage[\"tmpl\" + state.count] = template;\n                       html += template(data);\n                       state.count++;\n                   } else if (type === STRING) {\n                       html += kendo.template(template, settings)(data);\n                   } else if (columnValues && columnValues.length && isPlainObject(columnValues[0]) && \"value\" in columnValues[0] && field) {\n                       var v = convertToObject(columnValues);\n                       var f = v[settings.useWithBlock ? kendo.getter(field)(data) : field];\n                       html += encode(f != null ? f : '');\n                   } else {\n                       let fieldValue = '';\n                       if (field) {\n                           field = kendo.getter(field)(data);\n                           fieldValue = field == null ? '' : field;\n                       }\n\n                       if (format) {\n                           fieldValue = kendo.format(format.replace(formatRegExp, \"$1\"), fieldValue);\n                       }\n\n                       html += column.encoded ? encode(fieldValue) : fieldValue;\n                   }\n\n                   return html;\n               };\n           },\n\n           _dirtyIndicatorTemplate: function(field) {\n               return (data) => {\n                   if (field && data && data.dirty && data.dirtyFields) {\n                       let dirtyField = field.charAt(0) === \"[\" ? kendo.getter(field)(data.dirtyFields) : data.dirtyFields[field];\n                       return dirtyField ? '<span class=\\\"k-dirty\\\"></span>' : '';\n                   }\n\n                   return \"\";\n               };\n           },\n\n           _virtualCols: function(columns) {\n               var that = this;\n               var widths = $.map(columns, function(c) { return c.hidden ? 0 : parseInt(c.width, 10); });\n               var scrollLeft = that.virtualScrollable ? kendo.scrollLeft(that.content.find(\">.k-virtual-scrollable-wrap\")) : kendo.scrollLeft(that.content);\n               var tableWidth = outerWidth(that.content);\n               var sumOfWidths = sumWidths(columns);\n               var colsToRender = [];\n               var firstColspan = 0;\n               var lastColspan = 0;\n               var hiddenColumns = 0;\n               var idx = 0;\n               var widthOfHiddenColumns = 0;\n               var considerNext;\n\n               for (idx = 0; idx < columns.length; idx++) {\n                   considerNext = (idx < widths.length - 1) ? widths[idx + 1] : 0;\n                   if (widthOfHiddenColumns + widths[idx] + 2 * considerNext < scrollLeft) {\n                       if (widths[idx]) {\n                           hiddenColumns++;\n                       }\n                       widthOfHiddenColumns += widths[idx];\n                   } else {\n                       firstColspan = 1 + hiddenColumns;\n                       break;\n                   }\n               }\n\n               hiddenColumns = 0;\n               widthOfHiddenColumns = 0;\n\n               for (var i = columns.length - 1; i >= 0; i--) {\n                   if (widthOfHiddenColumns + 3 * widths[i] < sumOfWidths - tableWidth - scrollLeft) {\n                       if (widths[i]) {\n                           hiddenColumns++;\n                       }\n                       widthOfHiddenColumns += widths[i];\n                   } else {\n                       lastColspan = 1 + hiddenColumns;\n                       for (var j = idx; j <= i; j++) {\n                           if (columns[j].locked) {\n                               continue;\n                           }\n                           colsToRender.push(columns[j]);\n                           if (columns[j].colSpan) {\n                               delete columns[j].colSpan;\n                           }\n                       }\n                       colsToRender[0].colSpan = firstColspan;\n                       colsToRender[colsToRender.length - 1].colSpan = lastColspan;\n                       break;\n                   }\n               }\n\n               if (colsToRender[0].hidden) {\n                   colsToRender[0].colSpan--;\n               }\n\n               that.virtualCols = colsToRender;\n\n               return colsToRender;\n           },\n\n           _templates: function() {\n               var that = this,\n                   options = that.options,\n                   dataSource = that.dataSource,\n                   groups = dataSource.group(),\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                   aggregates = dataSource.aggregate(),\n                   columnLeafs = leafColumns(that.columns),\n                   columnsLocked = leafColumns(lockedColumns(that.columns)),\n                   leafsCols = options.scrollable ? leafColumns(nonLockedColumns(that.columns)) : columnLeafs,\n                   columns = (that.virtualScroll || {}).columns ? that._virtualCols(leafsCols) : leafsCols,\n                   groupHeaderColumnTemplateLockedColumns = grep(visibleColumns(columnsLocked), function(column, index) { return column.groupHeaderColumnTemplate && index !== 0; }),\n                   groupHeaderColumnTemplateNonLockedColumns = grep(visibleColumns(columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n               if (options.scrollable && columnsLocked.length) {\n                   if (options.rowTemplate || options.altRowTemplate) {\n                       throw new Error(\"Having both row template and locked columns is not supported\");\n                   }\n\n                   that.rowTemplate = that._tmpl(options.rowTemplate, columns, false, true);\n                   that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true, true);\n\n                   that.lockedRowTemplate = that._tmpl(options.rowTemplate, columnsLocked);\n                   that.lockedAltRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columnsLocked, true);\n               } else {\n                   that.rowTemplate = that._tmpl(options.rowTemplate, columns);\n                   that.altRowTemplate = that._tmpl(options.altRowTemplate || options.rowTemplate, columns, true);\n               }\n\n               if (that._hasDetails()) {\n                   that.detailTemplate = that._detailTmpl(options.detailTemplate || (() => \"\"));\n               }\n\n               if ((that._group && !isEmptyObject(aggregates)) || (!isEmptyObject(aggregates) && !footer.length) ||\n                   grep(columnLeafs, function(column) { return column.footerTemplate; }).length) {\n\n                   that.footerTemplate = that._footerTmpl(columnLeafs, aggregates, \"footerTemplate\", \"k-footer-template k-table-row\");\n               }\n\n               if (groups && grep(columnLeafs, function(column) { return column.groupFooterTemplate; }).length) {\n                   aggregates = $.map(groups, function(g) { return g.aggregates; });\n\n                   that.groupFooterTemplate = that._footerTmpl(columns, aggregates, \"groupFooterTemplate\", \"k-group-footer k-table-row\", columnsLocked.length);\n\n                   if (options.scrollable && columnsLocked.length) {\n                       that.lockedGroupFooterTemplate = that._footerTmpl(columnsLocked, aggregates, \"groupFooterTemplate\", \"k-group-footer k-table-row\");\n                   }\n               }\n\n               if (groups && (groupHeaderColumnTemplateLockedColumns.length || groupHeaderColumnTemplateNonLockedColumns.length)) {\n                   aggregates = $.map(groups, function(g) { return g.aggregates; });\n\n                   that.groupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columns), aggregates, \"groupHeaderColumnTemplate\", \"k-table-group-row k-grouping-row k-table-row\", columnsLocked.length, groupHeaderColumnTemplateNonLockedColumns);\n\n                   if (options.scrollable && columnsLocked.length) {\n                       that.lockedGroupHeaderColumnTemplate = that._groupHeaderTmpl(visibleColumns(columnsLocked), aggregates, \"groupHeaderColumnTemplate\", \"k-table-group-row k-grouping-row k-table-row\", 0, groupHeaderColumnTemplateLockedColumns);\n                   }\n               } else {\n                   that.groupHeaderColumnTemplate = null;\n                   that.lockedGroupHeaderColumnTemplate = null;\n               }\n\n               if (that.options.noRecords) {\n                   that.noRecordsTemplate = that._noRecordsTmpl();\n               }\n           },\n\n           _noRecordsTmpl: function() {\n               var wrapper = '<div class=\"{0}\">{1}</div>';\n               var defaultTemplate = '<div class=\"k-grid-norecords-template\"{1}>{0}</div>';\n               var scrollableNoGridHeightStyles = (this.options.scrollable && !this.wrapper[0].style.height) ? ` ${kendo.attr(\"style-margin\")}=\"0 auto\" ${kendo.attr(\"style-position\")}=\"static\"` : '';\n               var state = { storage: {}, count: 0 };\n               var settings = $.extend({}, kendo.Template, this.options.templateSettings);\n               var paramName = settings.paramName;\n               var template;\n               // var html = \"\";\n               var type;\n               var tmpl;\n               let resultTemplate;\n\n               if (this.options.noRecords.template) {\n                   template = this.options.noRecords.template;\n               } else {\n                   template = kendo.format(defaultTemplate, this.options.messages.noRecords, scrollableNoGridHeightStyles);\n               }\n\n               type = typeof template;\n               if (type === \"function\") {\n                   let currentCustomTemplate = state.storage[\"tmpl\" + state.count] = template;\n                   state.count++;\n                   resultTemplate = (data) => kendo.format(wrapper, NORECORDSCLASS, currentCustomTemplate(data));\n\n               } else if (type === \"string\") {\n                   resultTemplate = this.options.noRecords.template ?\n                       kendo.format(wrapper, NORECORDSCLASS, template)\n                       : () => kendo.format(wrapper, NORECORDSCLASS, template);\n               }\n\n               tmpl = kendo.template(resultTemplate, settings);\n\n               if (state.count > 0) {\n                   tmpl = tmpl.bind(state.storage);\n               }\n\n               return tmpl;\n           },\n\n           _footerTmpl: function(columns, aggregates, templateName, rowClass, skipGroupCells) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   // html = \"\",\n                   idx,\n                   length,\n                   template,\n                   type,\n                   storage = {},\n                   count = 0,\n                   scope = {},\n                   groups = that._groups(),\n                   fieldsMap = that.dataSource._emptyAggregates(aggregates),\n                   column;\n\n               let footerTemplateFunction = (data) => {\n                   let html = '<tr class=\"' + rowClass + '\">';\n\n                   if (groups > 0 && !skipGroupCells) {\n                       html += groupCells(groups);\n                   }\n\n                   if (that._hasDetails()) {\n                       html += '<td class=\"k-hierarchy-cell k-table-td\">&nbsp;</td>';\n                   }\n\n                   for (idx = 0, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       template = column[templateName];\n                       type = typeof template;\n\n                       html += decorateCellWithClass(\"<td\" + stringifyAttributes(column.footerAttributes) + \">\");\n\n                       if (template) {\n                           if (type !== FUNCTION) {\n                               scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                               template = kendo.template(template, scope);\n                           }\n\n                           storage[\"tmpl\" + count] = template;\n                           html += template(data);\n                           count++;\n                       } else {\n                           html += \"&nbsp;\";\n                       }\n\n                       html += \"</td>\";\n                   }\n\n                   html += '</tr>';\n                   return html;\n               };\n\n               let resultTemplate = kendo.template(footerTemplateFunction, settings);\n\n               if (count > 0) {\n                   return resultTemplate.bind(storage);\n               }\n\n               return resultTemplate;\n           },\n\n           _groupHeaderTmpl: function(columns, aggregates, templateName, rowClass, skipGroupCells, groupHeaderColumnTemplateColumns) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   html = \"\",\n                   idx,\n                   length,\n                   template,\n                   type,\n                   storage = {},\n                   count = 0,\n                   scope = {},\n                   fieldsMap = that.dataSource._emptyAggregates(aggregates),\n                   column,\n                   headerTemplateIndex = groupHeaderColumnTemplateColumns.length ? inArray(groupHeaderColumnTemplateColumns[0], columns) : -1,\n                   groupHeaderColumnTemplateClass;\n\n               if (headerTemplateIndex < 0) {\n                   return;\n               }\n               var groupHeaderTemplFunc = (data) => {\n                   var resultHtml = '<tr data-group-uid=\"' + data.uid + '\" class=\"' + rowClass + '\">';\n\n                   if (!skipGroupCells) {\n                       for (var i = 0; i < data.groupCells; i++) {\n                           resultHtml += '<td class=\"k-table-td k-group-cell\">&nbsp;</td>';\n                       }\n                   }\n\n                   if (that._hasDetails()) {\n                       resultHtml += '<td class=\"k-table-td k-hierarchy-cell\">&nbsp;</td>';\n                   }\n\n                   if (headerTemplateIndex < MINCOLSPANVALUE && groupHeaderColumnTemplateColumns.length <= 1 && !skipGroupCells) {\n                       resultHtml += !skipGroupCells ? groupCellBuilder(columns.length)(data) : '';\n                       return resultHtml;\n                       // return kendo.template(resultHtml, settings);\n                   }\n\n                   if (headerTemplateIndex < MINCOLSPANVALUE) {\n                       headerTemplateIndex = !skipGroupCells ? 1 : 0;\n                       resultHtml += !skipGroupCells ? groupCellBuilder(headerTemplateIndex)(data) : '';\n                   }\n                   else {\n                       resultHtml += !skipGroupCells ? groupCellBuilder(headerTemplateIndex)(data) : groupCellLockedContentBuilder(headerTemplateIndex);\n                   }\n\n                   for (idx = headerTemplateIndex, length = columns.length; idx < length; idx++) {\n                       column = columns[idx];\n                       template = column[templateName];\n                       type = typeof template;\n\n                       if (column.sticky) {\n                           let stickyAttributes = '';\n                           groupHeaderColumnTemplateClass = (column.groupHeaderColumnTemplateClass || '');\n\n                           if (!groupHeaderColumnTemplateClass) {\n                               groupHeaderColumnTemplateClass = column.groupHeaderColumnTemplateClass = \"group-header-column-template-\" + kendo.guid();\n                           }\n\n                           if (isPlainObject(column.stickyStyle)) {\n                               let stickyLeft = column.stickyStyle.left ? `${kendo.attr(\"style-left\")}=\"${column.stickyStyle.left}\"` : '';\n                               let stickyRight = column.stickyStyle.right ? `${kendo.attr(\"style-right\")}=\"${column.stickyStyle.right}\"` : '';\n                               stickyAttributes = `${stickyLeft} ${stickyRight}`;\n                           }\n\n                           resultHtml += `<td class=\"k-table-td ${STICKY_CELL_CLASS} ${groupHeaderColumnTemplateClass}\" ${stickyAttributes}>`;\n                       } else {\n                           resultHtml += \"<td class='k-table-td'>\";\n                       }\n\n                       if (template) {\n                           if (type !== FUNCTION) {\n                               scope = fieldsMap[column.field] ? extend({}, settings, { paramName: paramName + \"['\" + column.field + \"']\" }) : {};\n                               template = kendo.template(template, scope);\n                           }\n\n                           storage[\"tmpl\" + count] = template;\n                           resultHtml += storage[\"tmpl\" + count](data);\n                           count++;\n                       } else {\n                           resultHtml += \"&nbsp;\";\n                       }\n\n                       resultHtml += \"</td>\";\n                   }\n\n                   resultHtml += '</tr>';\n\n                   return resultHtml;\n               };\n\n               html = kendo.template(groupHeaderTemplFunc, settings);\n\n               if (count > 0) {\n                   return html.bind(storage);\n               }\n\n               return html;\n           },\n\n           _detailTmpl: function(template) {\n               var that = this,\n                   settings = extend({}, kendo.Template, that.options.templateSettings),\n                   paramName = settings.paramName,\n                   templateFunctionStorage = {},\n                   templateFunctionCount = 0,\n                   groups = that._groups(),\n                   colspan = visibleColumns(leafColumns(that.columns)).length,\n                   type = typeof template;\n\n               let detailTemplateFunction = (data) => {\n                   let html = '<tr role=\"row\" class=\"k-detail-row k-table-row\">';\n                   if (groups > 0) {\n                       html += groupCells(groups);\n                   }\n\n                   html += `<td role=\"gridcell\" class=\"k-hierarchy-cell k-table-td\"></td><td role=\"gridcell\" class=\"k-table-td k-detail-cell\"${colspan ? ` colspan=\"${colspan}\"` : ''}>`;\n                   if (type === FUNCTION) {\n                       templateFunctionStorage[\"tmpl\" + templateFunctionCount] = template;\n                       html += template(data);\n                       templateFunctionCount++;\n                   } else {\n                       html += kendo.template(template, settings)(data);\n                   }\n\n                   html += \"</td></tr>\";\n                   return html;\n               };\n\n               let resultTemplate = kendo.template(detailTemplateFunction, settings);\n\n               if (templateFunctionCount > 0) {\n                   return resultTemplate.bind(templateFunctionStorage);\n               }\n\n               return resultTemplate;\n           },\n\n           _hasDetails: function() {\n               var that = this;\n\n               return that.options.detailTemplate !== null || (that._events[DETAILINIT] || []).length;\n           },\n           _hasFilterRow: function() {\n               var filterable = this.options.filterable;\n               var hasFiltering = filterable &&\n                       typeof filterable.mode == STRING &&\n                       filterable.mode.indexOf(ROW) != -1;\n               var columns = this.columns;\n               var columnsWithoutFiltering = $.grep(columns, function(col) {\n                   return col.filterable === false;\n               });\n\n               if (columns.length && columnsWithoutFiltering.length == columns.length) {\n                   hasFiltering = false;\n               }\n\n               return hasFiltering;\n           },\n\n           _details: function() {\n               var that = this;\n\n               if (that.options.scrollable && that._hasDetails() && lockedColumns(that.columns).length) {\n                   throw new Error(\"Having both detail template and locked columns is not supported\");\n               }\n\n               that.table.on(CLICK + NS, \".k-hierarchy-cell \" + CARET_ALT_RIGHT + \", .k-hierarchy-cell \" + CARET_ALT_DOWN, function(e) {\n                   var button = $(this);\n\n                   that._toggleDetails(button);\n                   e.preventDefault();\n                   return false;\n               });\n           },\n\n           _toggleDetails: function(button, omitAnimation) {\n               var that = this,\n               cell = button.closest(\"td.k-hierarchy-cell\"),\n               expanding = button.is(CARET_ALT_RIGHT),\n               masterRow = button.closest(\"tr.k-master-row\"),\n               masterRowIndex = masterRow.attr(ARIA_ROWINDEX),\n               detailRow,\n               detailTemplate = that.detailTemplate,\n               data,\n               hasDetails = that._hasDetails(),\n               ariaLabelText = expanding ? COLLAPSE : EXPAND,\n               ariaExpandText = expanding ? true : false;\n\n               if (!expanding) {\n                   kendo.ui.icon(button, { icon: `caret-alt-${isRtl ? 'left' : 'right'}` });\n               } else {\n                   kendo.ui.icon(button, { icon: \"caret-alt-down\" });\n               }\n\n               button.attr(ARIA_LABEL, ariaLabelText);\n\n               cell.attr(ARIA_EXPANDED, ariaExpandText);\n\n               detailRow = masterRow.next();\n\n               if (detailRow.hasClass(\"k-hidden\")) {\n                   detailRow.removeClass(\"k-hidden\");\n               }\n\n               if (hasDetails && !detailRow.hasClass(\"k-detail-row\")) {\n                   data = that.dataItem(masterRow);\n\n                   detailRow = $(detailTemplate(data))\n                       .addClass(masterRow.hasClass(\"k-alt\") ? \"k-alt\" : \"\")\n                       .insertAfter(masterRow);\n\n                   if (masterRowIndex || masterRowIndex === 0) {\n                       detailRow.attr(ARIA_ROWINDEX, Number(masterRowIndex) + 1);\n                   }\n\n                   that.trigger(DETAILINIT, { masterRow: masterRow, detailRow: detailRow, data: data, detailCell: detailRow.find(\".k-detail-cell\") });\n               }\n\n               that.trigger(expanding ? DETAILEXPAND : DETAILCOLLAPSE, { masterRow: masterRow, detailRow: detailRow });\n\n               if (omitAnimation) {\n                   toggleRow(detailRow, expanding);\n               } else {\n                   detailRow.toggle(expanding);\n               }\n           },\n\n           dataItem: function(tr) {\n               tr = $(tr)[0];\n               if (!tr) {\n                   return null;\n               }\n\n               var rows = this.tbody.children(),\n                   classesRegEx = /k-grouping-row|k-detail-row|k-group-footer/,\n                   idx = tr.sectionRowIndex,\n                   j, correctIdx;\n\n               correctIdx = idx;\n\n               for (j = 0; j < idx; j++) {\n                   if (classesRegEx.test(rows[j].className)) {\n                       correctIdx--;\n                   }\n               }\n\n               return this._data[correctIdx];\n           },\n\n           expandRow: function(tr, omitAnimation) {\n               var button = $(tr).find('> td ' + CARET_ALT_RIGHT);\n\n               if (button.length) {\n                   this._toggleDetails(button, omitAnimation);\n               }\n           },\n\n           collapseRow: function(tr, omitAnimation) {\n               var button = $(tr).find('> td ' + CARET_ALT_DOWN);\n\n               if (button.length) {\n                   this._toggleDetails(button, omitAnimation);\n               }\n           },\n\n           _createHeaderCells: function(columns, rowSpan) {\n               var that = this,\n                   idx,\n                   th,\n                   text,\n                   html = \"\",\n                   length,\n                   title,\n                   columnMenu = that.options.columnMenu,\n                   sortable = that.options.sortable,\n                   filterable = that._hasFilterMenu(),\n                   messages = that.options.messages,\n                   leafs = leafColumns(that.columns),\n                   groups = that.dataSource.group(),\n                   field;\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   th = columns[idx].column || columns[idx];\n                   text = that._headerCellText(th);\n                   title = th.title;\n                   field = \"\";\n\n                   let index = inArray(th, leafs);\n                   let currentTh = \"\";\n\n                   if (th.selectable) {\n                       currentTh += \"<th scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n                       text = th.headerTemplate ? text : kendo.template(SELECTCOLUMNHEADERTMPL)({ size: kendo.getValidCssClass(\"k-checkbox-\", \"size\", that.options.size) });\n                       currentTh += \">\" + text + \"</th>\";\n                   } else if (th.draggable) {\n                       currentTh += \"<th class='k-header k-drag-cell' scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n                       text = th.headerTemplate ? text : \"\";\n                       currentTh += \">\" + text + \"</th>\";\n                   } else if (th.command) {\n                       currentTh += \"<th scope='col'\" + stringifyAttributes(th.headerAttributes);\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n\n                       currentTh += \">\" + ((!text || text === \"&nbsp;\") ? text : kendo.template(DEFAULTHEADERTEMPLATE)({ text: text })) + \"</th>\";\n                   } else {\n                       if (th.field) {\n                           field = kendo.attr(\"field\") + \"='\" + th.field + \"' \";\n                       }\n\n                       currentTh += \"<th scope='col' \" + field;\n                       if ((columnMenu && th.field && th.menu !== false)) {\n                           currentTh += \" aria-haspopup='menu'\";\n                       } else if (filterable && th.filterable !== false && !th.command) {\n                           currentTh += \" aria-haspopup='dialog'\";\n                       }\n\n                       if (rowSpan && !columns[idx].colSpan) {\n                           currentTh += \" rowspan='\" + rowSpan + \"'\";\n                       }\n\n                       if (columns[idx].colSpan > 1) {\n                           currentTh += 'colspan=\"' + (columns[idx].colSpan - hiddenLeafColumnsCount(th.columns)) + '\" ';\n                           currentTh += kendo.attr(\"colspan\") + \"='\" + columns[idx].colSpan + \"'\";\n                       } else if (columns[idx].colSpan === 1) {\n                           currentTh += kendo.attr(\"colspan\") + \"='\" + columns[idx].colSpan + \"'\";\n                       }\n\n                       if (title) {\n                           title = title && (that.options.encodeTitles ? htmlEncode(title, true) : title);\n                           currentTh += kendo.attr(\"title\") + '=\"' + title + '\" ';\n                       }\n\n                       if (th.groupable !== undefined$1) {\n                           currentTh += kendo.attr(\"groupable\") + \"='\" + th.groupable + \"' \";\n                       }\n\n                       if (isColumnGroupable(that, th) && (!th.headerAttributes || !th.headerAttributes.title)) {\n                           currentTh += \"title='\";\n                           currentTh += isGroupedBy(groups, th.field) ? messages.ungroupHeader : messages.groupHeader;\n                           currentTh += \"' \";\n                       }\n\n                       if (th.aggregates && th.aggregates.length) {\n                           currentTh += kendo.attr(\"aggregates\") + \"='\" + th.aggregates + \"'\";\n                       }\n\n                       if (index > -1) {\n                           currentTh += kendo.attr(\"index\") + \"='\" + index + \"'\";\n                       }\n\n                       currentTh += stringifyAttributes(th.headerAttributes);\n\n                       text = kendo.template(DEFAULTHEADERTEMPLATE)({ text: text });\n\n                       currentTh += \">\" + text + \"</th>\";\n                   }\n                   if (that.options.resizable) {\n                       html += $(currentTh).attr(\"data-resizable\", (th.resizable !== false).toString()).addClass(\"k-table-th\")[0].outerHTML;\n                   } else {\n                       html += $(currentTh).addClass(\"k-table-th\")[0].outerHTML;\n                   }\n               }\n               return html;\n           },\n\n           _appendLockedColumnContent: function() {\n               var columns = this.columns,\n                   idx,\n                   colgroup = this.table.find(\"colgroup\"),\n                   cols = colgroup.find(COLGROUP),\n                   length,\n                   lockedCols = $(),\n                   skipHiddenCount = 0,\n                   container,\n                   colSpan,\n                   spanIdx,\n                   colOffset = 0;\n\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   if (columns[idx].locked) {\n\n                       if (isVisible(columns[idx])) {\n                           colSpan = 1;\n\n                           if (columns[idx].columns) {\n                               colSpan = leafColumns(columns[idx].columns).length - hiddenLeafColumnsCount(columns[idx].columns);\n                           }\n\n                           colSpan = colSpan || 1;\n                           for (spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                               lockedCols = lockedCols.add(cols.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                           }\n                           colOffset += colSpan - 1;\n                       } else {\n                           skipHiddenCount ++;\n                       }\n                   }\n               }\n\n               container = $('<div class=\"k-grid-content-locked\"><table class=\"k-grid-table k-table\"><colgroup></colgroup><tbody class=\"k-table-tbody\"></tbody></table></div>');\n               // detach is required for IE8, otherwise it switches to compatibility mode\n               colgroup.detach();\n               container.find(\"colgroup\").append(lockedCols);\n               colgroup.insertBefore(this.table.find(\"tbody\"));\n\n               this.lockedContent = container.insertBefore(this.content);\n               this.lockedTable = container.children(\"table\");\n               this.lockedTable.addClass(kendo.getValidCssClass(\"k-table-\", \"size\", this.options.size));\n           },\n\n           _appendLockedColumnFooter: function() {\n               var that = this;\n               var footer = that.footer;\n               var cells = footer.find(\".k-footer-template>td\");\n               var cols = footer.find(\".k-grid-footer-wrap>table>colgroup>col\");\n               var html = $('<div class=\"k-grid-footer-locked\"><table class=\"k-grid-footer-table k-table\"><colgroup></colgroup><tfoot class=\"k-table-tfoot\"><tr class=\"k-footer-template k-table-row\"></tr></tfoot></table></div>');\n               var idx, length;\n               var groups = that._groups();\n               var lockedCells = $(), lockedCols = $();\n\n               html.find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", this.options.size));\n\n               lockedCells = lockedCells.add(cells.filter(\".k-group-cell\"));\n               for (idx = 0, length = leafColumns(lockedColumns(that.columns)).length; idx < length; idx++) {\n                   lockedCells = lockedCells.add(cells.eq(idx + groups));\n               }\n\n               lockedCols = lockedCols.add(cols.filter(\".k-group-col\"));\n               for (idx = 0, length = visibleColumns(leafColumns(visibleLockedColumns(that.columns))).length; idx < length; idx++) {\n                   lockedCols = lockedCols.add(cols.eq(idx + groups));\n               }\n\n               lockedCells.appendTo(html.find(TR));\n               lockedCols.appendTo(html.find(\"colgroup\"));\n               that.lockedFooter = html.prependTo(footer);\n           },\n\n           _appendLockedColumnHeader: function(container) {\n               var that = this,\n                   columns = this.columns,\n                   idx,\n                   html,\n                   length,\n                   colgroup,\n                   tr,\n                   trFilter,\n                   table,\n                   header,\n                   filtercellCells,\n                   rows = [],\n                   skipHiddenCount = 0,\n                   cols = $(),\n                   hasFilterRow = that._hasFilterRow(),\n                   filterCellOffset = 0,\n                   filterCells = $(),\n                   cell,\n                   leafColumnsCount = 0,\n                   cells = $();\n\n               colgroup = that.thead.prev().find(COLGROUP);\n               header = that.thead.find(TR).first().find(\".k-header:not(.k-group-cell,.k-hierarchy-cell)\");\n               filtercellCells = that.thead.find(\".k-filter-row\").find(\"td:not(.k-group-cell,.k-hierarchy-cell)\");\n\n               var colOffset = 0;\n               for (idx = 0, length = columns.length; idx < length; idx++) {\n                   if (columns[idx].locked) {\n                       cell = header.eq(idx);\n                       leafColumnsCount = leafColumns(columns[idx].columns || []).length;\n\n                       if (isVisible(columns[idx])) {\n                           var colSpan = null;\n\n                           if (columns[idx].columns) {\n                               colSpan = leafColumnsCount - hiddenLeafColumnsCount(columns[idx].columns);\n                           }\n\n                           colSpan = colSpan || 1;\n                           for (var spanIdx = 0; spanIdx < colSpan; spanIdx++) {\n                               cols = cols.add(colgroup.eq(idx + colOffset + spanIdx - skipHiddenCount));\n                           }\n                           colOffset += colSpan - 1;\n                       }\n\n                       mapColumnToCellRows([columns[idx]], childColumnsCells(cell), rows, 0, 0);\n\n                       leafColumnsCount = leafColumnsCount || 1;\n                       for (var j = 0; j < leafColumnsCount; j++) {\n                           filterCells = filterCells.add(filtercellCells.eq(filterCellOffset + j));\n                       }\n                       filterCellOffset += leafColumnsCount;\n                   }\n\n                   if (columns[idx].columns) {\n                       skipHiddenCount += hiddenLeafColumnsCount(columns[idx].columns);\n                   }\n\n                   if (!isVisible(columns[idx])) {\n                       skipHiddenCount++;\n                   }\n               }\n\n               if (rows.length) {\n                   html = '<div class=\"k-grid-header-locked\"><table class=\"k-grid-header-table k-table\"><colgroup></colgroup><thead class=\"k-table-thead\">';\n                   html += new Array(rows.length + 1).join(\"<tr class='k-table-row'></tr>\");\n                   html += (hasFilterRow ? '<tr class=\"k-filter-row k-table-row\"></tr>' : '') + '</thead></table></div>';\n\n                   table = $(html);\n\n                   table.find('.k-grid-header-locked').css('width', '1px');\n\n                   table.find(\"table\").addClass(kendo.getValidCssClass(\"k-table-\", \"size\", that.options.size));\n                   colgroup = table.find(\"colgroup\");\n                   colgroup.append(that.thead.prev().find(\"col.k-group-col\").add(cols));\n\n                   tr = table.find(\"thead tr:not(.k-filter-row)\");\n                   for (idx = 0, length = rows.length; idx < length; idx++) {\n                       cells = toJQuery(rows[idx]);\n                       tr.eq(idx).append(that.thead.find(TR).eq(idx).find(\".k-group-cell\").add(cells));\n                   }\n\n                   var count = removeEmptyRows(this.thead);\n                   if (rows.length < count) {\n                       removeRowSpanValue(table, count - rows.length);\n                   }\n\n                   trFilter = table.find(\".k-filter-row\");\n                   trFilter.append(that.thead.find(\".k-filter-row .k-group-cell\").add(filterCells));\n\n                   this.lockedHeader = table.prependTo(container);\n                   this.thead.find(\".k-group-cell\").remove();\n\n                   return true;\n               }\n               return false;\n           },\n\n           _removeLockedContainers: function() {\n               var elements = this.lockedHeader\n                   .add(this.lockedContent)\n                   .add(this.lockedFooter);\n\n               kendo.destroy(elements);\n               elements.off(NS).remove();\n\n               this.lockedHeader = this.lockedContent = this.lockedFooter = null;\n               this.selectable = null;\n           },\n\n           _thead: function() {\n               var that = this,\n                   columns = that.columns,\n                   hasDetails = that._hasDetails() && columns.length,\n                   hasFilterRow = that._hasFilterRow(),\n                   idx,\n                   html = \"\",\n                   thead = that.table.find(\">thead\"),\n                   hasTHead = that.element.find(\"thead\").first().length > 0,\n                   headerContent = that.options.messages.expandCollapseColumnHeader,\n                   tr;\n\n               if (!thead.length) {\n                   thead = $(\"<thead/>\").insertBefore(that.tbody);\n               }\n\n               thead.addClass(\"k-table-thead\").attr(\"role\", \"rowgroup\");\n\n               if (that.lockedHeader && that.thead) {\n                   tr = that.thead.find(\"tr:has(th):not(.k-filter-row)\").html(\"\");\n                   tr.remove();\n                   tr = $();\n\n                   that._removeLockedContainers();\n               } else if (hasTHead) {\n                   tr = that.element.find(\"thead\").first().find(\"tr:has(th):not(.k-filter-row)\");\n               } else {\n                   tr = that.element.find(\"tr:has(th)\").first();\n               }\n\n               if (!tr.length) {\n                   tr = thead.children().first();\n                   if (!tr.length) {\n                      var rows = [{ rowSpan: 1, cells: [], index: 0 }];\n                      that._prepareColumns(rows, columns);\n\n                      for (idx = 0; idx < rows.length; idx++) {\n                          html += \"<tr class='k-table-row'>\";\n                          if (hasDetails) {\n                              html += '<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">' + headerContent + '</th>';\n                          }\n                          html += that._createHeaderCells(rows[idx].cells, rows[idx].rowSpan);\n                          html += \"</tr>\";\n                      }\n\n                      tr = $(html);\n                      kendo.applyStylesFromKendoAttributes(tr, [\"display\", \"left\", \"right\"]);\n                   }\n               } else {\n                   for (idx = 0; idx < columns.length; idx++) {\n   \t\t\t\t\tvar columnIndex = inArray(columns[idx], leafColumns(columns));\n   \t\t\t\t\tvar cell = leafDataCells(tr.parent()).filter(\"th:not(.k-group-cell):not(.k-hierarchy-cell)\").eq(columnIndex);\n                       cell.addClass(\"k-table-th\");\n   \t\t\t\t\tif (columns[idx].hidden && columnIndex >= 0) {\n   \t\t\t\t\t\tcell[0].style.display = NONE;\n   \t\t\t\t\t}\n                  }\n\n                  that._updateHeadersAttr(childColumns(columns));\n   \t\t\t}\n\n               if (hasFilterRow) {\n                   var filterRow = $(\"<tr/>\");\n                   filterRow.addClass(\"k-filter-row k-table-row\");\n                   if (hasDetails || tr.find(\".k-hierarchy-cell\").length) { // handles server side detail template\n                       filterRow.prepend('<td class=\"k-table-td k-hierarchy-cell\">&nbsp;</td>');\n                   }\n\n                   var existingFilterRow = (that.thead || thead).find(\".k-filter-row\");\n                   if (existingFilterRow.length) {\n                       kendo.destroy(existingFilterRow);\n                       existingFilterRow.remove();\n                   }\n\n                   thead.append(filterRow);\n               }\n\n               if (!tr.children().length) {\n                   html = \"\";\n                   if (hasDetails) {\n                       html += '<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">&nbsp;</th>';\n                   }\n\n                   html += that._createHeaderCells(columns);\n\n                   tr.html(html);\n               } else if (hasDetails && !tr.find(\".k-hierarchy-cell\")[0]) {\n                   tr.prepend('<th class=\"k-hierarchy-cell k-table-th\" scope=\"col\">' + (headerContent ? headerContent : '&nbsp;') + '</th>');\n               }\n\n               tr.find(\"th\").addClass(HEADER_CLASS);\n\n               if (!that.options.scrollable) {\n                   thead.addClass(\"k-grid-header\");\n               }\n\n               tr.find(\"script\").remove().end().prependTo(thead);\n\n               if (that.thead) {\n                   that._destroyColumnAttachments();\n               }\n\n               that.thead = thead;\n\n               that._sortable();\n\n               that._filterable();\n\n               that._filterRow();\n\n               that._scrollable();\n\n               that._columnMenu();\n\n               var syncHeight;\n               var hasLockedColumns = this.options.scrollable && lockedColumns(this.columns).length;\n\n               if (hasLockedColumns) {\n\n                   syncHeight = that._appendLockedColumnHeader(that.thead.closest(\".k-grid-header\"));\n\n                   that._appendLockedColumnContent();\n\n                   that.lockedContent.on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, that._wheelScroll.bind(that));\n\n                   if (kendo.support.touch) {\n                       that._lockedContentUserEvents = new kendo.UserEvents(that.lockedContent, {\n                           move: function(e) {\n                               that.content.scrollTop(that.content.scrollTop() + (-e.y.delta));\n                               e.preventDefault();\n                           }\n                       });\n                   }\n\n                   that._updateLockedCols();\n               }\n\n               that._updateCols();\n\n               that._updateColumnCellIndex();\n\n               that._updateFirstColumnClass();\n\n               that._resizable();\n\n               that._draggable();\n\n               that._reorderable();\n\n               that._updateHeader(that._groups());\n\n               that._updateStickyColumns();\n\n               if (hasLockedColumns) {\n                   if (syncHeight) {\n                       that._syncLockedHeaderHeight();\n                   }\n\n                   that._applyLockedContainersWidth();\n               }\n           },\n\n           _retrieveFirstColumn: function(columns, rows) {\n               var result = $();\n\n               if (rows.length && columns[0]) {\n                   var column = columns[0];\n\n                   while (column.columns && column.columns.length) {\n                       column = column.columns[0];\n                       rows = rows.filter(\":not(:first)\");\n                   }\n\n                   result = result.add(rows);\n               }\n\n               return result;\n           },\n\n           _updateFirstColumnClass: function() {\n               var that = this,\n                   columns = that.columns || [],\n                   hasDetails = that._hasDetails() && columns.length;\n\n               if (!hasDetails && !that._groups()) {\n                   var tr = that.thead.find(\">tr:not(.k-filter-row):not(:first)\");\n                   columns = nonLockedColumns(columns);\n\n                   var rows = that._retrieveFirstColumn(columns, tr);\n\n                   if (that._isLocked()) {\n                       tr = that.lockedHeader.find(\"thead>tr:not(.k-filter-row):not(:first)\");\n                       columns = lockedColumns(that.columns);\n\n                       rows = rows.add(that._retrieveFirstColumn(columns, tr));\n                   }\n\n                   rows.each(function() {\n                       var ths = $(this).find(\"th\");\n                       ths.removeClass(\"k-first\");\n                       ths.eq(0).addClass(\"k-first\");\n                   });\n               }\n           },\n\n           _prepareColumns: function(rows, columns, parentCell, parentRow) {\n               var row = parentRow || rows[rows.length - 1];\n\n               var childRow = rows[row.index + 1];\n               var totalColSpan = 0;\n\n               for (var idx = 0; idx < columns.length; idx++) {\n                   var cell = { column: columns[idx], colSpan: 0 };\n                   row.cells.push(cell);\n\n                   if (columns[idx].columns && columns[idx].columns.length) {\n                       if (!childRow) {\n                           childRow = { rowSpan: 0, cells: [], index: rows.length };\n                           rows.push(childRow);\n                       }\n                       cell.colSpan = columns[idx].columns.length;\n                       this._prepareColumns(rows, columns[idx].columns, cell, childRow);\n                       totalColSpan += cell.colSpan - 1;\n                       row.rowSpan = rows.length - row.index;\n                   }\n               }\n               if (parentCell) {\n                   parentCell.colSpan += totalColSpan;\n               }\n           },\n\n           _wheelScroll: function(e) {\n               if (e.ctrlKey) {\n                   return;\n               }\n\n               var content = this.content;\n\n               if (this.virtualScroll && this.virtualScroll.rows) {\n                   content = this.virtualScrollable.verticalScrollbar;\n               }\n\n               var scrollTop = content.scrollTop(),\n                   delta = kendo.wheelDeltaY(e);\n\n               if (delta) {\n                   if (content[0].scrollHeight > content[0].clientHeight &&\n                       (content[0].scrollTop < content[0].scrollHeight - content[0].clientHeight && delta < 0 ||\n                       content[0].scrollTop > 0 && delta > 0)) {\n                       e.preventDefault();\n                   }\n\n                   content.scrollTop(scrollTop + (-delta));\n               }\n           },\n\n           _isLocked: function() {\n               return this.lockedHeader != null;\n           },\n\n           _updateHeaderCols: function() {\n               var table = this.thead.parent().add(this.table);\n\n               if (this._isLocked()) {\n                   normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n               } else {\n                   normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), 0);\n               }\n           },\n\n           _updateColumnSorters: function() {\n               var that = this;\n               var cells = leafDataCells(that.thead);\n               var columns = leafColumns(that.columns);\n               var column;\n               var cell;\n               var sorterInstance;\n\n               if (!that.options.sortable) {\n                   return;\n               }\n\n               for (var idx = 0, length = cells.length; idx < length; idx++) {\n                   column = columns[idx];\n\n                   if (column.sortable !== false && !column.command && column.field) {\n                       cell = cells.eq(idx);\n\n                       sorterInstance = cell.data(\"kendoColumnSorter\");\n\n                       if (sorterInstance) {\n                           sorterInstance.refresh();\n                       }\n                   }\n               }\n           },\n\n           _updateHeadersAttr: function(columns) {\n               if (!columns.length) {\n                   return;\n               }\n\n               var that = this;\n\n               for (var i = 0; i < columns.length; i++) {\n                   if (columns[i].headerAttributes) {\n                       var th = that.element.find(\"[id='\" + columns[i].headerAttributes.id + \"']\");\n                       th.attr(\"headers\", columns[i].headerAttributes.headers);\n                   }\n               }\n\n               that._updateHeadersAttr(childColumns(columns));\n           },\n\n           _updateCols: function(table) {\n               table = table || this.thead.parent().add(this.table);\n\n               this._appendCols(table, this._isLocked());\n           },\n\n           _updateLockedCols: function(table) {\n               if (this._isLocked()) {\n                   table = table || this.lockedHeader.find(\"table\").add(this.lockedTable);\n\n                   normalizeCols(table, visibleLeafColumns(visibleLockedColumns(this.columns)), this._hasDetails(), this._groups());\n               }\n           },\n\n           _appendCols: function(table, locked) {\n               if (locked) {\n                   normalizeCols(table, visibleLeafColumns(visibleNonLockedColumns(this.columns)), this._hasDetails(), 0);\n               } else {\n                   normalizeCols(table, visibleLeafColumns(visibleColumns(this.columns)), this._hasDetails(), this._groups());\n               }\n           },\n\n           _autoColumns: function(schema) {\n               if (schema && schema.toJSON) {\n                   var that = this,\n                       field,\n                       encoded;\n\n                   schema = schema.toJSON();\n\n                   encoded = !(that.table.find(\"tbody tr\").length > 0 && (!that.dataSource || !that.dataSource.transport));\n\n                   for (field in schema) {\n                       that.columns.push({ field: field, encoded: encoded, headerAttributes: { id: kendo.guid() } });\n                   }\n\n                   that._thead();\n\n                   that._templates();\n               }\n           },\n\n           _setRowCachedHeight: function(row, uid) {\n               var cachedHeights = this._cachedRowsHeight,\n                   cachedHeight = cachedHeights[uid],\n                   $row;\n\n               if (cachedHeight) {\n                   $row = $(row);\n                   $row[0].style.height = cachedHeight + \"px\";\n                   row = $row.prop(\"outerHTML\");\n               }\n\n               return row;\n           },\n\n           _rowsHtml: function(data, templates) {\n               var that = this,\n                   html = \"\",\n                   idx,\n                   rowTemplate = templates.rowTemplate,\n                   altRowTemplate = templates.altRowTemplate,\n                   cachedHeights = that._cachedRowsHeight,\n                   length, row;\n\n               for (idx = 0, length = data.length; idx < length; idx++) {\n                   if (that._skipRerenderItemsCount > 0) {\n                       that._skipRerenderItemsCount--;\n                   } else {\n                       if (idx % 2) {\n                           row = altRowTemplate(data[idx]);\n                       } else {\n                           row = rowTemplate(data[idx]);\n                       }\n\n                       if (cachedHeights) {\n                           row = that._setRowCachedHeight(row, data[idx].uid);\n                       }\n\n                       html += row;\n                   }\n                   that._data.push(data[idx]);\n               }\n\n               return html;\n           },\n\n           _groupData: function(group, skipFooter, firstColumn) {\n               var that = this,\n                   footerDefaults = that._groupAggregatesDefaultObject || {},\n                   groupItems = group.items,\n                   aggregates = extend({}, footerDefaults, group.aggregates),\n                   headerData = extend({}, {\n                       field: group.field,\n                       value: group.value,\n                       items: groupItems,\n                       aggregates: aggregates\n                   }, group.aggregates[firstColumn ? firstColumn.field : group.field]),\n                   footerData = {};\n\n               if (!skipFooter) {\n                   for (var aggregate in aggregates) {\n                       footerData[aggregate] = extend({}, aggregates[aggregate],\n                           { group: { field: group.field, value: group.value, items: groupItems } }\n                       );\n                   }\n               }\n               return extend({}, footerData, headerData);\n           },\n\n           _removeGroupIfEmpty: function(row) {\n               var that = this,\n                   itemsCount,\n                   subgroupsCount,\n                   length = that.dataSource._group.length;\n\n               for (var i = 0; i < length; i++) {\n                   row = row.prev();\n                   itemsCount = +row.attr('data-group-item-count');\n                   subgroupsCount = +row.attr('data-sub-group-count');\n\n                   if (itemsCount == 1 || subgroupsCount == 1) {\n                       row.hide();\n                   }\n\n               }\n           },\n\n           _groupRowHtml: function(group, colspan, level, groupHeaderBuilder, templates, skipColspan, skipLastGroup, isLockedTable) {\n               var that = this,\n                   html = \"\",\n                   idx,\n                   length,\n                   isLocked = that.lockedContent != null,\n                   field = group.field,\n                   column = grep(leafColumns(that.columns), function(column) { return column.field == field; })[0] || { },\n                   firstColumn = visibleColumns(that.columns)[0],\n                   firstVisibleColumnGroupHeaderTemplate = firstColumn ? firstColumn.groupHeaderColumnTemplate : null,\n                   template = column.groupHeaderTemplate ? column.groupHeaderTemplate : firstVisibleColumnGroupHeaderTemplate,\n                   text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || htmlEncode(field, true)) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded),\n                   groupItems = group.currentItems || group.items,\n                   groups = that._groups(),\n                   groupFooterTemplate = templates.groupFooterTemplate,\n                   groupHeaderColumnTemplate = templates.groupHeaderColumnTemplate,\n                   groupData,\n                   isGroupPaged = that.dataSource._isGroupPaged(),\n                   expanded = isGroupPaged ? that.dataSource._groupsState[group.uid] : true;\n\n               if (that.options.editable && group.items && group.items[0] && group.items[0].isNew && group.items[0].isNew()) {\n                   expanded = true;\n               }\n\n               if (templates.groupFooterTemplate || templates.groupHeaderColumnTemplate || column.groupHeaderTemplate) {\n                   groupData = that._groupData(group, false, !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false);\n               }\n               if (template && !skipColspan) {\n                   text = typeof template === FUNCTION ? template(groupData) : kendo.template(template)(groupData);\n               }\n\n               if (!that._skipRerenderItemsCount) {\n                   if (!group.excludeHeader) {\n                       html += groupHtmlBuilder(groupHeaderColumnTemplate, groupHeaderBuilder, colspan, groups - level, groupData, level, text, expanded, group, isGroupPaged);\n                   } else if (isLocked) {\n                       group.excludeHeader = isLockedTable ? false : true;\n                   } else {\n                       group.excludeHeader = false;\n                   }\n               } else {\n                   groupHeaderBuilder(colspan, level, text, expanded, group.uid, isGroupPaged);\n               }\n\n               if (expanded) {\n                   if (group.hasSubgroups) {\n                       for (idx = 0, length = groupItems.length; idx < length; idx++) {\n                           html += that._groupRowHtml(groupItems[idx], skipColspan ? colspan : colspan - 1, level + 1, groupHeaderBuilder, templates, skipColspan, skipLastGroup && idx === groupItems.length - 1, isLockedTable);\n                       }\n                   } else {\n                       html += that._rowsHtml(groupItems, templates);\n                   }\n               }\n\n               if (groupFooterTemplate) {\n\n                   if (skipLastGroup) {\n                       if (!inArray(group.value, that._skippedGroups)) {\n                           that._skippedGroups.push(group.value);\n                       }\n                   } else {\n                       if (that._skippedGroups.length && that._skippedGroups[0] === group.value) {\n                           that._skippedGroups.shift();\n                       }\n                       if (!that._skipRerenderItemsCount) {\n                           html += groupFooterTemplate(groupData);\n                       }\n                   }\n               }\n               return html;\n           },\n\n           collapseGroup: function(group) {\n               var level,\n                   that = this,\n                   groupToCollapse = group,\n                   groupable = this.options.groupable,\n                   showFooter = groupable.showFooter,\n                   footerCount = showFooter ? 0 : 1,\n                   offset,\n                   relatedGroup = $(),\n                   idx,\n                   length,\n                   tr;\n\n               group = $(group);\n               level = group.find(\".k-group-cell\").length;\n\n               if (this.dataSource._isGroupPaged()) {\n                   var groupUid = group.attr(\"data-group-uid\");\n                   var groupObject = that.dataSource._getGroupByUid(groupUid);\n                   var currentGroupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                   var groupCountAfterCollapse;\n\n                   that.dataSource._groupsState[groupUid] = false;\n                   groupCountAfterCollapse = that.dataSource._calculateGroupsTotal([groupObject], true);\n                   that.dataSource._serverGroupsTotal -= currentGroupCount - groupCountAfterCollapse;\n                   that._progress(true);\n                   that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function() {\n                       that._progress(false);\n                   }, \"collapseGroup\");\n                   return;\n               }\n\n               if (this._isLocked()) {\n                   if (!group.closest(DIV).hasClass(\"k-grid-content-locked\")) {\n                       relatedGroup = group.nextAll(TR);\n                       group = this.lockedTable.find(\">tbody>tr\").eq(group.index());\n                   } else {\n                       relatedGroup = this.tbody.children(TR).eq(group.index()).nextAll(TR);\n                   }\n               }\n\n               if (group.find(CARET_ALT_DOWN).length) {\n                   kendo.ui.icon(group.find(CARET_ALT_DOWN), { icon: `caret-alt-${isRtl ? 'left' : 'right'}` });\n               }\n\n               group.find(\"td[aria-expanded='true']\").first().attr(ARIA_EXPANDED, false)\n                   .find(\"a\").attr(ARIA_LABEL, EXPAND);\n\n               group = group.nextAll(TR);\n\n               var toHide = [];\n\n               for (idx = 0, length = group.length; idx < length; idx ++ ) {\n                   tr = group.eq(idx);\n                   offset = tr.find(\".k-group-cell\").length;\n\n                   if (tr.hasClass(GROUPING_ROW)) {\n                       footerCount++;\n                   } else if (tr.hasClass(\"k-group-footer\")) {\n                       footerCount--;\n                   }\n\n                   if (offset <= level || (tr.hasClass(\"k-group-footer\") && footerCount < 0)) {\n                       break;\n                   }\n\n                   if (relatedGroup.length) {\n                       toHide.push(relatedGroup[idx]);\n                   }\n                   toHide.push(tr[0]);\n               }\n\n               $(toHide).hide();\n\n               if (this.options.scrollable.endless && this.content) {\n                   clearTimeout(that._collapseGroupsTimeOut);\n                   that._collapseGroupsTimeOut = setTimeout(function() {\n                       that.content.scroll();\n                       that._groupToCollapse = groupToCollapse;\n                   });\n               }\n           },\n\n           expandGroup: function(group) {\n                   group = $(group);\n\n               var that = this,\n                   showFooter = that.options.groupable.showFooter,\n                   level,\n                   tr,\n                   offset,\n                   relatedGroup = $(),\n                   idx,\n                   length,\n                   footersVisibility = [],\n                   groupsCount = 1;\n\n                   level = group.find(\".k-group-cell\").length;\n\n               if (this.dataSource._isGroupPaged()) {\n                   var groupUid = group.attr(\"data-group-uid\");\n                   var groupObject = that.dataSource._getGroupByUid(groupUid);\n                   var groupCount = that.dataSource._calculateGroupsTotal([groupObject], true);\n                   var groupCountAfterExpand;\n\n                   that.dataSource._groupsState[groupUid] = true;\n                   if (groupObject.items && groupObject.items.length) {\n                       groupCountAfterExpand = that.dataSource._calculateGroupsTotal([groupObject], true);\n                       that.dataSource._serverGroupsTotal += groupCountAfterExpand - groupCount;\n                   }\n\n                   that._progress(true);\n                   that.dataSource.range(that.dataSource._currentRangeStart, that.dataSource.take(), function() {\n                       that._progress(false);\n                   }, \"expandGroup\");\n                   return;\n               }\n\n               if (this._isLocked()) {\n                   if (!group.closest(DIV).hasClass(\"k-grid-content-locked\")) {\n                       relatedGroup = group.nextAll(TR);\n                       group = this.lockedTable.find(\">tbody>tr\").eq(group.index());\n                   } else {\n                       relatedGroup = this.tbody.children(TR).eq(group.index()).nextAll(TR);\n                   }\n               }\n\n               if (group.find(CARET_ALT_RIGHT).length) {\n                   kendo.ui.icon(group.find(CARET_ALT_RIGHT), { icon: \"caret-alt-down\" });\n               }\n\n               group.find(\"td[aria-expanded='false']\").first().attr(ARIA_EXPANDED, true)\n                   .find(\"a\").attr(ARIA_LABEL, COLLAPSE);\n               group = group.nextAll(TR);\n\n               for (idx = 0, length = group.length; idx < length; idx ++ ) {\n                   tr = group.eq(idx);\n                   offset = tr.find(\".k-group-cell\").length;\n                   if (offset <= level) {\n                       break;\n                   }\n\n                   if (offset == level + 1 && !tr.hasClass(\"k-detail-row\")) {\n                       tr.show();\n                       relatedGroup.eq(idx).show();\n\n                       if (tr.hasClass(GROUPING_ROW) && tr.find(\".k-icon,.k-svg-icon\").is(CARET_ALT_DOWN)) {\n                           that.expandGroup(tr);\n                       }\n\n                       if (tr.hasClass(\"k-master-row\") && tr.find(\".k-icon,.k-svg-icon\").is(CARET_ALT_DOWN)) {\n                           tr.next().show();\n                           relatedGroup.eq(idx + 1).show();\n                       }\n                   }\n\n                   if (tr.hasClass(GROUPING_ROW)) {\n                       if (showFooter) {\n                           footersVisibility.push(tr.is(\":visible\"));\n                       }\n                       groupsCount ++;\n                   }\n\n                   if (tr.hasClass(\"k-group-footer\")) {\n                       if (showFooter) {\n                           var toggleVisibility = footersVisibility.pop();\n                           tr.toggle(toggleVisibility);\n                           relatedGroup.eq(idx).toggle(toggleVisibility);\n                       }\n                       if (groupsCount == 1) {\n                           tr.show();\n                           relatedGroup.eq(idx).show();\n                       } else {\n                           groupsCount --;\n                       }\n                   }\n               }\n\n               if ((level === 0 && that.options.scrollable.endless && this._isLocked()) ||\n               (!that.options.scrollable.endless && this._isLocked())) {\n                   that._syncLockedContentHeight();\n               }\n           },\n\n           _updateHeader: function(groups) {\n               var that = this,\n                   container = that._isLocked() ? that.lockedHeader.find(\"thead\") : that.thead,\n                   filterCells = container.find(\"tr.k-filter-row\").find(\"td.k-group-cell\").length,\n                   length = container.find(TR).first().find(\"th.k-group-cell\").length,\n                   rows = container.children(\"tr:not(:first)\").filter(function() {\n                       return !$(this).children(\":visible\").length;\n                   });\n\n               if (groups > length) {\n                   $(new Array(groups - length + 1).join('<th class=\"k-group-cell k-header k-table-th\" scope=\"col\">' + encode(that.options.messages.expandCollapseColumnHeader) + '</th>')).prependTo(container.children(\"tr:not(.k-filter-row)\"));\n                   if (that.element.is(\":visible\")) {\n                       rows.find(\"th.k-group-cell\").hide();\n                   }\n               } else if (groups < length) {\n                   container.find(TR).each(function() {\n                       $(this).find(\".k-group-cell\").eq(groups).remove();\n                       $(this).find(\".k-group-cell\").slice(groups).remove();\n                   });\n               }\n               if (groups > filterCells) {\n                   $(new Array(groups - filterCells + 1).join('<td class=\"k-group-cell k-table-group-td k-table-td\">&nbsp;</td>')).prependTo(container.find(\".k-filter-row\"));\n               }\n           },\n\n           _firstDataItem: function(data, grouped) {\n               if (data && grouped) {\n                   if (data.hasSubgroups) {\n                       data = this._firstDataItem(data.items[0], grouped);\n                   } else {\n                       data = data.items[0];\n                   }\n               }\n               return data;\n           },\n\n           _updateTablesWidth: function() {\n               var that = this,\n                   tables;\n\n               if (!that._isLocked()) {\n                   return;\n               }\n\n               tables =\n                   $(\">.k-grid-footer>.k-grid-footer-wrap>table\", that.wrapper)\n                   .add(that.thead.parent())\n                   .add(that.table);\n\n               that._footerWidth = tableWidth(tables.eq(0));\n               tables.width(that._footerWidth);\n\n               tables =\n                   $(\">.k-grid-footer>.k-grid-footer-locked>table\", that.wrapper)\n                   .add(that.lockedHeader.find(\">table\"))\n                   .add(that.lockedTable);\n\n               tables.width(tableWidth(tables.eq(0)));\n           },\n\n           hideColumn: function(column) {\n               var that = this,\n                   cell,\n                   tables,\n                   idx,\n                   cols,\n                   colWidth,\n                   position,\n                   width = 0,\n                   headerCellIndex,\n                   length,\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                   virtualScroll = that.virtualScroll || {},\n                   columns = that.columns,\n                   visibleLocked = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).filter(isCellVisible).length : 0,\n                   columnIndex,\n                   groupHeaderColumnTemplateColumns,\n                   columnsToHide;\n\n               if (!Array.isArray(column)) {\n                   columnsToHide = [column];\n               } else {\n                   columnsToHide = column;\n               }\n\n               columnsToHide.forEach((column) => {\n                   groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n                   if (typeof column == \"number\") {\n                       column = columns[column];\n                   } else if (isPlainObject(column)) {\n                       column = grep(flatColumns(columns), function(item) {\n                           return item === column;\n                       })[0];\n                   } else {\n                       column = grep(flatColumns(columns), function(item) {\n                           return item.field === column;\n                       })[0];\n                   }\n\n                   if (!column || !isVisible(column)) {\n                       return;\n                   }\n\n                   var setColumnVisibility = that._columnVisibilitySetter(column);\n\n                   if (column.columns && column.columns.length) {\n                       position = columnVisiblePosition(column, columns);\n\n                       setColumnVisibility(column, false);\n\n                       setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr:eq(\" + position.row + \")>th\"), position.cell, false);\n\n                       for (idx = 0; idx < column.columns.length; idx++) {\n                          this.hideColumn(column.columns[idx]);\n                       }\n\n                       that._ariaAddHiddenColIndex();\n                       that.trigger(COLUMNHIDE, { column: column });\n\n                       return;\n                   }\n\n                   columnIndex = inArray(column, visibleColumns(leafColumns(columns)));\n\n                   setColumnVisibility(column, false);\n\n                   that._setParentsVisibility(column, false);\n\n                   that._templates();\n\n                   that._updateCols();\n                   that._updateLockedCols();\n\n                   var container = that.thead;\n\n                   headerCellIndex = columnIndex;\n                   if (that.lockedHeader && visibleLocked > columnIndex) {\n                       container = that.lockedHeader.find(\">table>thead\");\n                   } else {\n                       headerCellIndex -= visibleLocked;\n                   }\n\n                   cell = leafDataCells(container).filter(isCellVisible).eq(headerCellIndex);\n                   cell[0].style.display = NONE;\n\n                   setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr.k-filter-row>td\"), columnIndex, false);\n                   if (footer[0]) {\n                       that._updateCols(footer.find(\">.k-grid-footer-wrap>table\"));\n                       that._updateLockedCols(footer.find(\">.k-grid-footer-locked>table\"));\n                       setCellVisibility(footer.find(\".k-footer-template>td\"), columnIndex, false);\n                   }\n\n                   if (virtualScroll.columns && !column.locked) {\n                       that._updateContentWidth();\n                       that.trigger(COLUMNHIDE, { column: column });\n                       return;\n                   }\n\n                   if (that.lockedTable && visibleLocked > columnIndex) {\n                       hideColumnCells(that.lockedTable.find(\">tbody>tr\"), columnIndex);\n                   } else {\n                       hideColumnCells(that.tbody.children(), columnIndex - visibleLocked);\n                   }\n\n                   if (that.lockedTable) {\n                       that._updateTablesWidth();\n                       that._applyLockedContainersWidth();\n                       that._syncLockedContentHeight();\n                       that._syncLockedHeaderHeight();\n                       that._syncLockedFooterHeight();\n                   } else {\n                       cols = that.thead.prev().find(\"col\");\n                       for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                           colWidth = cols[idx].style.width;\n\n                           if (cols[idx].className.indexOf(\"k-hierarchy-col\") > -1) {\n                               width += outerWidth(cols[idx]);\n                               continue;\n                           }\n\n                           if (cols[idx].className.indexOf(\"k-group-col\") > -1) {\n                               width += outerWidth(cols[idx]);\n                               continue;\n                           }\n\n                           if (colWidth && colWidth.indexOf(\"%\") == -1) {\n                               width += parseInt(colWidth, 10);\n                           } else {\n                               width = 0;\n                               break;\n                           }\n                       }\n\n                       tables = that.wrapper.find(\">.k-grid-header table\").first().add(that.wrapper.find(\">.k-grid-footer table\").first()).add(that.table);\n                       that._footerWidth = null;\n\n                       if (width) {\n                           tables.each(function() {\n                               this.style.width = width + PX;\n                           });\n\n                           that._footerWidth = width;\n                           that._setContentWidth();\n                       }\n                   }\n\n                   that._updateFirstColumnClass();\n                   that._updateStickyColumns();\n                   if (groupHeaderColumnTemplateColumns.length > 0) {\n                       that._renderGroupRows();\n                   }\n                   that._ariaAddHiddenColIndex();\n                   that.trigger(COLUMNHIDE, { column: column });\n               });\n           },\n\n           _setParentsVisibility: function(column, visible) {\n               var that = this;\n               var columns = that.columns;\n               var idx;\n               var parents = [];\n               var parent;\n               var position;\n               var cell;\n               var colSpan;\n               var setColumnVisibility = that._columnVisibilitySetter(column);\n\n               var predicate = visible ?\n                   function(p) { return visibleColumns(p.columns).length && p.hidden; } :\n                   function(p) { return !visibleColumns(p.columns).length && !p.hidden; };\n\n\n               if (columnParents(column, columns, parents) && parents.length) {\n                   for (idx = parents.length - 1; idx >= 0; idx--) {\n                       parent = parents[idx];\n                       position = columnPosition(parent, columns);\n                       cell = elements($(\">table>thead\", this.lockedHeader), this.thead, \">tr:eq(\" + position.row + \")>th:not(.k-group-cell):not(.k-hierarchy-cell)\").eq(position.cell);\n\n                       if (predicate(parent)) {\n                           setColumnVisibility(parent, visible);\n                           cell[0].style.display = visible ? \"\" : NONE;\n                       }\n\n                       if (cell.filter(\"[\" + kendo.attr(\"colspan\") + \"]\").length) {\n                           colSpan = parseInt(cell.attr(kendo.attr(\"colspan\")), 10);\n                           cell[0].colSpan = (colSpan - hiddenLeafColumnsCount(parent.columns)) || 1;\n                       }\n                   }\n               }\n           },\n\n           _updateContentWidth: function() {\n               var that = this;\n               var tables = that.table.add(that.thead.parent());\n\n               tables.css({\n                   width: sumWidths(visibleLeafColumns(visibleNonLockedColumns(that.columns)))\n               });\n               that.refresh();\n           },\n\n           showColumn: function(column) {\n               var that = this,\n                   idx,\n                   length,\n                   cell,\n                   tables,\n                   width,\n                   headerCellIndex,\n                   position,\n                   colWidth,\n                   cols,\n                   columns = that.columns,\n                   virtualScroll = that.virtualScroll || {},\n                   footer = that.footer || that.wrapper.find(\".k-grid-footer\"),\n                   lockedColumnsCount = that.lockedHeader ? leafDataCells(that.lockedHeader.find(\">table>thead\")).length : 0,\n                   columnIndex,\n                   originalColumn,\n                   columnLeafIndex,\n                   groupHeaderColumnTemplateColumns,\n                   columnsToShow;\n\n                   if (!Array.isArray(column)) {\n                       columnsToShow = [column];\n                   } else {\n                       columnsToShow = column;\n                   }\n\n                   columnsToShow.forEach((column) => {\n                       groupHeaderColumnTemplateColumns = grep(leafColumns(that.columns), function(column) { return column.groupHeaderColumnTemplate; });\n\n                       if (typeof column == \"number\") {\n                           columnIndex = column;\n                           column = columns[column];\n                       } else if (isPlainObject(column)) {\n                           $.each(flatColumns(columns), function(index, item) {\n                               if (item === column) {\n                                   column = item;\n                                   columnIndex = index;\n                                   return false;\n                               }\n                           });\n                       } else {\n                           $.each(flatColumns(columns), function(index, item) {\n                               if (item.field === column) {\n                                   column = item;\n                                   columnIndex = index;\n                                   return false;\n                               }\n                           });\n                       }\n\n                       if (!column || isVisible(column)) {\n                           return;\n                       }\n\n                       var setColumnVisibility = that._columnVisibilitySetter(column);\n\n                       if (column.columns && column.columns.length) {\n                           position = columnPosition(column, columns);\n                           originalColumn = flatColumns(that.options.columns)[columnIndex];\n\n                           setColumnVisibility(column, true);\n\n                           setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr:eq(\" + position.row + \")>th\"), position.cell, true);\n\n                           for (idx = 0; idx < column.columns.length; idx++) {\n                               if (!originalColumn.columns[idx].hidden) {\n                                   this.showColumn(column.columns[idx]);\n                               }\n                           }\n\n                           that._ariaRemoveHiddenColIndex();\n                           that.trigger(COLUMNSHOW, { column: column });\n\n                           return;\n                       }\n\n                       columnLeafIndex = inArray(column, leafColumns(columns));\n\n                       setColumnVisibility(column, true);\n\n                       that._setParentsVisibility(column, true);\n\n                       that._templates();\n                       that._updateCols();\n                       that._updateLockedCols();\n\n                       var container = that.thead;\n\n                       headerCellIndex = columnLeafIndex;\n                       if (that.lockedHeader && lockedColumnsCount > columnLeafIndex) {\n                           container = that.lockedHeader.find(\">table>thead\");\n                       } else {\n                           headerCellIndex -= lockedColumnsCount;\n                       }\n\n                       cell = leafDataCells(container).eq(headerCellIndex);\n                       cell[0].style.display = \"\";\n                       cell[0].classList.remove(\"k-hidden\");\n\n                       setCellVisibility(elements($(\">table>thead\", that.lockedHeader), that.thead, \">tr.k-filter-row>td\"), columnLeafIndex, true);\n                       if (footer[0]) {\n                           that._updateCols(footer.find(\">.k-grid-footer-wrap>table\"));\n                           that._updateLockedCols(footer.find(\">.k-grid-footer-locked>table\"));\n                           setCellVisibility(footer.find(\".k-footer-template>td\"), columnLeafIndex, true);\n                       }\n\n                       if (virtualScroll.columns && !column.locked) {\n                           that._updateContentWidth();\n                           that.trigger(COLUMNSHOW, { column: column });\n                           return;\n                       }\n\n                       if (that.lockedTable && lockedColumnsCount > columnLeafIndex) {\n                           showColumnCells(that.lockedTable.find(\">tbody>tr\"), columnLeafIndex);\n                       } else {\n                           showColumnCells(that.tbody.children(), columnLeafIndex - lockedColumnsCount);\n                       }\n\n                       if (that.lockedTable) {\n                           that._updateTablesWidth();\n                           that._applyLockedContainersWidth();\n                           that._syncLockedContentHeight();\n                           that._syncLockedHeaderHeight();\n                       } else {\n                           tables = that.wrapper.find(\">.k-grid-header table\").first().add(that.wrapper.find(\">.k-grid-footer table\").first()).add(that.table);\n                           if (!column.width) {\n                               tables.width(\"\");\n                           } else {\n                               width = 0;\n                               cols = that.thead.prev().find(\"col\");\n                               for (idx = 0, length = cols.length; idx < length; idx += 1) {\n                                   colWidth = cols[idx].style.width;\n\n                                   if (cols[idx].className.indexOf(\"k-hierarchy-col\") > -1) {\n                                       width += outerWidth(cols[idx]);\n                                       continue;\n                                   }\n\n                                   if (cols[idx].className.indexOf(\"k-group-col\") > -1) {\n                                       width += outerWidth(cols[idx]);\n                                       continue;\n                                   }\n\n                                   if (colWidth.indexOf(\"%\") > -1) {\n                                       width = 0;\n                                       break;\n                                   }\n                                   width += parseInt(colWidth, 10);\n                               }\n\n                               that._footerWidth = null;\n                               if (width) {\n                                   tables.each(function() {\n                                       this.style.width = width + PX;\n                                   });\n                                   that._footerWidth = width;\n                                   that._setContentWidth();\n                               }\n                           }\n                       }\n\n                       that._updateFirstColumnClass();\n                       that._updateStickyColumns();\n                       if (groupHeaderColumnTemplateColumns.length > 0) {\n                           that._renderGroupRows();\n                       }\n                       that._ariaRemoveHiddenColIndex();\n                       that.trigger(COLUMNSHOW, { column: column });\n                   });\n           },\n\n           _columnVisibilitySetter: function(column) {\n               var col = column || {};\n\n               if (isUndefined(col.media)) {\n                   return setColumnVisibility;\n               } else {\n                   return setColumnMediaVisibility;\n               }\n           },\n\n\n           _buildSkeleton: function() {\n               var visibleColumns = this.virtualCols ? this.virtualCols : visibleLeafColumns(this.columns);\n               var pageSize = this.dataSource.pageSize() || this.dataSource.total();\n               var loaderHTML = \"\";\n               var colspan;\n               var groups = this._groups();\n               var columnsCount = visibleColumns.length + groups;\n\n               if (this._hasDetails()) {\n                   columnsCount++;\n               }\n\n               if (this._hasVirtualColumns()) {\n                   colspan = parseInt(this.content.find(TR).first().find(\"td\").first().attr(\"colspan\"), 10);\n               }\n\n               for (var i = 0; i < pageSize; i++) {\n                   loaderHTML += \"<tr class='k-table-row' data-skeleton-row>\";\n                   for (var j = 0; j < columnsCount; j++) {\n                       if (colspan && !j) {\n                           loaderHTML += \"<td colspan='\" + colspan + \"'><span class='k-skeleton k-skeleton-text k-skeleton-pulse k-table-td'></span></td>\";\n                       } else {\n                           loaderHTML += \"<td><span class='k-skeleton k-skeleton-text k-skeleton-pulse k-table-td'></span></td>\";\n                       }\n                   }\n                   loaderHTML += \"</tr>\";\n               }\n               return loaderHTML;\n           },\n\n           _progress: function(toggle) {\n               var element = this.element;\n               var endless = this.options.scrollable && this.options.scrollable.endless;\n               var loaderType = this.options.loaderType;\n               var isVirtualization = this.options.scrollable && this.options.scrollable.virtual;\n               var skeleton;\n\n               if (isVirtualization) {\n                   element = this.content;\n               } else if (this._editContainer && this._editMode() === \"popup\") {\n                   element = this._editContainer;\n               } else if (this.lockedContent || endless) {\n                   element = this.wrapper;\n               } else if (this.element.is(\"table\")) {\n                   element = this.element.parent();\n               } else if (this.content && this.content.length) {\n                   element = this.content;\n               }\n\n               if (loaderType == \"skeleton\" && !this._isExport) {\n                   if (toggle) {\n                       skeleton = this._buildSkeleton();\n                           element.find(\"tbody\")\n                            .empty()\n                            .append(skeleton);\n                   } else {\n                       element.find(\".k-skeleton\").closest(\"tbody\").empty();\n                   }\n               } else {\n                   if (this._isExport) {\n                       this._loaderContainer(toggle, { message: this.options.messages.loader.exporting });\n                   } else if (endless && toggle) {\n                       kendo.ui.progress(element, toggle, { height: this.content.height(), top: this.content.parent()[0].offsetTop, opacity: true });\n                   } else {\n                       kendo.ui.progress(element, toggle);\n                   }\n               }\n           },\n\n           _resize: function(size, force) {\n\n               this._syncLockedContentHeight();\n               this._syncLockedHeaderHeight();\n\n               if (this.content) {\n                   this._setContentWidth();\n                   this._setContentHeight();\n               }\n\n               if (this.lockedTable) {\n                   this._syncLockedScroll();\n               }\n\n               if (this.virtualScrollable && (force || this._rowHeight)) {\n                   if (force) {\n                       this._rowHeight = null;\n                   }\n                   this.virtualScrollable.repaintScrollbar();\n               }\n\n               if (this.pager && this.pager.element) {\n                   this.pager.resize(force);\n               }\n\n               if (this._anyStickyColumns()) {\n                   this._updateStickyColumns(false);\n               }\n           },\n\n           _isActiveInTable: function() {\n               var active = activeElement();\n\n               if (!active) { return false; }\n\n               return this.table[0] === active ||\n                   $.contains(this.table[0], active) ||\n                   (this._isLocked() &&\n                       (this.lockedTable[0] === active || $.contains(this.lockedTable[0], active))\n                   );\n           },\n\n           refresh: function(e) {\n               var that = this,\n                   data = that.dataSource.view(),\n                   navigatable = that.options.navigatable,\n                   virtualScroll = that.virtualScroll || {},\n                   currentIndex,\n                   current = $(that.current()),\n                   isCurrentInHeader = false,\n                   groups = that._groups(),\n                   colspan = groups + visibleLeafColumns(visibleColumns(that.columns)).length,\n                   hasMultiColumnHeaders = grep(that.columns, function(item) {\n                       return item.columns !== undefined$1;\n                   }).length > 0,\n                   contentScrollLeft,\n                   cachedItemsToSkip,\n                   multiColumnHeaderIndex = 0;\n\n               if (e && e.action === \"itemchange\" && (that.editable || that.options.scrollable.endless)) { // skip rebinding if editing is in progress\n                   if (this._editMode() != \"popup\" || this._editMode() === \"popup\" && !that._editableIsClosing) { // popup editing animation has not finished yet and the editable is not destoyed\n                       return;\n                   }\n               }\n\n               if (that._shouldMapHights) {\n                   that._mapCachedRowsHeight(\"get\", \"uid\");\n                   that._shouldMapHights = false;\n               }\n\n               if (virtualScroll.columns) {\n                   that._templates();\n               }\n\n               //someone remove the edited item\n               if (e && e.action === \"remove\" && that.editable &&\n                   that.editable.options.model && inArray(that.editable.options.model, e.items) > -1) {\n                   that.editable.options.model.unbind(CHANGE, that._modelChangeHandler);\n               }\n\n               e = e || {};\n\n               if (that.trigger(\"dataBinding\", { action: e.action || \"rebind\", index: e.index, items: e.items })) {\n                   return;\n               }\n\n               if (e.action === SYNC && that._isVirtualEditable()) {\n                   that._destroyEditable();\n                   that._clearEditableState();\n               }\n\n               if (!that._endlessFetchInProgress) {\n                   if (navigatable && (that._isActiveInTable() || (that._editContainer && that._editContainer.data(\"kendoWindow\")))) {\n                       isCurrentInHeader = current.is(\"th\");\n                       currentIndex = isCurrentInHeader ? current.parent().children(\":not(.k-group-cell)\").index(current[0]) : Math.max(that.cellIndex(current), 0);\n\n                       if (isCurrentInHeader && hasMultiColumnHeaders) {\n                           multiColumnHeaderIndex = current.parent().index();\n                       }\n                   }\n                   that._destroyEditable();\n               }\n\n               if (that.options.scrollable && that.options.scrollable.endless && !that._pdfInitialized) {\n                   clearTimeout(that._progressTimeOut);\n                   that._progressTimeOut = setTimeout(function() {\n                       if (!that._endlessFetchInProgress) {\n                           that._progress(false);\n                       }\n                   }, 250);\n               } else {\n                   if (!that._isExport) {\n                       that._progress(false);\n                   }\n               }\n\n               if (current.length) {\n                   that._currentRowIndex = current.parent().index();\n               }\n\n               that._hideResizeHandle();\n\n               that._data = [];\n\n               if (!that.columns.length) {\n                   that._autoColumns(that._firstDataItem(data[0], groups));\n                   colspan = groups + that.columns.length;\n               }\n\n               that._group = groups > 0 || that._group;\n\n               if (that._group) {\n                   that._templates();\n                   that._updateCols();\n                   that._updateLockedCols();\n                   if (!that._virtualColScroll) {\n                       that._updateHeader(groups);\n                   }\n                   that._group = groups > 0;\n                   that._groupRows = groupRows(data);\n               }\n\n               if (that.content) {\n                   contentScrollLeft = kendo.scrollLeft(that.content);\n               }\n\n               if (that.options.loaderType !== \"skeleton\" && e && e.action === \"sync\" && e.partialUpdate && e.changedItems && e.changedItems.length) {\n                   that._data = that.dataSource.flatView();\n                   e.changedItems.forEach((changedItem) => {\n                      that._displayRow(that.tbody.find(\"[\" + kendo.attr(\"uid\") + \"=\" + changedItem.uid + \"]\"));\n                   });\n                   that._progress(false);\n                   that._destroyEditable();\n               } else {\n                   cachedItemsToSkip = that._skipRerenderItemsCount;\n                   that._renderContent(data, colspan, groups);\n                   if (that.options.scrollable && that.options.scrollable.endless && this.lockedContent) {\n                       that._skipRerenderItemsCount = cachedItemsToSkip;\n                   }\n                   that._renderLockedContent(data, colspan, groups);\n               }\n\n               if (!that._virtualColScroll) {\n                   that._footer();\n\n                   that._renderNoRecordsContent();\n\n                   that._togglePagerVisibility();\n\n                   that._setContentHeight();\n\n                   that._setContentWidth(that.content && contentScrollLeft);\n               }\n\n               if (that.lockedTable) {\n                   //requires manual trigger of scroll to sync both tables\n                   if (virtualScroll.rows) {\n                       that.content.find(\">.k-virtual-scrollable-wrap\").trigger(\"scroll\");\n                   } else if (that.touchScroller) {\n                       that.touchScroller.movable.trigger(\"change\");\n                   } else {\n                       that.wrapper.one(\"scroll\", function(e) { e.stopPropagation(); });\n                       that.content.trigger(\"scroll\");\n                   }\n               }\n\n               if (!that._endlessFetchInProgress && !that._rowDropping) {\n                   that._restoreCurrent(currentIndex, isCurrentInHeader, multiColumnHeaderIndex);\n               }\n\n               if (that.touchScroller) {\n                   that.touchScroller.contentResized();\n               }\n\n               if (that.selectable) {\n                   that.selectable.resetTouchEvents();\n               }\n\n               if (that._checkBoxSelection) {\n                   that._toggleHeaderCheckState(false);\n               }\n\n               if (that.options.persistSelection &&\n                   ((that.selectable && !kendo.ui.Selectable.parseOptions(that.options.selectable).cell) || that._checkBoxSelection) &&\n                   (that.items().length || that.dataSource._isGroupPaged())) {\n                   that._restoreSelection();\n               }\n\n               if (!that.options.persistSelection) {\n                   that._selectedIds = {};\n               }\n\n               if (that._hasReorderableRows()) {\n                   that._draggableRows();\n                   that._reorderableRows();\n               }\n\n               if (that.options.selectable && that.options.selectable.cellAggregates) {\n                   that._calculateAggregatesForSelected();\n               }\n\n               that._aria();\n\n               that.trigger(DATABOUND);\n          },\n\n           _getSchemaIdField: function() {\n               const that = this;\n               const model = that.dataSource.options.schema.model;\n               return isFunction(model) ? model.fn.idField : model && model.id;\n           },\n\n           _restoreCurrent: function(currentIndex, isCurrentInHeader, multiColumnHeaderIndex) {\n               if (currentIndex === undefined$1 || currentIndex < 0) {\n                   return;\n               }\n\n               this._removeCurrent();\n\n               if (isCurrentInHeader) {\n                   this._setCurrent(this.thead.find(`tr:eq(${multiColumnHeaderIndex}) th:not(.k-group-cell)`).eq(currentIndex), false, this._hasVirtualColumns());\n               } else {\n                   var rowIndex = 0;\n                   var virtualScroll = this.virtualScroll || {};\n\n                   if (this._rowVirtualIndex) {\n                       if (virtualScroll.rows) {\n                           rowIndex = this.virtualScrollable.position(this._rowVirtualIndex);\n                       } else {\n                           rowIndex = this._rowVirtualIndex;\n                       }\n                   } else if (this._currentRowIndex) {\n                       rowIndex = this._currentRowIndex;\n                   } else {\n                       currentIndex = 0;\n                   }\n\n                   var row = $();\n                   var colspan;\n\n                   if (this.lockedTable) {\n                       row = this.lockedTable.find(\">tbody>tr\").eq(rowIndex);\n                   }\n                   row = row.add(this.tbody.children().eq(rowIndex));\n\n                   if (this._hasVirtualColumns()) {\n                       colspan = parseInt(row.find(\"td\").first().attr(\"colspan\"), 10);\n                       currentIndex = this._virtualCellIndex - (colspan > 1 ? colspan - 1 : 0);\n                   }\n\n\n                   var td = row.find(\">td:not(.k-group-cell):not(.k-hierarchy-cell)\")\n                       .eq(currentIndex);\n\n                   if (!td.length || currentIndex < 0) {\n                       return;\n                   }\n\n                   if (this._hasVirtualColumns()) {\n                       this._setCurrent(td, true, true);\n                   } else {\n                       this._setCurrent(td);\n                   }\n\n               }\n\n               if (this._current) {\n                   focusTable(this.table, true);\n               }\n           },\n\n           _restoreSelection: function() {\n               var that = this,\n                   allRows = that.items(),\n                   selectedRows,\n                   id = that._getSchemaIdField();\n\n               selectedRows = grep(allRows, function(row) {\n                    var dataItemKey = that.dataItem(row)[id];\n                    if (that._selectedIds[dataItemKey]) {\n                       return row;\n                    }\n               });\n\n               that.select(selectedRows);\n           },\n\n           _getSelectedRowUids: function() {\n               var that = this,\n                   selected = that.select(),\n                   row,\n                   uid,\n                   result = [];\n\n               for (let i = 0; i < selected.length; i++) {\n                   row = $(selected[i]);\n\n                   if (kendo.ui.Selectable.parseOptions(that.options.selectable).cell) {\n                       row = row.closest(TR);\n                   }\n\n                   uid = row.data(\"uid\");\n\n                   if (result.indexOf(uid) === -1) {\n                       result.push(uid);\n                   }\n               }\n\n               return result;\n           },\n\n           _getSelectedColumnFields: function() {\n               var that = this,\n                   selected = that.select(),\n                   field,\n                   index,\n                   visibleColumns = visibleLeafColumns(that.columns).filter(col => !col.selectable && !col.draggable & !col.command),\n                   result = [];\n\n               // If the mode is in row selection, then return all of the visible columns.\n               if (!kendo.ui.Selectable.parseOptions(that.options.selectable).cell) {\n                   return visibleColumns.map(vc => vc.field);\n               }\n\n               for (let i = 0; i < selected.length; i++) {\n                   index = $(selected[i]).index();\n\n                   field = that.thead.find(\"th:eq(\" + index + \")\").data(\"field\");\n\n                   if (result.indexOf(field) === -1) {\n                       result.push(field);\n                   }\n               }\n\n               return result;\n           },\n\n          _cleanupDetailItems: function() {\n              var that = this;\n\n              if (that._hasDetails()) {\n                  that.tbody.find(\".k-detail-cell\").empty();\n              }\n          },\n\n          _renderContent: function(data, colspan, groups) {\n               var that = this,\n                   idx,\n                   length,\n                   html = \"\",\n                   isLocked = that.lockedContent != null,\n                   endlessAppend = null,\n                   skipLastGroup,\n                   flatViewLength,\n                   scrollable = that.options.scrollable,\n                   templates = {\n                           rowTemplate: that.rowTemplate,\n                           altRowTemplate: that.altRowTemplate,\n                           groupFooterTemplate: that.groupFooterTemplate,\n                           groupHeaderColumnTemplate: that.groupHeaderColumnTemplate\n                       };\n               if (scrollable && scrollable.endless && !that.dataSource.options.endless) {\n                   that._skipRerenderItemsCount = 0;\n                   if (that.content) {\n                       that.content[0].scrollTop = 0;\n                   }\n               }\n               endlessAppend = that._skipRerenderItemsCount > 0;\n               colspan = isLocked ? colspan - visibleLeafColumns(visibleLockedColumns(that.columns)).length : colspan;\n               if (groups > 0) {\n\n                   colspan = isLocked ? colspan - groups : colspan;\n\n                   if (that.detailTemplate) {\n                       colspan++;\n                   }\n\n                   if (that.groupFooterTemplate) {\n                       that._groupAggregatesDefaultObject = that.dataSource.aggregates();\n                   }\n                   if (that.options.scrollable.endless) {\n                       flatViewLength = that.dataSource.flatView().length;\n                   }\n                   for (idx = 0, length = data.length; idx < length; idx++) {\n                       if (!that._skippedGroups) {\n                           that._skippedGroups = [];\n                       }\n                       skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== that.dataSource.total();\n                       html += that._groupRowHtml(data[idx], colspan, 0, isLocked ? groupRowLockedContentBuilder : groupRowBuilder, templates, isLocked, skipLastGroup, false);\n                   }\n               } else {\n                   html += that._rowsHtml(data, templates);\n               }\n\n               if (endlessAppend) {\n                   that.tbody.append(html);\n                   kendo.applyStylesFromKendoAttributes(that.tbody, [\"display\", \"left\", \"right\"]);\n                   clearTimeout(that._endlessFetchTimeOut);\n                   that._endlessFetchTimeOut = setTimeout(function() {\n                       if (that._groupToCollapse) {\n                           that.collapseGroup(that._groupToCollapse);\n                           that._groupToCollapse = null;\n                       }\n                   });\n                   that._endlessFetchInProgress = null;\n               } else {\n                   that.tbody = appendContent(that.tbody, that.table, html, this.options.size);\n               }\n          },\n\n          _renderGroupRows: function() {\n           var that = this,\n           data = that._groupRows,\n           groupRows = that.wrapper.find(DOT + GROUPING_ROW),\n           groups = that._groups(),\n           groupRowBuilderFunc,\n           isLocked = that.lockedContent != null,\n           columns,\n           colspan,\n           group,\n           field,\n           column,\n           template,\n           text,\n           groupHeaderData,\n           tableContainer,\n           isInLockedContainer,\n           prevElement,\n           newGroupRowElement,\n           currentRow,\n           level,\n           groupHeaderColumnTemplate,\n           firstColumnGroupData;\n\n           groupRows.each(function(index, row) {\n               currentRow = $(row);\n               tableContainer = currentRow.closest(\"table\").parent();\n               isInLockedContainer = tableContainer.is(\".\" + CONTENTRLOCKEDCONTAINER);\n               columns = isInLockedContainer ? visibleLeafColumns(visibleColumns(lockedColumns(that.columns))) : visibleLeafColumns(visibleColumns(nonLockedColumns(that.columns)));\n               level = currentRow.find(\".\" + GROUPCELLCLASS).length;\n               if (isLocked) {\n                   groupRowBuilderFunc = isInLockedContainer ? groupRowBuilder : groupRowLockedContentBuilder;\n                   colspan = isInLockedContainer ? columns.length + groups - level : columns.length;\n               }\n               else {\n                   groupRowBuilderFunc = groupRowBuilder;\n                   colspan = columns.length + groups - level;\n               }\n\n               group = index >= data.length ? data[index - data.length] : data[index];\n               field = group.field;\n               column = grep(leafColumns(that.columns), function(column) { return column.field == field; })[0] || { };\n               firstColumnGroupData = !column.groupHeaderTemplate && visibleColumns(that.columns)[0].groupHeaderColumnTemplate ? visibleColumns(that.columns)[0] : false;\n               template = column.groupHeaderTemplate ? column.groupHeaderTemplate : visibleColumns(that.columns)[0].groupHeaderColumnTemplate;\n               text = (column.title && (that.options.encodeTitles ? htmlEncode(column.title, true) : column.title) || htmlEncode(field, true)) + ': ' + formatGroupValue(group.value, column.format, column.values, column.encoded);\n               groups = groups;\n               groupHeaderData = that._groupData(group, false, firstColumnGroupData);\n               groupHeaderColumnTemplate = isInLockedContainer ? that.lockedGroupHeaderColumnTemplate : that.groupHeaderColumnTemplate;\n\n               if (template) {\n                   text = typeof template === FUNCTION ? template(groupHeaderData) : kendo.template(template)(groupHeaderData);\n               }\n\n               prevElement = currentRow.prev().length ? currentRow.prev() : currentRow.parent();\n\n               newGroupRowElement = $(groupHeaderColumnTemplate ?\n                   groupHeaderColumnTemplate(extend({}, groupHeaderData, { groupCells: level, colspan: groups - level, text: text })) :\n                   groupRowBuilderFunc(colspan, level, text, null, null, null, isRtl)\n               );\n\n               kendo.applyStylesFromKendoAttributes(newGroupRowElement, [\"display\", \"left\", \"right\"]);\n\n               if (prevElement.is(\"tbody\")) {\n                   prevElement.prepend(newGroupRowElement);\n               }\n               else {\n                   prevElement.after(newGroupRowElement);\n               }\n                   currentRow.remove();\n              });\n          },\n\n          _renderLockedContent: function(data, colspan, groups) {\n              var html = \"\",\n                  idx,\n                  length,\n                  skipLastGroup,\n                  endlessAppend = null,\n                  flatViewLength,\n                  templates = {\n                      rowTemplate: this.lockedRowTemplate,\n                      altRowTemplate: this.lockedAltRowTemplate,\n                      groupFooterTemplate: this.lockedGroupFooterTemplate,\n                      groupHeaderColumnTemplate: this.lockedGroupHeaderColumnTemplate\n                  };\n\n              if (this.lockedContent) {\n\n                  var table = this.lockedTable;\n                  endlessAppend = this._skipRerenderItemsCount > 0;\n\n                  if (groups > 0) {\n                      colspan = colspan - visibleColumns(leafColumns(nonLockedColumns(this.columns))).length;\n                      if (this.options.scrollable.endless) {\n                        flatViewLength = this.dataSource.flatView().length;\n                      }\n                      for (idx = 0, length = data.length; idx < length; idx++) {\n                       skipLastGroup = flatViewLength && idx === data.length - 1 && flatViewLength !== this.dataSource.total();\n                       html += this._groupRowHtml(data[idx], colspan, 0, groupRowBuilder, templates, false, skipLastGroup, true);\n                      }\n                  } else {\n                      html = this._rowsHtml(data, templates);\n                  }\n\n                  if (endlessAppend) {\n                      table.children(\"tbody\").append(html);\n                  } else {\n                      appendContent(table.children(\"tbody\"), table, html, this.options.size);\n                  }\n\n                  this._syncLockedContentHeight();\n              }\n          },\n\n          _togglePagerVisibility: function() {\n              if (this.options.pageable.alwaysVisible === false) {\n                   this.wrapper.find(\".k-grid-pager\").toggle(this.dataSource.total() >= this.dataSource.pageSize());\n               }\n          },\n\n          _adjustRowsHeight: function(table1, table2) {\n              var rows = table1[0].rows,\n                  length = rows.length,\n                  idx,\n                  rows2 = table2[0].rows,\n                  containers = table1.add(table2),\n                  containersLength = containers.length,\n                  heights = [];\n\n              for (idx = 0; idx < length; idx++) {\n                  if (!rows2[idx]) {\n                      break;\n                  }\n\n                  if (rows[idx].style.height) {\n                      rows[idx].style.height = rows2[idx].style.height = \"\";\n                  }\n              }\n\n              for (idx = 0; idx < length; idx++) {\n                  if (!rows2[idx]) {\n                      break;\n                  }\n\n                  var offsetHeight1 = rows[idx].offsetHeight;\n                  var offsetHeight2 = rows2[idx].offsetHeight;\n                  var height = 0;\n\n                  if (offsetHeight1 > offsetHeight2) {\n                      height = offsetHeight1;\n                  } else if (offsetHeight1 < offsetHeight2) {\n                      height = offsetHeight2;\n                  }\n\n                  heights.push(height);\n              }\n\n              for (idx = 0; idx < containersLength; idx++) {\n                  containers[idx].style.display = NONE;\n              }\n\n              for (idx = 0; idx < length; idx++) {\n                  if (heights[idx]) {\n                      //add one to resolve row misalignment in IE\n                      rows[idx].style.height = rows2[idx].style.height = (heights[idx] + 1) + PX;\n                  }\n              }\n\n              for (idx = 0; idx < containersLength; idx++) {\n                  containers[idx].style.display = \"\";\n              }\n          }\n      });\n\n      if (kendo.ExcelMixin) {\n          kendo.ExcelMixin.extend(Grid.prototype);\n      }\n\n      if (kendo.PDFMixin) {\n          kendo.PDFMixin.extend(Grid.prototype);\n\n          Grid.prototype._drawPDF_autoPageBreak = function(progress) {\n              var grid = this;\n              var result = new $.Deferred();\n              var dataSource = grid.dataSource;\n              var allPages = grid.options.pdf.allPages;\n              var origBody = grid.wrapper.find('> table > tbody, .k-grid-content > table > tbody').first();\n              var cont = $(\"<div>\")\n                  .css({ position: \"absolute\", left: -10000, top: -10000 });\n              var clone;\n\n              grid.toggleUnexportableColumns(grid.columns);\n              clone = grid.wrapper.clone().css({\n                  height: AUTO, width: AUTO\n              }).appendTo(cont);\n              clone.find(\".k-grid-content\").css({ height: AUTO, width: AUTO, overflow: \"visible\" });\n              clone.find('> table, .k-grid-header table, .k-grid-content > table, .k-grid-footer table').css({ height: AUTO, width: \"100%\", overflow: \"visible\" });\n              clone.find(\".k-grid-pager, .k-grid-toolbar, .k-grouping-header\").remove();\n              clone.find(\".k-grid-header, .k-grid-footer, .k-auto-scrollable\").css({ paddingRight: 0 });\n\n              var body = clone.find('> table > tbody, .k-grid-content > table > tbody').first().empty();\n              var startingPage = dataSource.page();\n\n              function resolve() {\n                  if (allPages && startingPage !== undefined$1) {\n                      dataSource.one(\"change\", draw);\n                      dataSource.page(startingPage);\n                  } else {\n                      grid.refresh();\n                      draw();\n                  }\n              }\n\n              function draw() {\n                  cont.appendTo(document.body);\n                  var options = $.extend({}, grid.options.pdf, {\n                      _destructive: true,\n                      progress: function(p) {\n                          progress.notify({\n                              page: p.page,\n                              pageNumber: p.pageNum,\n                              progress: 0.5 + p.pageNum / p.totalPages / 2,\n                              totalPages: p.totalPages\n                          });\n                      }\n                  });\n                  kendo.drawing.drawDOM(clone, options)\n                      .always(function() {\n                          cont.remove();\n                      })\n                      .then(function(group) {\n                          result.resolve(group);\n                          grid.toggleUnexportableColumns(grid.columns, true);\n                      })\n                      .fail(function(err) {\n                          result.reject(err);\n                      });\n              }\n\n              function renderPage() {\n                  var pageNum = dataSource.page();\n                  var totalPages = allPages ? dataSource.totalPages() : 1;\n                  body.append(origBody.children(\"tr:not(.k-detail-row)\"));\n                  if (pageNum < totalPages) {\n                      dataSource.page(pageNum + 1);\n                  } else {\n                      dataSource.unbind(\"change\", renderPage);\n                      resolve();\n                  }\n              }\n\n              if (allPages) {\n                  dataSource.bind(\"change\", renderPage);\n                  dataSource.page(1);\n              } else {\n                  renderPage();\n              }\n\n              return result.promise();\n          };\n\n          Grid.prototype.toggleUnexportableColumns = function(columns, restore) {\n              var length = columns.length;\n              var column;\n              var exportable;\n              var visibleInExport;\n              var visibleInExportOnly;\n\n              for (var i = 0; i < length; i++) {\n                  column = columns[i];\n                  exportable = column.exportable;\n                  if (!restore) {\n                      if (typeof column.exportable === \"object\") {\n                          exportable = column.exportable.pdf;\n                      }\n\n                      visibleInExport = !column.hidden && exportable !== false;\n                      visibleInExportOnly = column.hidden && exportable === true;\n                      exportable = visibleInExport || visibleInExportOnly;\n\n                      if (!exportable && !column.hidden) {\n                          column._toggledDuringExport = true;\n                          this.hideColumn(column);\n                      } else if (exportable && column.hidden) {\n                          column._toggledDuringExport = true;\n                          this.showColumn(column);\n                      } else if (exportable && column.columns) {\n                          this.toggleUnexportableColumns(column.columns);\n                      }\n                  } else {\n                      if (column._toggledDuringExport) {\n                          column._toggledDuringExport = false;\n\n                          if (column.hidden) {\n                              this.showColumn(column);\n                          } else {\n                              this.hideColumn(column);\n                          }\n                      } else if (column.columns) {\n                          this.toggleUnexportableColumns(column.columns, restore);\n                      }\n                  }\n              }\n          };\n\n          Grid.prototype._drawPDF = function(progress) {\n              var grid = this;\n\n              if (grid.options.pdf.paperSize && grid.options.pdf.paperSize != AUTO) {\n                  return grid._drawPDF_autoPageBreak(progress);\n              }\n\n              var result = new $.Deferred();\n              var dataSource = grid.dataSource;\n              var allPages = grid.options.pdf.allPages;\n\n              // This group will be our document containing all pages\n              var doc = new kendo.drawing.Group();\n              var startingPage = dataSource.page();\n\n              function resolve() {\n                  if (allPages && startingPage !== undefined$1) {\n                      dataSource.unbind(\"change\", exportPage);\n                      dataSource.one(\"change\", function() {\n                          result.resolve(doc);\n                      });\n\n                      dataSource.page(startingPage);\n                  } else {\n                      result.resolve(doc);\n                  }\n              }\n\n              function exportPage() {\n                   grid.toggleUnexportableColumns(grid.columns);\n                   grid._drawPDFShadow({\n                       width: grid.wrapper.width()\n                   }, {\n                       avoidLinks: grid.options.pdf.avoidLinks\n                   })\n                   .done(function(group) {\n                       var pageNum = dataSource.page();\n                       var totalPages = allPages ? dataSource.totalPages() : 1;\n\n                       var args = {\n                           page: group,\n                           pageNumber: pageNum,\n                           progress: pageNum / totalPages,\n                           totalPages: totalPages\n                       };\n\n                       grid.toggleUnexportableColumns(grid.columns, true);\n                       progress.notify(args);\n                       doc.append(args.page);\n\n                       if (pageNum < totalPages) {\n                           dataSource.page(pageNum + 1);\n                       } else {\n                           resolve();\n                       }\n                   })\n                   .fail(function(err) {\n                       result.reject(err);\n                   });\n               }\n\n               if (allPages) {\n                   dataSource.bind(\"change\", exportPage);\n                   dataSource.page(1);\n               } else {\n                   exportPage();\n               }\n\n               return result.promise();\n           };\n      }\n\n      function syncTableHeight(table1, table2) {\n          table1 = table1[0];\n          table2 = table2[0];\n\n          if (table1.rows.length !== table2.rows.length) {\n              var lockedHeigth = table1.offsetHeight;\n              var tableHeigth = table2.offsetHeight;\n\n              var row;\n              var diff;\n              if (lockedHeigth > tableHeigth) {\n                  row = table2.rows[table2.rows.length - 1];\n\n                  if (filterRowRegExp.test(row.className)) {\n                      row = table2.rows[table2.rows.length - 2];\n                  }\n\n                  diff = lockedHeigth - tableHeigth;\n              } else {\n                  row = table1.rows[table1.rows.length - 1];\n\n                  if (filterRowRegExp.test(row.className)) {\n                      row = table1.rows[table1.rows.length - 2];\n                  }\n\n                  diff = tableHeigth - lockedHeigth;\n              }\n              row.style.height = row.offsetHeight + diff + PX;\n          }\n      }\n\n      function adjustRowHeight(row1, row2) {\n          var height;\n          var offsetHeight1 = row1.offsetHeight;\n          var offsetHeight2 = row2.offsetHeight;\n\n          if (offsetHeight1 > offsetHeight2) {\n              height = offsetHeight1 + PX;\n          } else if (offsetHeight1 < offsetHeight2) {\n              height = offsetHeight2 + PX;\n          }\n\n          if (height) {\n              row1.style.height = row2.style.height = height;\n          }\n      }\n\n      function getCommand(commands, name) {\n          var idx, length, command;\n\n          if (typeof commands === STRING && commands === name) {\n             return commands;\n          }\n\n          if (isPlainObject(commands) && commands.name === name) {\n              return commands;\n          }\n\n          if (isArray(commands)) {\n              for (idx = 0, length = commands.length; idx < length; idx++) {\n                  command = commands[idx];\n\n                  if ((typeof command === STRING && command === name) || (command.name === name)) {\n                      return command;\n                  }\n              }\n          }\n          return null;\n      }\n\n      function compareElements(element, toCompare) {\n          if (element.length !== toCompare.length) {\n              return false;\n          }\n\n          for (var i = 0; i < element.length; i++) {\n              if (element[i] !== toCompare[i]) {\n                  return false;\n              }\n          }\n\n          return true;\n      }\n\n      function focusTable(table, direct) {\n          if (!table || table.length === 0) {\n              return;\n          }\n\n          if (direct === true) {\n              table = $(table);\n              var scrollLeft = kendo.scrollLeft(table.parent());\n\n               kendo.focusElement(table);\n               kendo.scrollLeft(table.parent(), scrollLeft);\n           } else {\n               $(table).one(\"focusin\", function(e) { e.preventDefault(); }).trigger(\"focus\");\n           }\n       }\n\n      function isColumnGroupable(grid, column) {\n          return grid.options.groupable && (column.groupable || column.groupable === undefined$1);\n      }\n\n      function isGroupedBy(groups, field) {\n          return !!$.grep(groups, function(item) {\n              return item.field === field;\n          }).length;\n      }\n\n      function isColumnEditable(column, model) {\n          if (!column.field || column.selectable) {\n              return false;\n          }\n          if (model.editable && !model.editable(column.field)) {\n              return false;\n          }\n          if (column.editable && !column.editable(model)) {\n              return false;\n          }\n          return true;\n      }\n\n      function isInputElement(element) {\n          return $(element).is(INPUT_SELECTORS);\n      }\n\n       function tableClick(e) {\n           var that = this,\n               currentTarget = $(e.currentTarget),\n               isHeader = currentTarget.is(\"th\"),\n               table = this.table.add(this.lockedTable),\n               headerTable = this.thead.parent().add($(\">table\", this.lockedHeader)),\n               isInput = isInputElement(e.target),\n               preventScroll = $(e.target).is('.k-checkbox'),\n               target = $(e.target),\n               currentTable = currentTarget.closest(\"table\")[0];\n\n           if (isInput && currentTarget.find(kendo.roleSelector(\"filtercell\")).length) {\n               this._setCurrent(currentTarget);\n               return;\n           }\n\n           if (currentTable !== table[0] && currentTable !== table[1] && currentTable !== headerTable[0] && currentTable !== headerTable[1]) {\n               return;\n           }\n\n           if (target.is(CARET_ALT_RIGHT + \",\" + CARET_ALT_DOWN)) {\n               return;\n           }\n\n           if (this.options.navigatable) {\n               this._setCurrent(currentTarget, false, preventScroll);\n           }\n\n           if (isHeader || !isInput) {\n               setTimeout(function() {\n                   var activeEl = $(kendo._activeElement());\n                   if ((activeEl.hasClass(\"k-widget\") || activeEl.hasClass(\"k-dropdownlist\") || activeEl.is(\".k-upload .k-upload-button\")) && !activeEl.hasClass(\"k-grid-pager\")) {\n                       return;\n                   }\n\n                   //Only if input element is not selected yet and it is not descendant of the grid's table\n                   if (that.table && (activeEl.is(CHECKBOXINPUT) || !isInputElement(kendo._activeElement()) || !$.contains(currentTable, kendo._activeElement()))) {\n                       //DOMElement.focus() only for header, because IE doesn't really focus the table\n                       focusTable(that.table[0], true);\n                   }\n               });\n           }\n\n           if (isHeader && !kendo.support.touch) {\n               e.preventDefault(); //if any problem occurs, call preventDefault only for the clicked header links\n           }\n       }\n\n      function leftMostPosition(element, rtl) {\n          if (!rtl) {\n              return 0;\n          }\n\n          var result = 0;\n\n          if (kendo.support.browser.webkit) {\n              result = element.width();\n          }\n\n          return result;\n      }\n\n      function parseVirtualSettings(options) {\n           var asLowerString;\n\n           if (typeof options === \"string\") {\n               asLowerString = options.toLowerCase();\n               if (asLowerString === \"true\") {\n                   return {\n                       rows: true\n                   };\n               } else {\n                   return {\n                       rows: asLowerString.indexOf(\"rows\") > -1,\n                       columns: asLowerString.indexOf(\"columns\") > -1\n                   };\n               }\n\n           } else if (options === true) {\n               return {\n                   rows: true\n               };\n           }\n      }\n\n      function isElementVisibleInWrapper(wrapper, element) {\n          var offsetTop;\n          var halfHeight;\n\n          if (!wrapper) {\n            return false;\n          }\n\n          element = $(element);\n\n          if (element[0] && contains(wrapper[0], element[0])) {\n              offsetTop = element.offset().top - wrapper.offset().top;\n              halfHeight = element.outerHeight() / 2;\n\n              if ((offsetTop >= 0 || math.abs(offsetTop) <= halfHeight) && (math.floor(offsetTop + halfHeight) <= wrapper.height())) {\n                  return true;\n              }\n          }\n\n          return false;\n      }\n\n      function isInEdit(cell) {\n          return cell &&\n              (cell.hasClass(\"k-edit-cell\") ||\n               cell.parent().hasClass(\"k-grid-edit-row\"));\n      }\n\n       function groupHtmlBuilder(groupHeaderColumnTemplate, groupHeaderBuilder, colspan, templateColspan, groupData, level, text, expanded, group, isGroupPaged) {\n           var html;\n\n           if (groupHeaderColumnTemplate) {\n               html = groupHeaderColumnTemplate(extend({}, groupData, {\n                   groupCells: level,\n                   colspan: templateColspan,\n                   text: text,\n                   expanded: expanded,\n                   isRtl: isRtl,\n                   uid: group.uid\n               }));\n           } else {\n               html = groupHeaderBuilder(colspan, level, text, expanded, group.uid, isGroupPaged, isRtl);\n           }\n\n           return html;\n       }\n\n      function groupCellBuilder(headerTemplateIndex) {\n       return ({ colspan, text, expanded, isRtl }) => {\n           let collapsedClass = `caret-alt-${isRtl ? 'left' : 'right'}`;\n           return `<td class=\"k-table-td\" colspan=\"${colspan + headerTemplateIndex}\">` +\n           '<p class=\"k-reset\">' +\n               kendo.ui.icon($(`<a href=\"\\\\#\" tabindex=\"-1\" ${ARIA_LABEL}=\"${(expanded ? COLLAPSE : EXPAND)}\"></a>`), { icon: (expanded ? 'caret-alt-down' : collapsedClass) }) + text +\n           `</p></td>${new Array(colspan + headerTemplateIndex).join(\"<td hidden group-header-spanned-hidden></td>\")}`;\n       };\n      }\n\n      function groupCellLockedContentBuilder(headerTemplateIndex) {\n       return '<td class=\"k-table-td\" colspan=\"' + headerTemplateIndex + '\">' +\n       `<p class=\"k-reset\">&nbsp;</p></td>${new Array(headerTemplateIndex).join(\"<td hidden group-header-spanned-hidden></td>\")}`;\n      }\n\n      function groupRowBuilder(colspan, level, text, expanded, uid, includeAdditionalData, isRtl) {\n       return '<tr ' + (includeAdditionalData ? 'data-group-uid=\"' + uid + '\"' : '') + 'class=\"k-table-group-row k-grouping-row k-table-row\">' + groupCells(level) +\n           '<td class=\"k-table-td\" colspan=\"' + colspan + '\" aria-expanded=\"' + !!expanded + '\">' +\n           '<p class=\"k-reset\">' +\n           kendo.ui.icon($('<a href=\"#\" tabindex=\"-1\" ' + ARIA_LABEL + '=\"' + (expanded ? COLLAPSE : EXPAND) + '\"></a>'), { icon: (expanded ? 'caret-alt-down' : `caret-alt-${isRtl ? 'left' : 'right'}`) }) + text +\n       `</p></td>${new Array(colspan).join(\"<td hidden group-header-spanned-hidden></td>\")}</tr>`;\n      }\n\n      function groupRowLockedContentBuilder(colspan) {\n       return '<tr class=\"k-table-group-row k-grouping-row k-table-row\">' +\n           '<td class=\"k-table-td\" colspan=\"' + colspan + '\" aria-expanded=\"true\">' +\n           `<p class=\"k-reset\">&nbsp;</p></td>${new Array(colspan).join(\"<td hidden group-header-spanned-hidden></td>\")}</tr>`;\n      }\n\n      function toggleRow(row, visible) {\n          row = $(row)[0];\n          if (visible) {\n              row.style.display = \"\";\n          } else {\n              row.style.display = NONE;\n          }\n      }\n\n      function htmlEncode(value, backslashEscapeQuotes) {\n          var ampRegExp = /&/g,\n              ltRegExp = /</g,\n              quoteRegExp = /\"/g,\n              aposRegExp = /'/g,\n              gtRegExp = />/g;\n\n          return (\"\" + value)\n              .replace(ampRegExp, \"&amp;\")\n              .replace(ltRegExp, \"&lt;\")\n              .replace(gtRegExp, \"&gt;\")\n              .replace(quoteRegExp, function(match) {\n                  if (backslashEscapeQuotes) {\n                      return \"\\\\\" + match;\n                  }\n                  return \"&quot;\";\n              })\n              .replace(aposRegExp, \"&#39;\");\n      }\n\n      function isEmptyString(value) {\n           return !/\\S/.test(value);\n      }\n\n      function getTitle(field, columns) {\n           return columns.filter(function(col) {\n               return col.field === field;\n           })[0].title || field;\n       }\n\n       function exportDataSort(a, b) {\n           return this.dataSource.indexOf(this.dataSource.getByUid(a.uid)) - this.dataSource.indexOf(this.dataSource.getByUid(b.uid));\n       }\n\n       function isExcelExportableColumn(column) {\n           return !(column.exportable === false || (column.exportable && column.exportable.excel === false));\n       }\n\n      ui.plugin(Grid);\n      ui.plugin(VirtualScrollable);\n\n      extend(kendo.ui.grid, {\n          defaultBodyContextMenu: defaultBodyContextMenu,\n          defaultHeadContextMenu: defaultHeadContextMenu,\n          defaultGroupsContextMenu: defaultGroupsContextMenu\n      });\n\n   })(window.kendo.jQuery);\n   var kendo$1 = kendo;\n\n   exports.__meta__ = __meta__;\n   exports.default = kendo$1;\n\n   Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}