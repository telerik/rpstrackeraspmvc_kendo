{"version":3,"file":"kendo.dataviz.stock.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","DatavizStock","Core","DatavizChart","ChartsCmnChunk","this","kendo_core_js","kendo_dataviz_chart_js","kendo_charts_cmn_chunk_js","window","dataviz","Chart","ui","deepExtend","NAVIGATOR_AXIS$1","N","NAVIGATOR_PANE$1","x","CHANGE","StockChart$1","extend","options","name","dateField","axisDefaults","categoryAxis","type","baseUnit","justified","valueAxis","narrowRange","labels","format","navigator","select","seriesDefaults","markers","visible","tooltip","template","category","toString","line","width","hint","legend","persistSeriesVisibility","_createChart","themeOptions","_initNavigatorOptions","_instance","y","element","observer","I","showTooltip","hideTooltip","legendItemClick","render","init","drilldown","navigatorFilter","navigatorCreated","sender","rtl","_isRtl","navigatorOptions","support","isTouch","touch","isFirefox","browser","mozilla","autoBindElements","dataSource","partialRedraw","liveDrag","_initDataSource","userOptions","hasServerFiltering","serverFiltering","mainAxis","concat","hasSelect","from","to","filter","parseDate","dummyAxis","DateCategoryAxis","categories","buildFilter","range","min","fn","call","_onNavigatorCreated","e","_navigator","_initNavigatorDataSource","autoBind","dsOptions","_navigatorDataChangedHandler","_onNavigatorDataChanged","bind","_navigatorDataSource","data","DataSource","create","fetch","_bindNavigatorSeries","series","seriesIx","currentSeries","seriesLength","length","axis","_isBindable","axisIx","currentAxis","naviCategories","chart","instance","categoryAxes","axesLength","view","_sourceSeries","pane","_bindCategoryAxis","_model","redraw","setRange","_dataBound","redrawSlaves","_bindCategories","copyNavigatorCategories","_onDataChanged","setOptions","_removeNavigatorDataSource","destroyNavigator","_onNavigatorFilter","requiresHandlers","names","j","navigatorDataSource","unbind","destroy","field","operator","value","constants","z","Navigator","E","NavigatorHint","F","StockChart","plugin","jQuery","kendo$1","__meta__","id","description","depends","default","Object","defineProperty"],"sources":["kendo.dataviz.stock.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.core.js'), require('kendo.dataviz.chart.js'), require('kendo.charts.cmn.chunk.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.core', 'kendo.dataviz.chart', 'kendo.charts.cmn.chunk'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.DatavizStock = {}), global.kendo._globals.Core, global.kendo._globals.DatavizChart, global.kendo._globals.ChartsCmnChunk));\n})(this, (function (exports, kendo_core_js, kendo_dataviz_chart_js, kendo_charts_cmn_chunk_js) {\n    const __meta__ = {\n        id: \"dataviz.stockchart\",\n        name: \"StockChart\",\n        category: \"dataviz\",\n        description: \"StockChart widget and associated financial series.\",\n        depends: [\"dataviz.chart\", \"charts.cmn.chunk\"]\n    };\n\n    (function($) {\n        window.kendo.dataviz = window.kendo.dataviz || {};\n\n        var kendo = window.kendo;\n        var dataviz = kendo.dataviz;\n        var Chart = dataviz.ui.Chart;\n        var deepExtend = kendo.deepExtend;\n        var NAVIGATOR_AXIS$1 = kendo_charts_cmn_chunk_js.N;\n        var NAVIGATOR_PANE$1 = kendo_charts_cmn_chunk_js.x;\n        var CHANGE = \"change\";\n\n        var StockChart$1 = Chart.extend({\n\n            options: {\n                name: \"StockChart\",\n                dateField: \"date\",\n                axisDefaults: {\n                    categoryAxis: {\n                        type: \"date\",\n                        baseUnit: \"fit\",\n                        justified: true\n                    },\n                    valueAxis: {\n                        narrowRange: true,\n                        labels: {\n                            format: \"C\"\n                        }\n                    }\n                },\n                navigator: {\n                    select: {},\n                    seriesDefaults: {\n                        markers: {\n                            visible: false\n                        },\n                        tooltip: {\n                            visible: true,\n                            template: ({ category }) => kendo.toString(category, 'd')\n                        },\n                        line: {\n                            width: 2\n                        }\n                    },\n                    hint: {},\n                    visible: true\n                },\n                tooltip: {\n                    visible: true\n                },\n                legend: {\n                    visible: false\n                },\n                persistSeriesVisibility: true\n            },\n\n            _createChart: function(options, themeOptions) {\n                this._initNavigatorOptions(options);\n                this._instance = new kendo_charts_cmn_chunk_js.y(this.element[0], options, themeOptions, {\n                    observer: new kendo_charts_cmn_chunk_js.I(this, {\n                        showTooltip: '_showTooltip',\n                        hideTooltip: '_hideTooltip',\n                        legendItemClick: '_onLegendItemClick',\n                        render: '_onRender',\n                        init: '_onInit',\n                        drilldown: '_onDrilldown',\n                        navigatorFilter: '_onNavigatorFilter',\n                        navigatorCreated: '_onNavigatorCreated'\n                    }),\n                    sender: this,\n                    rtl: this._isRtl()\n                });\n            },\n\n            _initNavigatorOptions: function(options) {\n                var navigatorOptions = options.navigator || {};\n                var support = kendo.support;\n                var isTouch = support.touch;\n                var isFirefox = support.browser.mozilla;\n\n                deepExtend(navigatorOptions, {\n                    autoBindElements: !navigatorOptions.dataSource,\n                    partialRedraw: navigatorOptions.dataSource,\n                    liveDrag: !isTouch && !isFirefox\n                });\n            },\n\n            _initDataSource: function(userOptions) {\n                var options = userOptions || {},\n                    dataSource = options.dataSource,\n                    hasServerFiltering = dataSource && dataSource.serverFiltering,\n                    mainAxis = [].concat(options.categoryAxis)[0],\n                    naviOptions = options.navigator || {},\n                    select = naviOptions.select,\n                    hasSelect = select && select.from && select.to;\n\n                if (hasServerFiltering && hasSelect) {\n                    var filter = [].concat(dataSource.filter || []);\n\n                    var from = kendo.parseDate(select.from);\n                    var to = kendo.parseDate(select.to);\n                    var dummyAxis = new dataviz.DateCategoryAxis(deepExtend({\n                        baseUnit: \"fit\"\n                    }, mainAxis, {\n                        categories: [from, to]\n                    }), kendo);\n\n                    dataSource.filter = buildFilter(dummyAxis.range().min, to).concat(filter);\n                }\n\n                Chart.fn._initDataSource.call(this, userOptions);\n            },\n\n            _onNavigatorCreated: function(e) {\n                this._instance = e.sender;\n                this.options = e.sender.options;\n                this._navigator = this.navigator = e.navigator;\n                this._initNavigatorDataSource();\n            },\n\n            _initNavigatorDataSource: function() {\n                var navigatorOptions = this.options.navigator;\n                var autoBind = navigatorOptions.autoBind;\n                var dsOptions = navigatorOptions.dataSource;\n\n                if (dsOptions) {\n                    this._navigatorDataChangedHandler = this._navigatorDataChangedHandler || this._onNavigatorDataChanged.bind(this);\n                    this._navigatorDataSource = kendo.data.DataSource\n                        .create(dsOptions)\n                        .bind(CHANGE, this._navigatorDataChangedHandler);\n\n                    if (!kendo_charts_cmn_chunk_js.e(autoBind)) {\n                       autoBind = this.options.autoBind;\n                    }\n\n                    if (autoBind) {\n                        this._navigatorDataSource.fetch();\n                    }\n                }\n            },\n\n            _bindNavigatorSeries: function(series, data) {\n                var seriesIx, currentSeries,\n                    seriesLength = series.length;\n\n                for (seriesIx = 0; seriesIx < seriesLength; seriesIx++) {\n                    currentSeries = series[seriesIx];\n\n                    if (currentSeries.axis == NAVIGATOR_AXIS$1 && this._isBindable(currentSeries)) {\n                        currentSeries.data = data;\n                    }\n                }\n            },\n\n            _onNavigatorDataChanged: function() {\n                var chart = this,\n                    instance = chart._instance,\n                    categoryAxes = chart.options.categoryAxis,\n                    axisIx,\n                    axesLength = categoryAxes.length,\n                    data = chart._navigatorDataSource.view(),\n                    currentAxis,\n                    naviCategories;\n\n                this._bindNavigatorSeries(chart.options.series, data);\n                if (chart._sourceSeries) {\n                    this._bindNavigatorSeries(chart._sourceSeries, data);\n                }\n\n                for (axisIx = 0; axisIx < axesLength; axisIx++) {\n                    currentAxis = categoryAxes[axisIx];\n\n                    if (currentAxis.pane == NAVIGATOR_PANE$1) {\n                        if (currentAxis.name == NAVIGATOR_AXIS$1) {\n                            chart._bindCategoryAxis(currentAxis, data, axisIx);\n                            naviCategories = currentAxis.categories;\n                        } else {\n                            currentAxis.categories = naviCategories;\n                        }\n                    }\n                }\n\n                if (instance._model) {\n                    var navigator = this.navigator;\n                    navigator.redraw();\n                    navigator.setRange();\n\n                    if (!chart.options.dataSource || (chart.options.dataSource && chart._dataBound)) {\n                        navigator.redrawSlaves();\n                    }\n                }\n            },\n\n            _bindCategories: function() {\n                Chart.fn._bindCategories.call(this);\n                if (this._instance) {\n                    this._instance.copyNavigatorCategories();\n                }\n            },\n\n            _onDataChanged: function() {\n                Chart.fn._onDataChanged.call(this);\n\n                this._dataBound = true;\n            },\n\n            setOptions: function(options) {\n                this._removeNavigatorDataSource();\n                this._initNavigatorOptions(options);\n                this._instance.destroyNavigator();\n                Chart.fn.setOptions.call(this, options);\n            },\n\n            _onNavigatorFilter: function(e) {\n                this.dataSource.filter(buildFilter(e.from, e.to));\n            },\n\n            requiresHandlers: function(names) {\n                if (kendo_charts_cmn_chunk_js.j('navigatorFilter', names)) {\n                    var dataSource = this.dataSource;\n                    var hasServerFiltering = dataSource && dataSource.options.serverFiltering;\n                    return hasServerFiltering && this.options.navigator.dataSource;\n                }\n\n                return Chart.fn.requiresHandlers.call(this, names);\n            },\n\n            _removeNavigatorDataSource: function() {\n                var navigatorDataSource = this._navigatorDataSource;\n                if (navigatorDataSource) {\n                    navigatorDataSource.unbind(CHANGE, this._navigatorDataChangedHandler);\n                    delete this._navigatorDataSource;\n                }\n            },\n\n            destroy: function() {\n                Chart.fn.destroy.call(this);\n                this._removeNavigatorDataSource();\n            }\n        });\n\n        kendo.deepExtend(kendo.dataviz, {\n            constants: kendo_charts_cmn_chunk_js.z,\n            Navigator: kendo_charts_cmn_chunk_js.E,\n            NavigatorHint: kendo_charts_cmn_chunk_js.F,\n            StockChart: StockChart$1\n        });\n\n        dataviz.ui.plugin(StockChart$1);\n\n        function buildFilter(from, to) {\n            return [{\n                field: \"Date\", operator: \"gte\", value: from\n            }, {\n                field: \"Date\", operator: \"lt\", value: to\n            }];\n        }\n\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}