{"version":3,"file":"kendo.gantt.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Gantt","this","$","undefined$1","window","keys","supportsMedia","mobileOS","support","Widget","ui","encode","htmlEncode","ObservableObject","data","ObservableArray","Query","isArray","Array","isFunction","extend","isPlainObject","outerWidth","_outerWidth","outerHeight","_outerHeight","NS","TABINDEX","STRING","DOT","VIEWS_DROPDOWN_TEMPLATE","label","styles","views","viewsDropdown","viewsDropdownDefaults","Object","map","view","title","join","ADD_ACTIONS","text","ganttStyles","wrapper","plannedTasks","rowHeight","content","listWrapper","list","timelineWrapper","timeline","splitBar","splitter","popupWrapper","popupList","resizeHandle","icon","item","line","buttonDelete","buttonCancel","buttonSave","buttonToggle","buttonDefaults","primary","hovered","selected","focused","focusedCell","gridHeader","gridHeaderWrap","gridContent","tasks","popup","form","editForm","formContainer","resourcesFormContainer","message","buttonsContainer","button","editField","editLabel","resourcesField","toolbar","headerWrapper","footerWrapper","viewsWrapper","iconPlus","iconPdf","iconToggle","viewButton","link","pdfButton","appendButton","selector","uid","attr","focusTable","table","direct","parents","scrollPositions","parentsUntil","filter","index","element","getComputedStyles","overflow","add","each","parent","scrollTop","setActive","e","focus","init","options","events","dataSource","fn","call","_events","_wrapper","_resources","length","_timeline","_processDefaults","_toolbar","_footer","_splitter","_adjustDimensions","_preventRefresh","_selectedViewName","_dataSource","_assignments","_list","_dependencies","_scrollable","_dataBind","_attachEvents","_createEditor","notify","_showWatermarkOverlay","name","autoBind","navigatable","selectable","editable","resizable","columnResizeHandleWidth","columns","dependencies","resources","assignments","taskTemplate","tooltip","visible","messages","save","cancel","destroy","deleteTaskConfirmation","deleteDependencyConfirmation","deleteTaskWindowTitle","deleteDependencyWindowTitle","selectView","day","week","month","year","start","end","actions","append","addChild","insertBefore","insertAfter","pdf","toggle","editor","editorTitle","resourcesEditorTitle","plannedStart","plannedEnd","percentComplete","assignButton","resourcesHeader","unitsHeader","addNew","percentCompleteHint","remove","actualStart","actualEnd","parentOptionLabel","general","predecessors","successors","other","dependencyType","switchText","offsetTooltipAdvanced","offsetTooltipDelay","seconds","minutes","hours","days","showWorkHours","showWorkDays","workDayStart","Date","workDayEnd","workWeekStart","workWeekEnd","hourSpan","snap","height","listWidth","showPlannedTasks","select","value","find","_selectionUpdate","clearSelection","unbind","_refreshHandler","_progressHandler","_errorHandler","_dependencyRefreshHandler","_dependencyErrorHandler","getKendoToolBar","footer","_editor","_resourceEditorWindow","_resizeDraggable","layout","_getGanttSplitter","off","_mediaQuery","removeListener","_mediaQueryHandler","_resizeHandler","setOptions","newOptions","deepExtend","selectedView","isSettings","type","empty","_setEvents","resize","bind","on","matches","kendoSplitter","orientation","panes","collapsible","scrollable","size","getKendoSplitter","width","addClass","appendTo","css","treelistWrapper","_viewClickHandler","target","trigger","preventDefault","_togglePane","that","treelist","contentSelector","is","removeClass","refresh","_resize","ns","viewsButtons","toolbarStyles","actionsMessages","defaults","menuButtons","m","attributes","class","click","_addClickHandler","open","_openAddClickHandler","saveAsPDF","showText","switchLabel","template","component","componentOptions","checked","change","_togglePlannedTasks","unchecked","viewsDdl","togglable","group","viewsGroup","current","toLowerCase","push","values","t","buttons","_viewsButtons","defaultCommands","_processTools","items","commands","tools","spacerPresent","create","c","splitbar","toolbarEl","_suppressResize","hide","show","viewsDropdownSelector","toolsOptions","prepend","kendoToolBar","defaultTools","parentMessages","matchMedia","addListener","val","toggleSwitch","direction","animation","effects","toolbarHeight","footerHeight","totalHeight","totalWidth","treeListVisible","splitBarWidth","treeListWidth","timelineWidth","children","_scrollTo","action","scrollTarget","id","closest","get","scrollIntoView","_addTask","orderId","task","_createNewModel","firstSlot","_timeSlots","set","_createTask","dataItem","taskParent","_getListEditable","update","reorder","mode","move","reorderable","clickMoveClick","_getListOptions","filterable","columnMenu","field","_attachResourceEditor","column","i","_resourcePopupEditor","_attachListEvents","oldIndex","newIndex","oldWidth","newWidth","_navigatable","model","container","cell","_preventItemChange","closeCell","key","updatedValues","previousTask","updateDuration","duration","updatePlannedDuration","plannedDuration","hasOwnProperty","getTime","isCurrentInHeader","currentIndex","rowIndex","updateInfo","hasChanges","cancelChanges","_updateAssignments","Math","max","cellIndex","_requestStart","sync","then","_tabPressed","td","tbody","eq","_setCurrent","sender","_updatePristineForModel","expanded","position","parentId","source","sort","dir","_updateTask","selection","listElement","listOptions","GanttList","prefix","edit","navigate","trimOptions","GanttTimeline","viewName","replace","viewsEl","getKendoButtonGroup","getByUid","resizeStart","dependency","predecessorId","predecessor","successorId","successor","_createDependency","currentUid","editTask","removeTask","summary","removeDependency","_error","GanttDataSource","refreshDependencies","GanttDependencyDataSource","dataTextField","dataColorField","dataFormatField","DataSource","_assignmentsRefreshHandler","dataTaskIdField","dataResourceIdField","dataValueField","gantt","PopupEditor","_createResourceEditor","cancelTask","saveTask","updateDependencies","buttonsEl","dialog","popupStyles","dialogEl","format","kendoButton","themeColor","updateModel","close","kendoWindow","modal","draggable","deactivate","center","unitsValidation","step","min","assignmentsModel","schema","resourceTextField","fields","Units","validation","_resourceEditor","ResourceEditor","r","range","_render","taskTree","_renderDependencies","date","_scrollToDate","_modelFromElement","setDataSource","fetch","setDependenciesDataSource","assignment","resource","taskId","resourceId","hasMatch","operator","toArray","_updateAssignment","splice","_removeAssignment","shift","j","newLength","_createAssignment","taskCopy","toJSON","_editTask","difference","hasResourceChanges","k","updated","u","some","concat","getDifference","dirty","_syncDataSource","_updateDependency","created","d","_preventDependencyRefresh","destroyed","resourceValueField","_taskConfirm","_removeTask","insert","_scrollToUid","resourceValue","_dependencyConfirm","_removeDependency","_removeTaskDependencies","_removeTaskAssignments","callback","_confirm","confirmation","showDialog","_progress","cachedUid","scrollToUid","cachedIndex","_selected","_assignResources","_renderTree","_current","assigments","applyTaskResource","setter","wrapTask","resourcedId","valueFormat","formatedValue","toString","color","_wrapResourceData","result","taskAssignments","valuePerResource","progress","headerSelector","timelineHeader","timelineContent","treeListHeader","treeListContent","scrollLeft","delta","wheelDeltaY","currentTarget","one","headerTable","contentTable","tables","isInput","ctrlKey","_focusTimeout","setTimeout","focusedIndex","keyCode","focusSequence","contains","F10","first","TAB","shiftKey","hasClass","last","DELETE","selectedTask","deleteAction","tagName","_viewByIndex","promises","when","apply","done","_adjustHeight","_renderCurrentTime","toggleClass","_setPlanned","PDFMixin","_drawPDF","listTableWidth","listTableHeight","toolbarsHeight","timelineTableWidth","clone","_drawPDFShadow","avoidLinks","plugin","jQuery","kendo$1","__meta__","category","description","depends","default","defineProperty"],"sources":["kendo.gantt.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.data.js'), require('kendo.resizable.js'), require('kendo.switch.js'), require('kendo.gantt.data.js'), require('kendo.gantt.editors.js'), require('kendo.gantt.list.js'), require('kendo.gantt.timeline.js'), require('kendo.splitter.js'), require('kendo.pdf.js'), require('kendo.toolbar.js'), require('kendo.html.button.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.data', 'kendo.resizable', 'kendo.switch', 'kendo.gantt.data', 'kendo.gantt.editors', 'kendo.gantt.list', 'kendo.gantt.timeline', 'kendo.splitter', 'kendo.pdf', 'kendo.toolbar', 'kendo.html.button'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Gantt = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"gantt\",\n        name: \"Gantt\",\n        category: \"web\",\n        description: \"The Gantt component.\",\n        depends: [ \"data\", \"resizable\", \"switch\", \"gantt.data\", \"gantt.editors\", \"gantt.list\", \"gantt.timeline\", \"pdf\", \"toolbar\", \"html.button\" ]\n    };\n    (function($, undefined$1) {\n\n        var kendo = window.kendo,\n            keys = kendo.keys,\n            supportsMedia = \"matchMedia\" in window,\n            mobileOS = kendo.support.mobileOS,\n            Widget = kendo.ui.Widget,\n            encode = kendo.htmlEncode,\n            ObservableObject = kendo.data.ObservableObject,\n            ObservableArray = kendo.data.ObservableArray,\n            Query = kendo.data.Query,\n            isArray = Array.isArray,\n            isFunction = kendo.isFunction,\n            extend = $.extend,\n            isPlainObject = $.isPlainObject,\n            outerWidth = kendo._outerWidth,\n            outerHeight = kendo._outerHeight,\n            defaultIndicatorWidth = 3,\n\n            NS = \".kendoGantt\",\n            PERCENTAGE_FORMAT = \"p0\",\n            TABINDEX = \"tabIndex\",\n            STRING = \"string\",\n            DOT = \".\",\n            TASK_DELETE_CONFIRM = \"Are you sure you want to delete this task?\",\n            DEPENDENCY_DELETE_CONFIRM = \"Are you sure you want to delete this dependency?\",\n            VIEWS_DROPDOWN_TEMPLATE = ({ label, styles, views }) => `<select aria-label=\"${label}\" class=\"k-dropdown k-picker k-dropdown-list ${styles.viewsDropdown} ${styles.viewsDropdownDefaults}\">` +\n                `${Object.keys(views).map(view => '<option value=\"' + view + '\">' + kendo.htmlEncode(views[view].title) + '</option>').join(\"\")}` +\n            '</select>',\n            MIN_SCREEN = \"(max-width: 480px)\",\n            ADD_ACTIONS = [{\n                data: \"add\",\n                text: \"addChild\"\n            },\n            {\n                data: \"insert-before\",\n                text: \"insertBefore\"\n            },\n            {\n                data: \"insert-after\",\n                text: \"insertAfter\"\n            }];\n\n        var ganttStyles = {\n            wrapper: \"k-gantt\",\n            plannedTasks: \"k-gantt-planned\",\n            rowHeight: \"k-gantt-rowheight\",\n            content: \"k-gantt-content\",\n            listWrapper: \"k-gantt-treelist\",\n            list: \"k-gantt-treelist\",\n            timelineWrapper: \"k-gantt-timeline-pane\",\n            timeline: \"k-gantt-timeline-pane\",\n            splitBar: \"k-splitbar\",\n            splitter: \"k-splitter\",\n            popupWrapper: \"k-list-container\",\n            popupList: \"k-list k-reset\",\n            resizeHandle: \"k-resize-handle\",\n            icon: \"k-icon\",\n            item: \"k-item\",\n            line: \"k-gantt-line\",\n            buttonDelete: \"k-gantt-delete\",\n            buttonCancel: \"k-gantt-cancel\",\n            buttonSave: \"k-gantt-update\",\n            buttonToggle: \"k-gantt-toggle\",\n            buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n            primary: \"k-button-solid-primary\",\n            hovered: \"k-hover\",\n            selected: \"k-selected\",\n            focused: \"k-focus\",\n            focusedCell: \"k-focus\",\n            gridHeader: \"k-grid-header\",\n            gridHeaderWrap: \"k-grid-header-wrap\",\n            gridContent: \"k-grid-content\",\n            tasks: \"k-gantt-tasks\",\n            popup: {\n                form: \"k-popup-edit-form\",\n                editForm: \"k-gantt-edit-form\",\n                formContainer: \"k-edit-form-container\",\n                resourcesFormContainer: \"k-resources-form-container\",\n                message: \"k-popup-message\",\n                buttonsContainer: \"k-edit-buttons\",\n                button: \"k-button\",\n                editField: \"k-edit-field\",\n                editLabel: \"k-edit-label\",\n                resourcesField: \"k-gantt-resources\"\n            },\n            toolbar: {\n                headerWrapper: \"k-gantt-header k-gantt-toolbar\",\n                footerWrapper: \"k-gantt-footer k-gantt-toolbar\",\n                toolbar: \"k-gantt-toolbar\",\n                views: \"k-gantt-views\",\n                viewsWrapper: \"k-gantt-views-wrapper\",\n                viewsDropdown: \"k-views-dropdown\",\n                viewsDropdownDefaults: \"k-picker-solid k-rounded-md\",\n                button: \"k-button\",\n                buttonToggle: \"k-gantt-toggle\",\n                buttonDefaults: \"k-button-md k-rounded-md k-button-solid\",\n                iconPlus: \"plus\",\n                iconPdf: \"file-pdf\",\n                iconToggle: \"layout-1-by-4\",\n                viewButton: \"k-view\",\n                link: \"k-link\",\n                pdfButton: \"k-gantt-pdf\",\n                appendButton: \"k-gantt-create\"\n            }\n        };\n\n        function selector(uid) {\n            return \"[\" + kendo.attr(\"uid\") + (uid ? \"='\" + uid + \"']\" : \"]\");\n        }\n\n        function trimOptions(options) {\n            delete options.name;\n            delete options.prefix;\n\n            delete options.remove;\n            delete options.edit;\n            delete options.add;\n            delete options.navigate;\n\n            return options;\n        }\n\n        function getDifference(updated, current) {\n            return updated.filter(u => !current.some(c => c.id === u.id && c.value === u.value))\n            .concat(current.filter(c => !updated.some(u => u.id === c.id && c.value === u.value)));\n        }\n\n        function focusTable(table, direct) {\n            var wrapper = table.parents('[' + kendo.attr(\"role\") + '=\"gantt\"]');\n            var scrollPositions = [];\n            var parents = scrollableParents(wrapper);\n\n            table.attr(TABINDEX, 0);\n\n            if (direct) {\n                parents.each(function(index, parent) {\n                    scrollPositions[index] = $(parent).scrollTop();\n                });\n            }\n\n            try {\n                //The setActive method does not cause the document to scroll to the active object in the current page\n                table[0].setActive();\n            } catch (e) {\n                table[0].focus();\n            }\n\n            if (direct) {\n                parents.each(function(index, parent) {\n                    $(parent).scrollTop(scrollPositions[index]);\n                });\n            }\n        }\n\n        function scrollableParents(element) {\n            return $(element).parentsUntil(\"body\")\n                    .filter(function(index, element) {\n                        var computedStyle = kendo.getComputedStyles(element, [\"overflow\"]);\n                        return computedStyle.overflow != \"visible\";\n                    })\n                    .add(window);\n        }\n\n        var Gantt = Widget.extend({\n            init: function(element, options, events) {\n                if (isArray(options)) {\n                    options = { dataSource: options };\n                }\n\n                Widget.fn.init.call(this, element, options);\n\n                if (events) {\n                    this._events = events;\n                }\n\n                this._wrapper();\n\n                this._resources();\n\n                if (!this.options.views || !this.options.views.length) {\n                    this.options.views = [\"day\", \"week\", \"month\"];\n                }\n\n                this._timeline();\n\n                this._processDefaults();\n                this._toolbar();\n                this._footer();\n                this._splitter();\n\n                this._adjustDimensions();\n\n                // Prevent extra refresh from setting the view\n                this._preventRefresh = true;\n\n                this.view(this.timeline._selectedViewName);\n\n                this._preventRefresh = false;\n\n                this._dataSource();\n\n                this._assignments();\n\n                this._list();\n\n                this._dependencies();\n\n                this._scrollable();\n\n                this._dataBind();\n\n                this._attachEvents();\n\n                this._createEditor();\n\n                kendo.notify(this);\n\n                if (this._showWatermarkOverlay) {\n                    this._showWatermarkOverlay(this.wrapper[0]);\n                }\n            },\n\n            events: [\n                \"dataBinding\",\n                \"dataBound\",\n                \"add\",\n                \"edit\",\n                \"remove\",\n                \"cancel\",\n                \"save\",\n                \"change\",\n                \"navigate\",\n                \"moveStart\",\n                \"move\",\n                \"moveEnd\",\n                \"resizeStart\",\n                \"resize\",\n                \"resizeEnd\",\n                \"columnHide\",\n                \"columnReorder\",\n                \"columnResize\",\n                \"columnShow\",\n                \"togglePlannedTasks\"\n            ],\n\n            options: {\n                name: \"Gantt\",\n                autoBind: true,\n                navigatable: true,\n                selectable: true,\n                editable: true,\n                resizable: false,\n                columnResizeHandleWidth: defaultIndicatorWidth,\n                columns: [],\n                views: [],\n                dataSource: {},\n                dependencies: {},\n                resources: {},\n                assignments: {},\n                taskTemplate: null,\n                tooltip: {\n                    visible: true\n                },\n                messages: {\n                    save: \"Save\",\n                    cancel: \"Cancel\",\n                    destroy: \"Delete\",\n                    deleteTaskConfirmation: TASK_DELETE_CONFIRM,\n                    deleteDependencyConfirmation: DEPENDENCY_DELETE_CONFIRM,\n                    deleteTaskWindowTitle: \"Delete task\",\n                    deleteDependencyWindowTitle: \"Delete dependency\",\n                    selectView: \"Select view\",\n                    views: {\n                        day: \"Day\",\n                        week: \"Week\",\n                        month: \"Month\",\n                        year: \"Year\",\n                        start: \"Start\",\n                        end: \"End\"\n                    },\n                    actions: {\n                        append: \"Add Task\",\n                        addChild: \"Add Child\",\n                        insertBefore: \"Add Above\",\n                        insertAfter: \"Add Below\",\n                        pdf: \"Export to PDF\",\n                        toggle: \"Toggle pane\"\n                    },\n                    editor: {\n                        editorTitle: \"Task\",\n                        resourcesEditorTitle: \"Resources\",\n                        title: \"Title\",\n                        start: \"Start\",\n                        end: \"End\",\n                        plannedStart: \"Planned Start\",\n                        plannedEnd: \"Planned End\",\n                        percentComplete: \"Complete\",\n                        resources: \"Resources\",\n                        assignButton: \"Assign\",\n                        resourcesHeader: \"Resources\",\n                        unitsHeader: \"Units\",\n                        parent: \"Parent\",\n                        addNew: \"Add\",\n                        name: \"Name\",\n                        percentCompleteHint: \"value from 0 to 1\",\n                        remove: \"Remove\",\n                        actualStart: \"Actual Start\",\n                        actualEnd: \"Actual End\",\n                        parentOptionLabel: \"-None-\",\n                        general: \"General\",\n                        predecessors: \"Predecessors\",\n                        successors: \"Successors\",\n                        other: \"Other\",\n                        dependencyType: \"Type\"\n                    },\n                    plannedTasks: {\n                        switchText: \"Planned Tasks\",\n                        offsetTooltipAdvanced: \"Met deadline earlier\",\n                        offsetTooltipDelay: \"Delay\",\n                        seconds: \"seconds\",\n                        minutes: \"minutes\",\n                        hours: \"hours\",\n                        days: \"days\"\n                    }\n                },\n                showWorkHours: true,\n                showWorkDays: true,\n                toolbar: null,\n                workDayStart: new Date(1980, 1, 1, 8, 0, 0),\n                workDayEnd: new Date(1980, 1, 1, 17, 0, 0),\n                workWeekStart: 1,\n                workWeekEnd: 5,\n                hourSpan: 1,\n                snap: true,\n                height: 600,\n                listWidth: \"30%\",\n                rowHeight: null,\n                showPlannedTasks: false\n            },\n\n            select: function(value) {\n                var list = this.list;\n\n                if (!value) {\n                    return list.select();\n                }\n\n                if (typeof value === STRING) {\n                    value = list.content.find(value);\n                }\n\n                list.select(value);\n                this._selectionUpdate();\n\n                return;\n            },\n\n            clearSelection: function() {\n                this.list.clearSelection();\n                this._selectionUpdate();\n            },\n\n            destroy: function() {\n                Widget.fn.destroy.call(this);\n\n                if (this.dataSource) {\n                    this.dataSource.unbind(\"change\", this._refreshHandler);\n                    this.dataSource.unbind(\"progress\", this._progressHandler);\n                    this.dataSource.unbind(\"error\", this._errorHandler);\n                }\n\n                if (this.dependencies) {\n                    this.dependencies.unbind(\"change\", this._dependencyRefreshHandler);\n                    this.dependencies.unbind(\"error\", this._dependencyErrorHandler);\n                }\n\n                if (this.timeline) {\n                    this.timeline.unbind();\n                    this.timeline.destroy();\n                }\n\n                if (this.list) {\n                    this.list.unbind();\n                    this.list.destroy();\n                }\n\n                if (this.toolbar && this.toolbar.getKendoToolBar()) {\n                    this.toolbar.getKendoToolBar().destroy();\n                }\n\n                if (this.footer && this.footer.getKendoToolBar()) {\n                    this.footer.getKendoToolBar().destroy();\n                }\n\n                if (this._editor) {\n                    this._editor.destroy();\n                }\n\n                if (this._resourceEditorWindow) {\n                    this._resourceEditorWindow.destroy();\n                }\n\n                if (this._resizeDraggable) {\n                    this._resizeDraggable.destroy();\n                }\n\n                if (this.layout && this._getGanttSplitter()) {\n                    this._getGanttSplitter().destroy();\n                }\n\n                this.toolbar.off(NS);\n\n                if (supportsMedia) {\n                    this._mediaQuery.removeListener(this._mediaQueryHandler);\n                    this._mediaQuery = null;\n                }\n\n                $(window).off(\"resize\" + NS, this._resizeHandler);\n                $(this.wrapper).off(NS);\n\n                this.toolbar = null;\n                this.footer = null;\n\n                kendo.destroy(this.element);\n            },\n\n            setOptions: function(options) {\n                var newOptions = kendo.deepExtend({}, this.options, options);\n\n                var events = this._events;\n\n                if (!options.views) {\n                    var selectedView = this.view().name;\n\n                    newOptions.views = $.map(this.options.views, function(view) {\n                        var isSettings = isPlainObject(view);\n                        var name = isSettings ? ((typeof view.type !== \"string\") ? view.title : view.type) : view;\n\n                        if (selectedView === name) {\n                            if (isSettings) {\n                                view.selected = true;\n                            } else {\n                                view = { type: name, selected: true };\n                            }\n                        } else if (isSettings) {\n                            view.selected = false;\n                        }\n\n                        return view;\n                    });\n                }\n\n                if (!options.dataSource) { newOptions.dataSource = this.dataSource; }\n                if (!options.dependencies) { newOptions.dependencies = this.dependencies; }\n                if (!options.resources) { newOptions.resources = this.resources; }\n                if (!options.assignments) { newOptions.assignments = this.assignments; }\n\n                this.destroy();\n                this.element.empty();\n                this.options = null;\n\n                this.init(this.element, newOptions, events);\n\n                Widget.fn._setEvents.call(this, newOptions);\n            },\n\n            _attachEvents: function() {\n                this._resizeHandler = this.resize.bind(this, false);\n                $(window).on(\"resize\" + NS, this._resizeHandler);\n\n                if (supportsMedia) {\n                    this._mediaQueryHandler({ matches: this._mediaQuery.matches });\n                }\n            },\n\n            _splitter: function() {\n                this.splitter = this.layout.find(\".k-gantt-splitter\").kendoSplitter({\n                    navigatable: this.options.navigatable,\n                    orientation: \"horizontal\",\n                    panes: [\n                        { collapsible: false, scrollable: false, label: \"Gantt List\", size: this.options.listWidth },\n                        { collapsible: false, scrollable: false, label: \"Gantt Timeline\" }\n                    ]\n                }).getKendoSplitter();\n\n                if (this.options.listWidth) {\n                    this.splitter.size(\".k-pane:first\", this.options.listWidth);\n                }\n            },\n            _getGanttSplitter: function() {\n                return this.layout.find(\".k-gantt-splitter\").getKendoSplitter();\n            },\n\n            _wrapper: function() {\n                var ganttStyles = Gantt.styles;\n                var options = this.options;\n                var height = options.height;\n                var width = options.width;\n\n                this.wrapper = this.element.addClass(ganttStyles.wrapper).attr(\"role\", \"application\");\n                let splitter = $(\"<div class='k-gantt-splitter'></div>\")\n                    .append(\"<div class='\" + ganttStyles.listWrapper + \"'><div></div></div>\")\n                    .append(\"<div class='\" + ganttStyles.timelineWrapper + \"'><div></div></div>\");\n                this.layout = $(\"<div class='\" + ganttStyles.content + \"'></div>\").appendTo(this.wrapper)\n                    .append(splitter);\n\n                if (options.showPlannedTasks) {\n                    this.wrapper.addClass(ganttStyles.plannedTasks);\n                }\n\n                if (height) {\n                    this.wrapper.css(\"height\", height);\n                }\n\n                if (width) {\n                    this.wrapper.css(\"width\", width);\n                }\n\n                if (options.rowHeight) {\n                    this.wrapper.addClass(ganttStyles.rowHeight);\n                }\n\n                this.treelistWrapper = this.wrapper.find(DOT + ganttStyles.list);\n                this.timelineWrapper = this.wrapper.find(DOT + ganttStyles.timeline);\n\n                this.treelistWrapper.css(\"width\", options.listWidth);\n                this.timelineWrapper.css(\"width\", this.wrapper.width() - this.treelistWrapper.outerWidth());\n            },\n\n            _viewClickHandler: function(e) {\n                var list = this.list;\n                var name = e.target.attr(kendo.attr(\"name\"));\n\n                if (list.editor && !list.editor.end()) {\n                    return;\n                }\n\n                if (!this.trigger(\"navigate\", { view: name })) {\n                    this.view(name);\n                } else {\n                    e.preventDefault();\n                }\n            },\n\n            _togglePane: function(e) {\n                var that = this,\n                    treelist = that.treelistWrapper,\n                    timeline = that.timelineWrapper,\n                    contentSelector = DOT + ganttStyles.gridContent;\n\n                e.preventDefault();\n\n                if (treelist.is(\":visible\")) {\n                    treelist.addClass(\"k-hidden\");\n                    timeline.removeClass(\"k-hidden\");\n\n                    that.refresh();\n\n                    timeline\n                        .find(contentSelector)\n                        .scrollTop(that.scrollTop);\n                } else {\n                    treelist.removeClass(\"k-hidden\");\n                    timeline.addClass(\"k-hidden\");\n\n                    treelist\n                        .find(contentSelector)\n                        .scrollTop(that.scrollTop);\n                }\n\n                that._resize();\n            },\n\n            _processDefaults: function() {\n                var that = this,\n                    views = that.timeline.views,\n                    ns = kendo.ns,\n                    viewsButtons = [],\n                    toolbarStyles = Gantt.styles.toolbar,\n                    actionsMessages = this.options.messages.actions,\n                    items = ADD_ACTIONS.map((m) => ({\n                        text: actionsMessages[m.text],\n                        attributes: { \"data-type\": m.data }\n                    })),\n                    defaults = {\n                        append: {\n                            name: \"append\",\n                            type: \"dropDownButton\",\n                            menuButtons: items,\n                            icon: toolbarStyles.iconPlus,\n                            attributes: {\n                                class: toolbarStyles.appendButton\n                            },\n                            click: that._addClickHandler.bind(that),\n                            open: that._openAddClickHandler.bind(that)\n                        },\n                        pdf: {\n                            name: \"pdf\",\n                            type: \"button\",\n                            attributes: {\n                                class: toolbarStyles.pdfButton\n                            },\n                            icon: toolbarStyles.iconPdf,\n                            click: that.saveAsPDF.bind(that)\n                        },\n                        toggle: {\n                            name: \"toggle\",\n                            type: \"button\",\n                            showText: \"overflow\",\n                            attributes: {\n                                class: \"k-gantt-toggle\"\n                            },\n                            icon: toolbarStyles.iconToggle,\n                            click: that._togglePane.bind(that)\n                        },\n                        switchLabel: {\n                            template: \"<label for=planned-switch>\" + that.options.messages.plannedTasks.switchText + \"</label>\"\n                        },\n                        plannedTasks: {\n                            type: \"component\",\n                            component: \"Switch\",\n                            element: \"<input id='planned-switch' class='k-gantt-planned-switch'>\",\n                            componentOptions: {\n                                checked: that.options.showPlannedTasks,\n                                change: that._togglePlannedTasks.bind(that),\n                                messages: {\n                                    checked: \"\",\n                                    unchecked: \"\"\n                                }\n                            }\n                        },\n                        viewsDdl: {\n                            template: VIEWS_DROPDOWN_TEMPLATE({\n                                views: that.timeline.views,\n                                styles: toolbarStyles,\n                                label: that.options.messages.selectView\n                            })\n                        },\n                        view: {\n                            name: \"view\",\n                            type: \"button\",\n                            togglable: true,\n                            group: \"views\"\n                        },\n                        viewsGroup: {\n                            type: \"buttonGroup\",\n                            attributes: {\n                                class: toolbarStyles.views\n                            }\n                        }\n                    };\n\n                Object.keys(views).map(name => {\n                    var current = $.extend(true, {}, defaults.view);\n\n                    current.text = views[name].title;\n                    current.attributes = {\n                        class: \"k-view-\" + name.toLowerCase()\n                    };\n                    current.attributes[\"data\" + ns + \"-name\"] = name;\n\n                    defaults[name] = current;\n\n                    viewsButtons.push(name);\n                });\n\n                Object.values(defaults).map(t => {\n                    if (t.name === \"view\") {\n                        t.click = that._viewClickHandler.bind(that);\n                    }\n                });\n\n                defaults.viewsGroup.buttons = viewsButtons;\n\n                that._viewsButtons = viewsButtons;\n                that.defaultCommands = defaults;\n            },\n\n            _processTools: function(items) {\n                var editable = this.options.editable,\n                    commands = [],\n                    tools = [\"toggle\"],\n                    spacerPresent = false,\n                    defaults = this.defaultCommands;\n\n                if (!Array.isArray(items)) {\n                    if (editable && editable.create !== false) {\n                        tools.push(\"append\");\n                    }\n                } else {\n                    commands = items;\n                }\n\n                commands.map(c => {\n                    if (c === \"plannedTasks\" || c.name === \"plannedTasks\") {\n                        spacerPresent = true;\n\n                        tools.push({\n                            type: \"spacer\"\n                        });\n\n                        tools.push(\"switchLabel\");\n                    }\n\n                    if (!defaults[c] && !defaults[c.name] && !c.template) {\n                        if (typeof c === STRING) {\n                            c = {\n                                name: c,\n                                type: \"button\",\n                                text: c,\n                                attributes: {\n                                    class: \"k-gantt-\" + c\n                                }\n                            };\n                        } else {\n                            c = $.extend({}, {\n                                type: \"button\",\n                                text: c.name,\n                                attributes: {\n                                    class: \"k-gantt-\" + c.name\n                                }\n                            }, c);\n                        }\n                    }\n\n                    tools.push(c);\n                });\n\n                if (!spacerPresent) {\n                    tools.push({\n                        type: \"spacer\"\n                    });\n                }\n\n                if (this._viewsButtons && this._viewsButtons.length > 0) {\n                    if (this._viewsButtons.length > 1) {\n                        tools.push(\"viewsDdl\");\n                    }\n\n                    tools.push(\"viewsGroup\");\n                }\n\n                return tools;\n            },\n\n            _mediaQueryHandler: function(e) {\n                var that = this;\n                var splitbar = that.layout.find(\".k-splitbar\");\n                var splitter = that._getGanttSplitter();\n                var treelist = that.treelistWrapper;\n                var timeline = that.timelineWrapper;\n                var contentSelector = DOT + ganttStyles.gridContent;\n\n                var toolbarEl = that.toolbar;\n                var toolbar = toolbarEl.getKendoToolBar();\n\n                if (e.matches) {\n                    treelist.addClass(\"k-hidden\");\n                    splitbar.addClass(\"k-hidden\");\n                    splitter._suppressResize = true;\n                    toolbar.hide(toolbarEl.find(\".k-gantt-views\"));\n                    toolbar.show(toolbarEl.find(\".k-views-dropdown\"));\n\n                    treelist.width(\"100%\");\n                } else {\n                    splitter._suppressResize = false;\n                    treelist.removeClass(\"k-hidden\");\n                    splitbar.removeClass(\"k-hidden\");\n                    timeline.removeClass(\"k-hidden\");\n\n                    toolbar.show(toolbarEl.find(\".k-gantt-views\"));\n                    toolbar.hide(toolbarEl.find(\".k-views-dropdown\"));\n\n                    treelist.width(treelist.outerWidth());\n\n                    timeline\n                        .find(contentSelector)\n                        .scrollTop(that.scrollTop);\n                }\n\n                that._resize();\n            },\n\n            _toolbar: function() {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var viewsDropdownSelector = DOT + ganttStyles.toolbar.viewsDropdown;\n                var toolsOptions = this.options.toolbar;\n                var tools;\n                var toolbar;\n\n                if (typeof toolsOptions === STRING) {\n                    toolsOptions = kendo.template(toolsOptions).bind(this);\n                }\n\n                if (isFunction(toolsOptions)) {\n                    tools = this._processTools([{\n                        template: toolsOptions({})\n                    }]);\n                } else {\n                    tools = this._processTools(toolsOptions);\n                }\n\n                toolbar = $(\"<div class='\" + ganttStyles.toolbar.headerWrapper + \"'>\");\n\n                this.wrapper.prepend(toolbar);\n                this.toolbar = toolbar;\n\n                toolbar.kendoToolBar({\n                    resizable: false,\n                    tools: tools,\n                    size: \"medium\",\n                    defaultTools: this.defaultCommands,\n                    parentMessages: this.options.messages.actions\n                });\n\n                if (supportsMedia) {\n                    this._mediaQuery = window.matchMedia(MIN_SCREEN);\n                    this._mediaQuery.addListener(this._mediaQueryHandler.bind(this));\n                }\n\n                toolbar.on(\"change\" + NS, viewsDropdownSelector, function() {\n                    var list = that.list;\n                    var name = $(this).val();\n\n                    if (list.editable && list.editable.trigger(\"validate\")) {\n                        return;\n                    }\n\n                    if (!that.trigger(\"navigate\", { view: name })) {\n                        that.view(name);\n                    }\n                });\n\n                this.toggleSwitch = toolbar.find('input.k-gantt-planned-switch').data(\"kendoSwitch\");\n            },\n\n            _footer: function() {\n                var editable = this.options.editable;\n\n                if (!editable || editable.create === false) {\n                    return;\n                }\n\n                var ganttStyles = Gantt.styles.toolbar;\n                var messages = this.options.messages.actions;\n                var footer = $(\"<div class='\" + ganttStyles.footerWrapper + \"'>\");\n\n                this.wrapper.append(footer);\n                this.footer = footer;\n\n                footer.kendoToolBar({\n                    resizable: false,\n                    size: \"medium\",\n                    tools: [\"append\"],\n                    defaultTools: {\n                        append: extend(true, {}, this.defaultCommands.append, {\n                            direction: \"up\",\n                            animation: {\n                                open: {\n                                    effects: \"slideIn:up\"\n                                }\n                            }\n                        })\n                    },\n                    parentMessages: messages\n                });\n            },\n\n            _adjustDimensions: function() {\n                var element = this.element;\n                var toolbarHeight = outerHeight(this.toolbar);\n                var footerHeight = this.footer ? outerHeight(this.footer) : 0;\n                var totalHeight = element.height();\n                var totalWidth = element.width();\n                var treeListVisible = this.treelistWrapper.is(\":visible\");\n                var splitBar = this.layout.find(\".k-splitbar\");\n                var splitBarWidth = splitBar.is(\":visible\") ? outerWidth(splitBar) : 0;\n                var treeListWidth = treeListVisible ? outerWidth(this.treelistWrapper) : 0;\n                var timelineWidth = totalWidth - ( treeListWidth + splitBarWidth );\n\n                this.layout.children().height(totalHeight - (toolbarHeight + footerHeight));\n                this.timelineWrapper.width(timelineWidth);\n                if (!treeListVisible) {\n                    this.timelineWrapper.css(\"left\", 0);\n                }\n\n                if (totalWidth < (treeListWidth + splitBarWidth)) {\n                    this.treelistWrapper.width(totalWidth - splitBarWidth);\n                }\n            },\n\n            _scrollTo: function(value) {\n                var view = this.timeline.view();\n                var list = this.list;\n                var attr = kendo.attr(\"uid\");\n                var id = typeof value === \"string\" ? value :\n                    value.closest(\"tr\" + selector()).attr(attr);\n                var action;\n                var scrollTarget;\n                var scrollIntoView = function() {\n                    if (scrollTarget.length !== 0) {\n                        action();\n                    }\n                };\n\n                if (view.content.is(\":visible\")) {\n                    scrollTarget = view.content.find(selector(id));\n                    action = function() {\n                        view._scrollTo(scrollTarget);\n                    };\n                } else {\n                    scrollTarget = list.element.find(selector(id));\n                    action = function() {\n                        scrollTarget.get(0).scrollIntoView();\n                    };\n                }\n\n                scrollIntoView();\n            },\n\n            _addTask: function(selected, parent, type) {\n                var dataSource = this.dataSource,\n                    task = dataSource._createNewModel({}),\n                    timeline = this.timeline,\n                    firstSlot = timeline.view()._timeSlots()[0],\n                    editable = this.list.editor,\n                    orderId;\n\n                if (editable && editable.trigger(\"validate\")) {\n                    return;\n                }\n\n                task.set(\"title\", \"New task\");\n\n                if (parent) {\n                    task.set(\"parentId\", parent.get(\"id\"));\n                    task.set(\"start\", parent.get(\"start\"));\n                    task.set(\"end\", parent.get(\"end\"));\n                    task.set(\"plannedStart\", parent.get(\"plannedStart\"));\n                    task.set(\"plannedEnd\", parent.get(\"plannedEnd\"));\n                } else {\n                    task.set(\"start\", firstSlot.start);\n                    task.set(\"end\", firstSlot.end);\n                }\n\n                if (type && type !== \"add\") {\n                    orderId = selected.get(\"orderId\");\n                    orderId = type === \"insert-before\" ? orderId : orderId + 1;\n                }\n\n                this._createTask(task, orderId);\n            },\n\n            _addClickHandler: function(e) {\n                var type = e.target.data(\"type\");\n                var dataSource = this.dataSource;\n                var selected = this.dataItem(this.select());\n                var parent = dataSource.taskParent(selected);\n                var target = type === \"add\" ? selected : parent;\n\n                this._addTask(selected, target, type);\n            },\n\n            _openAddClickHandler: function(e) {\n                var selected = this.select();\n\n                if (!selected || selected.length === 0) {\n                    e.preventDefault();\n\n                    this._addTask();\n                }\n            },\n\n            _getListEditable: function() {\n                var editable = false,\n                    options = this.options;\n\n                if (options.editable !== false) {\n                    editable = \"incell\";\n\n                    if (options.editable && options.editable.update === false) {\n                        editable = false;\n                    } else {\n                        if (!options.editable || options.editable.reorder !== false) {\n                            editable = {\n                                mode: \"incell\",\n                                move: {\n                                    reorderable: true,\n                                    clickMoveClick: options.editable.clickMoveClick === false ? false : true\n                                }\n                            };\n                        }\n                    }\n                }\n\n                return editable;\n            },\n\n            _getListOptions: function() {\n                var options = this.options,\n                    editable = this._getListEditable(),\n                    listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                    ganttListOptions = {\n                        columns: options.columns || [],\n                        dataSource: this.dataSource,\n                        navigatable: options.navigatable,\n                        selectable: options.selectable,\n                        reorderable: options.reorderable,\n                        editable: editable,\n                        resizable: options.resizable,\n                        filterable: options.filterable,\n                        columnMenu: options.columnMenu,\n                        columnResizeHandleWidth: this.options.columnResizeHandleWidth,\n                        listWidth: outerWidth(listWrapper),\n                        resourcesField: this.resources.field,\n                        rowHeight: this.options.rowHeight\n                    };\n\n                return ganttListOptions;\n            },\n\n            _attachResourceEditor: function(columns) {\n                var column;\n\n                for (var i = 0; i < columns.length; i++) {\n                    column = columns[i];\n\n                    if (column.field === this.resources.field && typeof column.editor !== \"function\") {\n                        column.editor = this._resourcePopupEditor.bind(this);\n                    }\n                }\n            },\n\n            _attachListEvents: function() {\n                var that = this;\n\n                that.list\n                    .bind(\"columnShow\", function(e) {\n                        that.trigger(\"columnShow\", { column: e.column });\n                    })\n                    .bind(\"columnHide\", function(e) {\n                        that.trigger(\"columnHide\", { column: e.column });\n                    })\n                    .bind(\"columnReorder\", function(e) {\n                        that.trigger(\"columnReorder\", { column: e.column, oldIndex: e.oldIndex, newIndex: e.newIndex });\n                    })\n                    .bind(\"columnResize\", function(e) {\n                        that.trigger(\"columnResize\", { column: e.column, oldWidth: e.oldWidth, newWidth: e.newWidth });\n                    })\n                    .bind(\"render\", function() {\n                        that._navigatable();\n                     }, true)\n                    .bind(\"beforeEdit\", function(e) {\n\n                        if (that.trigger(\"edit\", { task: e.model, container: e.container })) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"cancel\", function(e) {\n                        if (that.trigger(\"cancel\", { task: e.model, container: e.cell })) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        that._preventItemChange = true;\n                        that.list.closeCell(true);\n                    })\n                    .bind(\"save\", function(e) {\n                        var updatedValues = e.values,\n                            key;\n\n                        that.previousTask = {};\n                        that._preventRefresh = true;\n\n                        if (that.updateDuration === null || that.updateDuration === undefined$1) {\n                            that.updateDuration = e.model.duration();\n                        }\n\n                        if (that.updatePlannedDuration === null || that.updatePlannedDuration === undefined$1) {\n                            that.updatePlannedDuration = e.model.plannedDuration();\n                        }\n\n                        if (updatedValues.hasOwnProperty(\"start\")) {\n                            updatedValues.end = new Date(updatedValues.start.getTime() + that.updateDuration);\n                        }\n\n                        if (updatedValues.hasOwnProperty(\"plannedStart\") && updatedValues.plannedStart) {\n                            updatedValues.plannedEnd = new Date(updatedValues.plannedStart.getTime() + that.updatePlannedDuration);\n                        }\n\n                        for (key in updatedValues) {\n                            if (updatedValues.hasOwnProperty(key)) {\n                                that.previousTask[key] = e.model.get(key);\n                            }\n                        }\n\n                        that.updatedValues = updatedValues;\n                    })\n                    .bind(\"itemChange\", function(e) {\n                        var updateInfo = that.updatedValues,\n                            task = e.data,\n                            resourcesField = that.resources.field,\n                            previousTask = that.previousTask,\n                            current,\n                            isCurrentInHeader,\n                            currentIndex,\n                            rowIndex,\n                            navigatable = that.options.navigatable,\n                            key;\n\n                        if (that._preventItemChange) {\n                            that._preventItemChange = false;\n                            return;\n                        }\n\n                        for (key in previousTask) {\n                            if (previousTask.hasOwnProperty(key)) {\n                                task.set(key, previousTask[key]);\n                            }\n                        }\n\n                        that.previousTask = {};\n\n                        if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                            if (updateInfo) {\n                                that._preventRefresh = true;\n                                that.dataSource.update(task, updateInfo);\n\n                                if (updateInfo[resourcesField]) {\n                                    that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                                }\n                            }\n\n                            if (navigatable) {\n                                current = $(that.list.current());\n                                isCurrentInHeader = current.is(\"th\");\n                                rowIndex = current.closest(\"tr\").index();\n                                currentIndex = isCurrentInHeader ? current.parent().children(\":not(.k-group-cell)\").index(current[0]) : Math.max(that.list.cellIndex(current), 0);\n                            }\n\n                            that._preventRefresh = false;\n                            that._requestStart();\n                            that.dataSource.sync().then(function() {\n                                if (that.options.navigatable && !that._tabPressed) {\n                                    if (!isCurrentInHeader) {\n                                        var row = that.list.tbody.children().eq(rowIndex);\n\n                                        var td = row.find(\">td:visible\")\n                                            .eq(currentIndex);\n\n                                        that.list._setCurrent(td, false, true);\n                                    }\n                                }\n                                that._tabPressed = false;\n                            });\n                        } else if (that.dataSource.hasChanges()) {\n                            that.dataSource.cancelChanges(task);\n                            that._preventRefresh = false;\n                            that.refresh();\n                        }\n\n                        that.updatedValues = null;\n                        that.updateDuration = null;\n                    })\n                    .bind(\"change\", function() {\n                        that.trigger(\"change\");\n\n                        that._selectionUpdate();\n\n                    })\n                    .bind(\"navigate\", function(e) {\n                        var treeList = e.sender;\n                        var current = treeList.current();\n                        var uid;\n\n                        that._scrollTo(current);\n                        that.timeline.element.find(\"div.k-task\").attr(\"tabindex\", \"-1\");\n                        uid = current.closest(\"tr\").attr(\"data-uid\");\n                        that.timeline.element.find(\"div.k-task[data-uid='\" + uid + \"']\").attr(\"tabindex\", \"0\");\n                    })\n                    .bind(\"expand\", function(e) {\n                        e.preventDefault();\n                        e.model.set(\"expanded\", true);\n                        // Update the pristine data as well. Otherwise, upon cancellation, the rows will collapse.\n                        that.dataSource._updatePristineForModel(e.model, { expanded: true });\n                    })\n                    .bind(\"collapse\", function(e) {\n                        e.preventDefault();\n                        e.model.set(\"expanded\", false);\n                        // Update the pristine data as well. Otherwise, upon cancellation, the rows will expand.\n                        that.dataSource._updatePristineForModel(e.model, { expanded: false });\n                    })\n                    .bind(\"dragend\", function(e) {\n                        var dataSource = that.dataSource,\n                            task, updateInfo;\n\n                        if (e.position === \"over\") {\n                            dataSource.cancelChanges();\n\n                            updateInfo = {\n                                parentId: e.source.parentId\n                            };\n\n                            task = dataSource.get(e.source.id);\n\n                            if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                                dataSource.update(task, updateInfo);\n                            }\n\n                            dataSource.sync();\n                        }\n                    })\n                    .bind(\"dataBound\", function() {\n                        if (that.dataSource.sort().length === 0) {\n                            that.dataSource.sort([{ field: \"orderId\", dir: \"asc\" }]);\n                        }\n                    })\n                    .bind(\"reorder\", function(e) {\n                        that._updateTask(e.task, e.updateInfo);\n                    });\n            },\n\n            _selectionUpdate: function() {\n                var that = this,\n                    selection = that.list.select();\n\n                if (selection.length) {\n                    that.timeline.select(\"[data-uid='\" + selection.attr(\"data-uid\") + \"']\");\n                } else {\n                    that.timeline.clearSelection();\n                }\n            },\n\n            _list: function() {\n                var ganttStyles = Gantt.styles,\n                    listWrapper = this.wrapper.find(DOT + ganttStyles.list),\n                    listElement = listWrapper.find(\"> div\"),\n                    listOptions = this._getListOptions();\n\n                this._attachResourceEditor(listOptions.columns);\n\n                this.list = new kendo.ui.GanttList(listElement, listOptions);\n\n                this._attachListEvents();\n            },\n\n            _timeline: function() {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var options = trimOptions(extend(true, { resourcesField: this.resources.field }, this.options));\n                var element = this.wrapper.find(DOT + ganttStyles.timeline + \" > div\");\n\n                this.timeline = new kendo.ui.GanttTimeline(element, options);\n\n                this.timeline\n                    .bind(\"navigate\", function(e) {\n                        var viewName = e.view.replace(/\\./g, \"\\\\.\").toLowerCase();\n                        var viewsEl = that.toolbar.find(DOT + ganttStyles.toolbar.views);\n                        var viewsGroup = viewsEl.getKendoButtonGroup();\n\n                        if (viewsGroup) {\n                            viewsGroup.select(viewsEl.find(DOT + ganttStyles.toolbar.viewButton + \"-\" + viewName));\n                        }\n\n                        that.toolbar\n                            .find(DOT + ganttStyles.toolbar.viewsDropdown)\n                            .val(e.view);\n\n                        that.refresh();\n                    })\n                    .bind(\"moveStart\", function(e) {\n                        var editable = that.list.editor;\n\n                        if (editable && !editable.end()) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        if (that.trigger(\"moveStart\", { task: e.task })) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"move\", function(e) {\n                        var task = e.task;\n                        var start = e.start;\n                        var end = new Date(start.getTime() + task.duration());\n\n                        if (that.trigger(\"move\", { task: task, start: start, end: end })) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"moveEnd\", function(e) {\n                        var task = e.task;\n                        var start = e.start;\n                        var end = new Date(start.getTime() + task.duration());\n\n                        if (!that.trigger(\"moveEnd\", { task: task, start: start, end: end })) {\n                            that._updateTask(that.dataSource.getByUid(task.uid), {\n                                start: start,\n                                end: end\n                            });\n                        }\n                    })\n                    .bind(\"resizeStart\", function(e) {\n                        var editable = that.list.editor;\n\n                        if (editable && !editable.end()) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        if (that.trigger(\"resizeStart\", { task: e.task })) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"resize\", function(e) {\n                        if (that.trigger(\"resize\", { task: e.task, start: e.start, end: e.end })) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"resizeEnd\", function(e) {\n                        var task = e.task;\n                        var updateInfo = {};\n\n                        if (e.resizeStart) {\n                            updateInfo.start = e.start;\n                        } else {\n                            updateInfo.end = e.end;\n                        }\n\n                        if (!that.trigger(\"resizeEnd\", { task: task, start: e.start, end: e.end })) {\n                            that._updateTask(that.dataSource.getByUid(task.uid), updateInfo);\n                        }\n                    })\n                    .bind(\"percentResizeStart\", function(e) {\n                        var editable = that.list.editor;\n\n                        if (editable && !editable.end()) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"percentResizeEnd\", function(e) {\n                        that._updateTask(that.dataSource.getByUid(e.task.uid), { percentComplete: e.percentComplete });\n                    })\n                    .bind(\"dependencyDragStart\", function(e) {\n                        var editable = that.list.editor;\n\n                        if (editable && !editable.end()) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"dependencyDragEnd\", function(e) {\n                        var dependency = that.dependencies._createNewModel({\n                            type: e.type,\n                            predecessorId: e.predecessor.id,\n                            successorId: e.successor.id\n                        });\n\n                        that._createDependency(dependency);\n                    })\n                    .bind(\"select\", function(e) {\n                        var editable = that.list.editor,\n                            current = that.select(),\n                            currentUid;\n\n                        if (editable) {\n                            editable.end();\n                        }\n\n                        if (current && current.length) {\n                            currentUid = current.data(\"uid\");\n                        }\n\n                        if (currentUid !== e.uid) {\n                            that.select(\"[data-uid='\" + e.uid + \"']\");\n                            that.trigger(\"change\");\n                        }\n                    })\n                    .bind(\"editTask\", function(e) {\n                        var editable = that.list.editor;\n\n                        if (editable && !editable.end()) {\n                            return;\n                        }\n\n                        that.editTask(e.uid);\n                    })\n                    .bind(\"clear\", function() {\n                        that.clearSelection();\n                        that.trigger(\"change\");\n                    })\n                    .bind(\"removeTask\", function(e) {\n                        var editable = that.list.editor;\n\n                        if (editable && !editable.end()) {\n                            return;\n                        }\n\n                        that.removeTask(that.dataSource.getByUid(e.uid));\n                    })\n                    .bind(\"expand\", function(e) {\n                        var model = that.dataSource.getByUid(e.uid);\n                        if (model.summary && !model.get(\"expanded\")) {\n                            model.set(\"expanded\", true);\n                        } else {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"collapse\", function(e) {\n                        var model = that.dataSource.getByUid(e.uid);\n\n                        if (model.summary && model.get(\"expanded\")) {\n                            model.set(\"expanded\", false);\n                        } else {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"removeDependency\", function(e) {\n                        var editable = that.list.editor;\n\n                        if (editable && !editable.end()) {\n                            return;\n                        }\n\n                        that.removeDependency(that.dependencies.getByUid(e.uid));\n                    });\n            },\n\n            _dataSource: function() {\n                var options = this.options;\n                var dataSource = options.dataSource;\n\n                dataSource = isArray(dataSource) ? { data: dataSource } : dataSource;\n\n                if (this.dataSource && this._refreshHandler) {\n                    this.dataSource\n                        .unbind(\"change\", this._refreshHandler)\n                        .unbind(\"progress\", this._progressHandler)\n                        .unbind(\"error\", this._errorHandler);\n                } else {\n                    this._refreshHandler = this.refresh.bind(this);\n                    this._progressHandler = this._requestStart.bind(this);\n                    this._errorHandler = this._error.bind(this);\n                }\n\n                this.dataSource = kendo.data.GanttDataSource.create(dataSource)\n                    .bind(\"change\", this._refreshHandler)\n                    .bind(\"progress\", this._progressHandler)\n                    .bind(\"error\", this._errorHandler);\n            },\n\n            _dependencies: function() {\n                var dependencies = this.options.dependencies || {};\n                var dataSource = isArray(dependencies) ? { data: dependencies } : dependencies;\n\n                if (this.dependencies && this._dependencyRefreshHandler) {\n                    this.dependencies\n                        .unbind(\"change\", this._dependencyRefreshHandler)\n                        .unbind(\"error\", this._dependencyErrorHandler);\n                } else {\n                    this._dependencyRefreshHandler = this.refreshDependencies.bind(this);\n                    this._dependencyErrorHandler = this._error.bind(this);\n                }\n\n                this.dependencies = kendo.data.GanttDependencyDataSource.create(dataSource)\n                    .bind(\"change\", this._dependencyRefreshHandler)\n                    .bind(\"error\", this._dependencyErrorHandler);\n            },\n\n            _resources: function() {\n                var resources = this.options.resources;\n                var dataSource = resources.dataSource || {};\n\n                this.resources = {\n                    field: \"resources\",\n                    dataTextField: \"name\",\n                    dataColorField: \"color\",\n                    dataFormatField: \"format\"\n                };\n\n                extend(this.resources, resources);\n\n                this.resources.dataSource = kendo.data.DataSource.create(dataSource);\n            },\n\n            _assignments: function() {\n                var assignments = this.options.assignments;\n                var dataSource = assignments.dataSource || { };\n\n                if (this.assignments) {\n                    this.assignments.dataSource\n                        .unbind(\"change\", this._assignmentsRefreshHandler);\n                } else {\n                    this._assignmentsRefreshHandler = this.refresh.bind(this);\n                }\n\n                this.assignments = {\n                    dataTaskIdField: \"taskId\",\n                    dataResourceIdField: \"resourceId\",\n                    dataValueField: \"value\"\n                };\n\n                extend(this.assignments, assignments);\n\n                this.assignments.dataSource = kendo.data.DataSource.create(dataSource);\n\n                this.assignments.dataSource\n                    .bind(\"change\", this._assignmentsRefreshHandler);\n            },\n\n            _createEditor: function() {\n                var that = this;\n\n                var editor = this._editor = new kendo.gantt.PopupEditor(this.wrapper, extend({}, this.options, {\n                    target: this,\n                    resources: {\n                        field: this.resources.field,\n                        editor: this._createResourceEditor.bind(this)\n                    }\n                }));\n\n                editor\n                    .bind(\"cancel\", function(e) {\n                        var task = that.dataSource.getByUid(e.model.uid);\n\n                        if (that.trigger(\"cancel\", { container: e.container, task: task })) {\n                            e.preventDefault();\n                            return;\n                        }\n\n                        if (that.dependencies) {\n                            that.dependencies.filter({});\n                        }\n\n                        that.cancelTask();\n                        if (that.options.navigatable) {\n                            that.timeline.element.find('div[data-uid=\"' + e.model.uid + '\"]').trigger(\"focus\");\n                        }\n                    })\n                    .bind(\"edit\", function(e) {\n                        var task = that.dataSource.getByUid(e.model.uid);\n\n                        if (that.trigger(\"edit\", { container: e.container, task: task })) {\n                            e.preventDefault();\n                        }\n                    })\n                    .bind(\"save\", function(e) {\n                        var task = that.dataSource.getByUid(e.model.uid);\n\n                        that.saveTask(task, e.updateInfo, e.updateDependencies);\n                    })\n                    .bind(\"remove\", function(e) {\n                        that.removeTask(e.model.uid);\n                    })\n                    .bind(\"close\", function(options) {\n                        if (that.options.navigatable) {\n                            that.element.find('div[data-uid=\"' + options.window.attr(\"data-uid\") + '\"]').trigger(\"focus\");\n                        }\n                    });\n            },\n\n            _resourcePopupEditor: function(container, options) {\n                var that = this,\n                    editor = that._createResourceEditor($(\"<div>\"), options),\n                    popupStyles = ganttStyles.popup,\n                    wrapper = that.element,\n                    dialogEl = $(kendo.format('<div class=\"' + popupStyles.formContainer + '\">')).appendTo(wrapper),\n                    messages = that.options.messages,\n                    buttonsEl, dialog;\n\n                dialogEl.append(editor.wrapper);\n                buttonsEl = $('<div class=\"' + popupStyles.buttonsContainer + '\">');\n                dialogEl.append(buttonsEl);\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonSave + \"'>\" + encode(messages.save) + \"</button>\").kendoButton({\n                    name: \"save\",\n                    themeColor: \"primary\",\n                    icon: \"save\",\n                    click: () => {\n                        if (!editor.updateModel()) {\n                            return;\n                        }\n                        editor.trigger(\"save\", { model: editor.model });\n                        that._updateAssignments(editor.model.get(\"id\"), editor.model.get(that.resources.field));\n\n                        dialog.trigger(\"close\");\n                        dialog.close();\n                    }\n                }));\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonCancel + \"'>\" + encode(messages.cancel) + \"</button>\").kendoButton({\n                    name: \"cancel\",\n                    icon: \"cancel\",\n                    click: () => {\n                        dialog.trigger(\"close\");\n                        dialog.close();\n                    }\n                }));\n\n                this._resourceEditorWindow = dialog = dialogEl.kendoWindow({\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    visible: false,\n                    title: messages.editor.resourcesEditorTitle,\n                    deactivate: () => {\n                        editor.destroy();\n                        dialog.destroy();\n                        dialog.element.closest(\".k-window\").remove();\n                    }\n                }).data(\"kendoWindow\");\n\n                dialog.center().open();\n\n                return editor;\n            },\n\n            _createResourceEditor: function(container, options) {\n                var that = this;\n                var model = options instanceof ObservableObject ? options : options.model;\n                var messages = this.options.messages;\n                var resourcesField = this.resources.field;\n                var unitsValidation = { step: 0.01, min: 0.01, max: 1 };\n                var assignmentsModel = this.assignments.dataSource.options.schema.model;\n                var resourceTextField = that.resources.dataTextField;\n                var resources = this.resources.dataSource.view();\n\n\n                if (assignmentsModel && assignmentsModel.fields.Units && assignmentsModel.fields.Units.validation) {\n                    extend(true, unitsValidation, assignmentsModel.fields.Units.validation);\n                }\n\n                var editor = this._resourceEditor = new kendo.gantt.ResourceEditor(container, {\n                    resourcesField: resourcesField,\n                    unitsValidation: unitsValidation,\n                    resources: resources.map(r => ({ value: r.id, text: r[resourceTextField] })),\n                    model: model,\n                    messages: extend({}, messages.editor)\n                });\n\n                return editor;\n            },\n\n            view: function(type) {\n                return this.timeline.view(type);\n            },\n\n            range: function(range) {\n                var dataSource = this.dataSource;\n                var view = this.view();\n                var timeline = this.timeline;\n\n                if (range) {\n                    view.options.range = {\n                        start: range.start,\n                        end: range.end\n                    };\n\n                    timeline._render(dataSource.taskTree());\n                    timeline._renderDependencies(this.dependencies.view());\n                }\n\n                return {\n                    start: view.start,\n                    end: view.end\n                };\n            },\n\n            date: function(date) {\n                var view = this.view();\n\n                if (date) {\n                    view.options.date = date;\n                    view._scrollToDate(date);\n                }\n\n                return view.options.date;\n            },\n\n            dataItem: function(value) {\n                if (!value) {\n                    return null;\n                }\n\n                var list = this.list;\n                var element = list.element.find(value);\n\n                return list._modelFromElement(element);\n            },\n\n            setDataSource: function(dataSource) {\n                this.options.dataSource = dataSource;\n\n                this._dataSource();\n\n                this.list.setDataSource(this.dataSource);\n\n                if (this.options.autoBind) {\n                    dataSource.fetch();\n                }\n            },\n\n            setDependenciesDataSource: function(dependencies) {\n                this.options.dependencies = dependencies;\n\n                this._dependencies();\n\n                if (this.options.autoBind) {\n                    dependencies.fetch();\n                }\n            },\n\n            items: function() {\n                return this.wrapper.children(\".k-task\");\n            },\n\n            _updateAssignments: function(id, resources) {\n                var dataSource = this.assignments.dataSource;\n                var taskId = this.assignments.dataTaskIdField;\n                var resourceId = this.assignments.dataResourceIdField;\n                var hasMatch = false;\n                var assignments = new Query(dataSource.view())\n                    .filter({\n                        field: taskId,\n                        operator: \"eq\",\n                        value: id\n                    }).toArray();\n                var assignment;\n                var resource;\n                var value;\n\n                while (assignments.length) {\n                    assignment = assignments[0];\n\n                    for (var i = 0, length = resources.length; i < length; i++) {\n                        resource = resources[i];\n\n                        if (assignment.get(resourceId) === resource.get(\"id\")) {\n                            value = resources[i].get(\"value\");\n                            this._updateAssignment(assignment, value);\n                            resources.splice(i, 1);\n                            hasMatch = true;\n                            break;\n                        }\n                    }\n\n                    if (!hasMatch) {\n                        this._removeAssignment(assignment);\n                    }\n\n                    hasMatch = false;\n\n                    assignments.shift();\n                }\n\n                for (var j = 0, newLength = resources.length; j < newLength; j++) {\n                    resource = resources[j];\n\n                    if (resource.id !== undefined$1 && resource.value) {\n                        this._createAssignment(resource, id);\n                    }\n                }\n\n                dataSource.sync();\n            },\n\n            cancelTask: function() {\n                var editor = this._editor;\n                var container = editor.container;\n\n                if (container) {\n                    editor.close();\n                }\n\n                if (this.dependencies) {\n                    this.dependencies.cancelChanges();\n                }\n            },\n\n            editTask: function(uid) {\n                var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n                if (!task) {\n                    return;\n                }\n\n                var taskCopy = this.dataSource._createNewModel(task.toJSON());\n                taskCopy.uid = task.uid;\n\n                this.cancelTask();\n\n                this._editTask(taskCopy);\n            },\n\n            _editTask: function(task) {\n                this._editor.editTask(task, this.options.editable.plannedTasks);\n            },\n\n            saveTask: function(task, updateInfo, updateDependencies) {\n                var that = this,\n                    editor = this._editor,\n                    container = editor.container,\n                    editable = editor.editable,\n                    hasChanges = false,\n                    hasResourceChanges = false,\n                    updateInfo = updateInfo || {},\n                    resourcesField = that.options.resources.field,\n                    difference;\n\n                Object.keys(updateInfo).map(k => {\n                    var updated = updateInfo[k],\n                        current = task.get(k);\n\n                    if (updated instanceof Date) {\n                        updated = updated.getTime();\n                        current = current ? current.getTime() : undefined$1;\n                    }\n\n                    if (updated !== current) {\n                        if (k === resourcesField) {\n                            difference = getDifference(updated, current);\n\n                            if (difference && difference.length > 0) {\n                                hasResourceChanges = true;\n                            }\n                        } else {\n                            hasChanges = true;\n                        }\n                    }\n                });\n\n                if (container &&\n                    editable &&\n                    editable.end() &&\n                    (hasChanges || hasResourceChanges || updateDependencies)) {\n                        if (!that.trigger(\"save\", { task: task, values: updateInfo, updateDependencies: updateDependencies })) {\n                            if (hasChanges) {\n                                that._preventRefresh = true;\n\n                                that.dataSource.update(task, updateInfo);\n                            }\n\n                            if (hasResourceChanges) {\n                                this._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                            }\n\n                            that._syncDataSource();\n\n                            if (this.dependencies) {\n                                this._updateDependency(updateDependencies);\n                            }\n\n                            this._editor.close();\n                        } else {\n                            if (task && task.dirty) {\n                                that.dataSource.cancelChanges(task);\n                                that._preventRefresh = false;\n                                that.refresh();\n                            }\n\n                            if (that.dependencies) {\n                                that.dependencies.cancelChanges();\n                            }\n                        }\n                } else if (editable && editable.end()) {\n                    this._editor.close();\n                }\n            },\n\n            _updateDependency: function(updateDependencies) {\n                this.dependencies.filter({});\n\n                if (updateDependencies) {\n                    updateDependencies.created.map(d => {\n                        this._preventDependencyRefresh = true;\n                        this.dependencies.add(d);\n                        this._preventDependencyRefresh = false;\n                    });\n\n                    updateDependencies.destroyed.map(d => {\n                        this.dependencies.remove(d);\n                    });\n                }\n\n                this.dependencies.sync();\n            },\n\n            _updateTask: function(task, updateInfo) {\n                var that = this;\n                var resourcesField = that.resources.field;\n\n                if (!that.trigger(\"save\", { task: task, values: updateInfo })) {\n                    if (updateInfo) {\n                        that._preventRefresh = true;\n\n                        that.dataSource.update(task, updateInfo);\n\n                        if (updateInfo[resourcesField]) {\n                            that._updateAssignments(task.get(\"id\"), updateInfo[resourcesField]);\n                        }\n                    }\n\n                    that._syncDataSource();\n                } else {\n                    if (task && task.dirty) {\n                        that.dataSource.cancelChanges(task);\n                        that._preventRefresh = false;\n                        that.refresh();\n                    }\n\n                    if (that.dependencies) {\n                        that.dependencies.cancelChanges();\n                    }\n                }\n            },\n\n            _updateAssignment: function(assignment, value) {\n                var resourceValueField = this.assignments.dataValueField;\n\n                assignment.set(resourceValueField, value);\n            },\n\n            removeTask: function(uid) {\n                var that = this;\n                var task = typeof uid === \"string\" ? this.dataSource.getByUid(uid) : uid;\n\n                if (!task) {\n                    return;\n                }\n\n                this._taskConfirm(function(cancel) {\n                    if (!cancel) {\n                        that._removeTask(task);\n                    }\n                }, task);\n            },\n\n            _createTask: function(task, index) {\n                if (!this.trigger(\"add\", {\n                    task: task,\n                    dependency: null\n                })) {\n                    var dataSource = this.dataSource;\n\n                    this._preventRefresh = true;\n\n                    if (index === undefined$1) {\n                        dataSource.add(task);\n                    } else {\n                        dataSource.insert(index, task);\n                    }\n\n                    this._scrollToUid = task.uid;\n                    this._syncDataSource();\n                }\n            },\n\n            _createDependency: function(dependency) {\n                if (!this.trigger(\"add\", {\n                    task: null,\n                    dependency: dependency\n                })) {\n                    this._preventDependencyRefresh = true;\n\n                    this.dependencies.add(dependency);\n\n                    this._preventDependencyRefresh = false;\n\n                    this.dependencies.sync();\n                }\n            },\n\n            _createAssignment: function(resource, id) {\n                var assignments = this.assignments;\n                var dataSource = assignments.dataSource;\n                var taskId = assignments.dataTaskIdField;\n                var resourceId = assignments.dataResourceIdField;\n                var resourceValue = assignments.dataValueField;\n                var assignment = dataSource._createNewModel();\n\n                assignment[taskId] = id;\n                assignment[resourceId] = resource.get(\"id\");\n                assignment[resourceValue] = resource.get(\"value\");\n\n                dataSource.add(assignment);\n            },\n\n            removeDependency: function(uid) {\n                var that = this;\n                var dependency = typeof uid === \"string\" ? this.dependencies.getByUid(uid) : uid;\n\n                if (!dependency) {\n                    return;\n                }\n\n                this._dependencyConfirm(function(cancel) {\n                    if (!cancel) {\n                        that._removeDependency(dependency);\n                    }\n                }, dependency);\n            },\n\n            _removeTaskDependencies: function(task, dependencies) {\n                this._preventDependencyRefresh = true;\n\n                for (var i = 0, length = dependencies.length; i < length; i++) {\n                    this.dependencies.remove(dependencies[i]);\n                }\n\n                this._preventDependencyRefresh = false;\n\n                this.dependencies.sync();\n            },\n\n            _removeTaskAssignments: function(task) {\n                var dataSource = this.assignments.dataSource;\n                var assignments = dataSource.view();\n                var filter = {\n                    field: this.assignments.dataTaskIdField,\n                    operator: \"eq\",\n                    value: task.get(\"id\")\n                };\n\n                assignments = new Query(assignments).filter(filter).toArray();\n\n                this._preventRefresh = true;\n\n                for (var i = 0, length = assignments.length; i < length; i++) {\n                    dataSource.remove(assignments[i]);\n                }\n\n                this._preventRefresh = false;\n\n                dataSource.sync();\n            },\n\n            _removeTask: function(task) {\n                var dependencies = this.dependencies.dependencies(task.id);\n\n                if (!this.trigger(\"remove\", {\n                    task: task,\n                    dependencies: dependencies\n                })) {\n                    this._removeTaskDependencies(task, dependencies);\n                    this._removeTaskAssignments(task);\n\n                    this._preventRefresh = true;\n\n                    if (this.dataSource.remove(task)) {\n                        this._syncDataSource();\n                    }\n\n                    if (this.dependencies) {\n                        this.dependencies.filter({});\n                    }\n\n                    this._preventRefresh = false;\n                }\n            },\n\n            _removeDependency: function(dependency) {\n                if (!this.trigger(\"remove\", {\n                    task: null,\n                    dependencies: [dependency]\n                })) {\n                    if (this.dependencies.remove(dependency)) {\n                        this.dependencies.sync();\n                    }\n                }\n            },\n\n            _removeAssignment: function(assignment) {\n                this.assignments.dataSource.remove(assignment);\n            },\n\n            _taskConfirm: function(callback, task) {\n                let messages = this.options.messages;\n\n                this._confirm(callback, {\n                    model: task,\n                    text: encode(messages.deleteTaskConfirmation),\n                    title: encode(messages.deleteTaskWindowTitle)\n                });\n            },\n\n            _dependencyConfirm: function(callback, dependency) {\n                let messages = this.options.messages;\n\n                this._confirm(callback, {\n                    model: dependency,\n                    text: encode(messages.deleteDependencyConfirmation),\n                    title: encode(messages.deleteDependencyWindowTitle)\n                });\n            },\n\n            _confirm: function(callback, options) {\n                var editable = this.options.editable;\n\n                if (editable === true || editable.confirmation !== false) {\n                    this.showDialog(extend(true, {}, options, { callback: callback }));\n                } else {\n                    callback();\n                }\n            },\n\n            showDialog: function(options) {\n                this._editor.showDialog(options);\n            },\n\n            refresh: function() {\n                if (this._preventRefresh || !this.list || this.list.editor) {\n                    return;\n                }\n\n                this._progress(false);\n\n                var dataSource = this.dataSource;\n                var taskTree = dataSource.taskTree();\n                var scrollToUid = this._scrollToUid;\n                var current;\n                var cachedUid;\n                var cachedIndex = -1;\n                var selected = this.select()[0] ? this.select().data(\"uid\") : this._selected;\n\n                if (this.current) {\n                    cachedUid = this.current.closest(\"tr\").attr(kendo.attr(\"uid\"));\n                    cachedIndex = this.current.index();\n                }\n\n                if (this.trigger(\"dataBinding\")) {\n                    return;\n                }\n\n                if (this.resources.dataSource.data().length !== 0) {\n                    this._assignResources(taskTree);\n                }\n\n                if (this._editor) {\n                    this._editor.close();\n                }\n\n                this.clearSelection();\n                this.list._renderTree(taskTree);\n                this.timeline._render(taskTree);\n                this.timeline._renderDependencies(this.dependencies.view());\n\n                if (scrollToUid) {\n                    this._scrollTo(scrollToUid);\n                    this.select(selector(scrollToUid));\n                }\n\n                if ((scrollToUid || cachedUid) && cachedIndex >= 0) {\n                    current = this.list.element\n                        .find(\"tr\" + selector((scrollToUid || cachedUid)) + \" > td\").eq(cachedIndex);\n\n                    this._current(current);\n                }\n\n                this._scrollToUid = null;\n\n                if (selected) {\n                    this._selected = selected;\n                    this.select(\"[data-uid=\" + selected + \"]\");\n                }\n\n                this.trigger(\"dataBound\");\n            },\n\n            refreshDependencies: function() {\n                if (this._preventDependencyRefresh) {\n                    return;\n                }\n\n                if (this.trigger(\"dataBinding\")) {\n                    return;\n                }\n\n                this.timeline._renderDependencies(this.dependencies.view());\n\n                this.trigger(\"dataBound\");\n            },\n\n            _assignResources: function(taskTree) {\n                var resources = this.resources;\n                var assignments = this.assignments;\n                var groupAssigments = function() {\n                    var data = assignments.dataSource.view();\n                    var group = {\n                        field: assignments.dataTaskIdField\n                    };\n\n                    data = new Query(data).group(group).toArray();\n\n                    return data;\n                };\n                var assigments = groupAssigments();\n                var applyTaskResource = function(task, action) {\n                    var taskId = task.get(\"id\");\n\n                    kendo.setter(resources.field)(task, new ObservableArray([]));\n\n                    for (var i = 0, length = assigments.length; i < length; i++) {\n                        if (assigments[i].value === taskId) {\n                            action(task, assigments[i].items);\n                        }\n                    }\n                };\n                var wrapTask = function(task, items) {\n                    for (var j = 0, length = items.length; j < length; j++) {\n                        var item = items[j];\n                        var resource = resources.dataSource.get(item.get(assignments.dataResourceIdField));\n                        var resourceValue = item.get(assignments.dataValueField);\n                        var resourcedId = item.get(assignments.dataResourceIdField);\n                        var valueFormat = resource.get(resources.dataFormatField) || PERCENTAGE_FORMAT;\n                        var formatedValue = kendo.toString(resourceValue, valueFormat);\n\n                        task[resources.field].push(new ObservableObject({\n                            id: resourcedId,\n                            name: resource.get(resources.dataTextField),\n                            color: resource.get(resources.dataColorField),\n                            value: resourceValue,\n                            formatedValue: formatedValue,\n                            format: valueFormat\n                        }));\n                    }\n                };\n\n                for (var i = 0, length = taskTree.length; i < length; i++) {\n                    applyTaskResource(taskTree[i], wrapTask);\n                }\n            },\n\n            _wrapResourceData: function(id) {\n                var that = this;\n                var result = [];\n                var resource;\n                var resources = this.resources.dataSource.view();\n                var assignments = this.assignments.dataSource.view();\n                var taskAssignments = new Query(assignments).filter({\n                    field: that.assignments.dataTaskIdField,\n                    operator: \"eq\",\n                    value: id\n                }).toArray();\n                var valuePerResource = function(id) {\n                    var resourceValue = null;\n\n                    new Query(taskAssignments).filter({\n                        field: that.assignments.dataResourceIdField,\n                        operator: \"eq\",\n                        value: id\n                    }).select(function(assignment) {\n                        resourceValue += assignment.get(that.assignments.dataValueField);\n                    });\n\n                    return resourceValue;\n                };\n\n                for (var i = 0, length = resources.length; i < length; i++) {\n                    resource = resources[i];\n                    result.push({\n                        id: resource.get(\"id\"),\n                        name: resource.get(that.resources.dataTextField),\n                        format: resource.get(that.resources.dataFormatField) || PERCENTAGE_FORMAT,\n                        value: valuePerResource(resource.id)\n                    });\n                }\n\n                return result;\n            },\n\n            _syncDataSource: function() {\n                this._preventRefresh = false;\n                this._requestStart();\n                this.dataSource.sync();\n            },\n\n            _requestStart: function() {\n                this._progress(true);\n            },\n\n            _error: function() {\n                this._progress(false);\n            },\n\n            _progress: function(toggle) {\n                kendo.ui.progress(this.element, toggle);\n            },\n\n            _scrollable: function() {\n                var that = this;\n                var ganttStyles = Gantt.styles;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n                var timelineHeader = this.timeline.element.find(headerSelector);\n                var timelineContent = this.timeline.element.find(contentSelector);\n                var treeListHeader = this.list.element.find(headerSelector);\n                var treeListContent = this.list.element.find(contentSelector);\n\n                if (mobileOS) {\n                    treeListContent.css(\"overflow-y\", \"auto\");\n                }\n\n                timelineContent.on(\"scroll\", function() {\n                    that.scrollTop = this.scrollTop;\n                    kendo.scrollLeft(timelineHeader, this.scrollLeft);\n                    treeListContent.scrollTop(this.scrollTop);\n                });\n\n                treeListContent\n                    .on(\"scroll\", function() {\n                        kendo.scrollLeft(treeListHeader, this.scrollLeft);\n                    })\n                    .on(\"DOMMouseScroll\" + NS + \" mousewheel\" + NS, function(e) {\n                        var scrollTop = timelineContent.scrollTop();\n                        var delta = kendo.wheelDeltaY(e);\n\n                        if (delta) {\n                            e.preventDefault();\n                            //In Firefox DOMMouseScroll event cannot be canceled\n                            $(e.currentTarget).one(\"wheel\" + NS, false);\n\n                            timelineContent.scrollTop(scrollTop + (-delta));\n                        }\n                    });\n            },\n\n            _navigatable: function() {\n                var that = this;\n                var navigatable = this.options.navigatable;\n                var editable = this.options.editable;\n                var ganttStyles = Gantt.styles;\n                var contentSelector = DOT + ganttStyles.gridContent;\n                var listWrapper = DOT + ganttStyles.listWrapper;\n                var headerSelector = DOT + ganttStyles.gridHeaderWrap;\n                var headerTable = this.list.element.find(headerSelector).find(\"table\");\n                var contentTable = this.list.element.find(contentSelector).find(\"table\");\n                var tables = headerTable.add(contentTable);\n                var attr = selector();\n                var deleteAction = function() {\n                    var editable = that.options.editable;\n\n                    if (!editable || editable.destroy === false || that.list.editor) {\n                        return;\n                    }\n\n                    var selectedTask = that.select();\n                    var uid = kendo.attr(\"uid\");\n\n                    if (selectedTask.length) {\n                        that.removeTask(selectedTask.attr(uid));\n                    }\n                };\n\n                $(this.wrapper)\n                    .on(\"mousedown\" + NS, listWrapper + \" tr\" + attr, function(e) {\n                        var isInput = $(e.target).is(\":button,a,:input,a>.k-icon,.k-svg-icon,k-svg-icon,svg,path,textarea,span.k-icon:not(.k-i-none),span.k-svg-icon:not(.k-svg-i-none),span.k-link,.k-input,.k-multiselect-wrap,.k-input-value-text,.k-input-inner\");\n\n                        if (e.ctrlKey) {\n                            return;\n                        }\n\n\n                        if ((navigatable || editable) && !isInput) {\n                            that._focusTimeout = setTimeout(function() {\n                                focusTable(that.list.content.find(\"table\"), true);\n                            }, 2);\n                        }\n                    })\n                    .on(\"keydown\" + NS, function(e) {\n                        var key = e.keyCode;\n                        var that = this;\n                        var uid;\n                        var cell;\n                        var target = $(e.target);\n                        var focusedIndex;\n                        var focusSequence = [\n                            that.toolbar,\n                            that.layout.find(\".k-splitbar\"),\n                            that.layout.find(\".k-gantt-treelist\"),\n                            that.layout.find(\".k-gantt-timeline-pane\")\n                        ];\n\n                        that._tabPressed = false;\n\n                        if (that.footer) {\n                            focusSequence.push(that.footer);\n                        }\n\n                        for (var i = 0; i < focusSequence.length; i++) {\n                            if ($.contains(focusSequence[i][0], e.target) || focusSequence[i][0] === e.target) {\n                                focusedIndex = i;\n                                break;\n                            }\n                        }\n\n                        if (key === keys.F10) {\n                            that.toolbar.find(\"[tabindex=0]:visible\").first().addClass(ganttStyles.focused).trigger(\"focus\");\n                            e.preventDefault();\n                        } else if (key == keys.TAB) {\n                            if (focusedIndex == 2) {\n                                that._tabPressed = true;\n                            }\n                            if (e.shiftKey) {\n                                for (i = focusedIndex - 1; i >= 0; i--) {\n                                    if (!focusSequence[i].hasClass(\"k-hidden\")) {\n                                        uid = target.attr(\"data-uid\");\n                                        if (i === 2 && uid) {\n                                            cell = that.list.content.find(\"tr[data-uid='\" + uid + \"']\").find(\"td\").last();\n                                            that.list.current(cell);\n                                            focusTable(that.list.content.find(\"table\"), true);\n                                        } else {\n                                            if (focusSequence[i].is(\":kendoFocusable\")) {\n                                                focusSequence[i].trigger(\"focus\");\n                                            } else {\n                                                focusSequence[i].find(\"[tabindex=0]:visible\").trigger(\"focus\");\n                                            }\n                                        }\n                                        e.preventDefault();\n                                        break;\n                                    }\n                                }\n                            } else {\n                                for (i = focusedIndex + 1; i < focusSequence.length; i++) {\n                                    if (!focusSequence[i].hasClass(\"k-hidden\")) {\n                                        if (focusSequence[i].is(\":kendoFocusable\")) {\n                                            focusSequence[i].trigger(\"focus\");\n                                        } else {\n                                            focusSequence[i].find(\"[tabindex=0]:visible\").trigger(\"focus\");\n                                        }\n                                        e.preventDefault();\n                                      break;\n                                    }\n                                }\n                            }\n                        }\n\n                    }.bind(this));\n\n                if (navigatable) {\n                    contentTable\n                        .on(\"keydown\" + NS, function(e) {\n                            var key = e.keyCode;\n                            if (e.keyCode == keys.DELETE) {\n                                deleteAction();\n                            } else if (key >= 49 && key <= 57 && e.target.tagName.toLowerCase() !== \"input\") {\n                               that.view(that.timeline._viewByIndex(key - 49));\n                            }\n                        });\n\n                    return;\n                }\n\n                tables\n                    .on(\"focus\" + NS, function() {\n                        $(that.toolbar.find(DOT + ganttStyles.focused)).removeClass(ganttStyles.focused);\n                    })\n                    .on(\"blur\" + NS, function() {\n\n                        if (this == headerTable) {\n                            $(this).attr(TABINDEX, -1);\n                        }\n                    });\n            },\n\n\n            _dataBind: function() {\n                var that = this;\n\n                if (that.options.autoBind) {\n                    this._preventRefresh = true;\n                    this._preventDependencyRefresh = true;\n\n                    var promises = $.map([\n                        this.dataSource,\n                        this.dependencies,\n                        this.resources.dataSource,\n                        this.assignments.dataSource\n                    ],\n                    function(dataSource) {\n                        return dataSource.fetch();\n                    });\n\n                    $.when.apply(null, promises)\n                        .done(function() {\n                            that._preventRefresh = false;\n                            that._preventDependencyRefresh = false;\n                            that.refresh();\n                        });\n                }\n            },\n\n            _resize: function() {\n                this._adjustDimensions();\n                this.timeline.view()._adjustHeight();\n                this.timeline.view()._renderCurrentTime();\n                this.list._adjustHeight();\n            },\n\n            _togglePlannedTasks: function(e) {\n                var timeline = this.timeline;\n\n                if (!this.trigger(\"togglePlannedTasks\", { showPlannedTasks: !timeline.options.showPlannedTasks })) {\n                    this.wrapper.toggleClass(ganttStyles.plannedTasks);\n                    timeline._setPlanned(!timeline.options.showPlannedTasks);\n                    timeline._render(this.dataSource.taskTree());\n                    timeline._renderDependencies(this.dependencies.view());\n                } else {\n                    e.preventDefault();\n                }\n            }\n        });\n\n        if (kendo.PDFMixin) {\n            kendo.PDFMixin.extend(Gantt.fn);\n\n            Gantt.fn._drawPDF = function() {\n                var ganttStyles = Gantt.styles;\n                // Get the width of the treelist portion.\n                var listTableWidth = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridContent + \">table\").width();\n                // Get the height of the treelist portion.\n                var listTableHeight = this.wrapper.find(DOT + ganttStyles.list + \" \" + DOT + ganttStyles.gridContent + \">table\").height();\n                // Get the combined height of all toolbars.\n                var toolbarsHeight = this.wrapper.find(DOT + ganttStyles.toolbar.toolbar).outerHeight() * this.wrapper.find(DOT + ganttStyles.toolbar.toolbar).length;\n                // Get the width of the timeline portion.\n                var timelineTableWidth = this.wrapper.find(DOT + ganttStyles.timeline + \" \" + DOT + ganttStyles.gridContent + \" table\").width();\n                var content = this.wrapper.clone();\n\n                content.find(DOT + ganttStyles.list).css(\"height\", listTableHeight + toolbarsHeight);\n                content.find(DOT + ganttStyles.splitter).css(\"width\", timelineTableWidth + listTableWidth);\n                content.find(DOT + ganttStyles.splitter).css(\"height\", listTableHeight + toolbarsHeight);\n\n                return this._drawPDFShadow({\n                    content: content\n                }, {\n                    avoidLinks: this.options.pdf.avoidLinks\n                });\n            };\n        }\n\n        kendo.ui.plugin(Gantt);\n\n        extend(true, Gantt, { styles: ganttStyles });\n\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}