{"version":3,"file":"kendo.toolbar.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Toolbar","this","$","undefined$1","window","Widget","ui","isFunction","keys","outerWidth","_outerWidth","ns","TOOLBAR","KBUTTON","BUTTON_GROUP","SPLIT_BUTTON","MENU_BUTTON","SPACER_CLASS","STATE_SELECTED","STATE_HIDDEN","FORCE_HIDDEN","GROUP_START","GROUP_END","MENU_LINK","MENU_ITEM","OVERFLOW_ANCHOR","TEMPLATE_ITEM","MENU_LINK_TOGGLE","DROPDOWNLIST","INPUT_BUTTON","KFOCUS","TABINDEX_MINUS_1","TOOLBAR_TOOL","ARIA_CHECKED","ARIA_LABEL","CHANGE","CLICK","TOGGLE","OPEN","CLOSE","FOCUS","KEYDOWN","SPACER","ROLE","ITEM_REF","SEPARATOR","OVERFLOW","TABINDEX","INPUT","SELECT","GROUP","DATA_UID","DATA_ROLE_SELECTOR","DATA_TOGGLE_SELECTOR","DATA_ROLE_BUTTONMENU","ITEM_REF_SELECTOR","KENDO_FOCUSABLE","OVERFLOW_OPEN","OVERFLOW_CLOSE","OVERFLOW_NEVER","OVERFLOW_AUTO","OVERFLOW_ALWAYS","KENDO_UID_ATTR","attr","NOTHING","DASH","EMPTY","DOT","COMMA","ID","UID","K_DROP_DOWN_BUTTON","K_SPLIT_BUTTON","K_TOGGLE_BUTTON","K_BUTTON_GROUP","toolbar","WIDGET_TYPES","button","splitButton","dropDownButton","buttonGroup","popupButton","open","TOOLBAR_TOOLS_CLASSES","Button","ToggleButton","SplitButton","DropDownButton","ButtonGroup","ColorPicker","Switch","SAFE_COMPONENTS","POPUP_BUTTON_TEMPLATE","icon","ToolBar","extend","init","element","options","fn","call","_isRtl","support","isRtl","uid","guid","wrapper","addClass","resizable","_resizable","tools","length","items","_extendToolsOptions","_items","_attachEvents","_tabIndex","_applyCssClasses","_shrink","innerWidth","overflowAnchor","appendTo","_toggleOverflowAnchor","notify","events","name","navigateOnTab","evaluateTemplates","size","fillMode","destroy","that","unbindResize","_resizeHandler","overflowMenu","find","each","i","el","popup","popupWrapper","chooser","getKendoButton","remove","children","add","_add","resize","enable","candidate","focused","_getUid","item","_getItem","component","hasClass","is","removeAttr","trigger","buttonsPopupItem","widgetInstance","closest","menuItem","getSelectedFromGroup","groupName","filter","hide","elements","parentGroupEl","templateEl","toolbarEl","parent","data","_groupVisibleButtons","addBack","_resetTabIndex","_getAllItems","first","siblings","show","removeClass","toggle","checked","parentGroup","group","_toggleIndex","index","toggleClass","toggleTools","conditions","focusable","not","elm","tool","widget","condition","toToggle","processed","_processOptions","template","overflowTemplate","type","_addTemplate","_addCustomWidget","_addDefaultTool","_addSpacer","_addSeparator","insertBefore","_addAttributes","attributes","classes","hidden","align","class","id","overflow","forEach","groupClass","result","overflowComponent","_addMenuItem","componentOptions","indexOf","wrap","op","_addToolbarTool","menuitem","selected","showIcon","imageUrl","showText","text","encoded","append","last","prepend","togglable","menuButtons","buttons","click","bind","e","_onMenuItemSelect","_addPopupButton","widgetElement","popupComponent","kendoPopup","anchor","on","preventDefault","commandOn","target","value","close","separator","overflowSeparator","spacer","inputsInTemplate","html","popupRef","hasButtons","primary","themeColor","url","preventKeyNav","_attachWidgetEvents","_resetOpen","extensions","_keydown","_focusIn","_focusOut","_onClick","_onToggle","_onSelect","_onOpen","_onClose","$el","originalEvent","event","_childrenWidth","gap","parseInt","css","childrenWidth","Math","ceil","flatMap","_mapTool","parentMessages","defaultTools","style","visibility","knownUid","uidSelector","buttonsPopups","_getNextElement","direction","itemIndex","parentElement","focusableItem","visibleBtns","_hideItem","eq","menu","list","_showMenuItem","_hideMenuItem","keyCode","templateItem","isOverflowAnchor","ESC","stopPropagation","_keyDeactivateTemplate","ENTER","_keyActivateTemplate","altKey","DOWN","SPACEBAR","_keyOpenOverflow","HOME","_keyFocusFirst","END","_keyFocusLast","RIGHT","LEFT","_keyFocusNext","innerFocusable","pagerTool","innerWidget","visible","width","next","_mapAttributes","toolOptions","messages","property","title","command","dialog","toggleCondition","_mapComponent","componentMessages","componentPlaceholder","placeholder","dataSource","default","Object","JSON","stringify","key","ev","sender","map","isBuiltInTool","originalTool","isArray","Array","isPlainObjectTool","isPlainObject","toolKeysCount","t","deepExtend","_menuItemSelect","shouldSelect","twin","replace","current","select","setTimeout","menuEl","overflowItem","_processInner","parentUid","rootUid","some","b","every","selection","enabled","_renderOverflow","horizontalDirection","kendoButton","ContextMenu","showOn","origin","position","alignToAnchor","uploadWrapper","input","one","files","off","toFocus","onResize","_resize","containerWidth","popupBtnElements","_stretch","commandElement","visibleCommands","activeElement","_showItem","itemOuterWidth","hiddenCommands","focusableItems","firstFocusable","Item","Class","OverflowButton","TemplateItem","ToolBarButton","registerComponent","cssProperties","registerPrefix","registerValues","prop","values","plugin","jQuery","kendo$1","__meta__","category","description","depends","defineProperty"],"sources":["kendo.toolbar.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.core.js'), require('kendo.splitbutton.js'), require('kendo.dropdownbutton.js'), require('kendo.buttongroup.js'), require('kendo.menu.js'), require('kendo.icons.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.core', 'kendo.splitbutton', 'kendo.dropdownbutton', 'kendo.buttongroup', 'kendo.menu', 'kendo.icons'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Toolbar = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"toolbar\",\n        name: \"ToolBar\",\n        category: \"web\",\n        description: \"The ToolBar widget displays one or more command buttons divided into groups.\",\n        depends: [ \"core\", \"splitbutton\", \"dropdownbutton\", \"buttongroup\", \"menu\", \"icons\" ]\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            Widget = ui.Widget,\n            isFunction = kendo.isFunction,\n            keys = kendo.keys,\n            outerWidth = kendo._outerWidth,\n            ns = \".kendoToolBar\",\n            TOOLBAR = \"toolbar\",\n            KTOOLBAR = \"k-toolbar\",\n            KBUTTON = \"k-button\",\n            BUTTON_GROUP = \"k-button-group\",\n            SPLIT_BUTTON = \"k-split-button\",\n            MENU_BUTTON = \"k-menu-button\",\n            POPUP_BUTTON = \"k-popup-button\",\n            KSEPARATOR = \"k-separator\",\n            SPACER_CLASS = \"k-spacer\",\n            UPLOAD_BUTTON = \"k-upload-button\",\n            POPUP = \"k-popup\",\n            RESIZABLE_TOOLBAR = \"k-toolbar-resizable\",\n            STATE_SELECTED = \"k-selected\",\n            STATE_DISABLED = \"k-disabled\",\n            STATE_HIDDEN = \"k-hidden\",\n            FORCE_HIDDEN = \"k-force-hidden\",\n            GROUP_START = \"k-group-start\",\n            GROUP_END = \"k-group-end\",\n            MENU_LINK = \"k-menu-link\",\n            MENU_ITEM = \"k-menu-item\",\n            OVERFLOW_ANCHOR = \"k-toolbar-overflow-button\",\n            TEMPLATE_ITEM = \"k-toolbar-item\",\n            MENU_LINK_TOGGLE = \"k-menu-link-toggle\",\n            DROPDOWNLIST = \"k-dropdownlist\",\n            INPUT_BUTTON = \"k-input-button\",\n            MENU_POPUP = \"k-menu-popup\",\n            KFOCUS = \"k-focus\",\n            SINGLE = \"single\",\n            MULTIPLE = \"multiple\",\n            NONE = \"none\",\n            TABINDEX_MINUS_1 = \"[tabindex=-1]\",\n            TOOLBAR_TOOL = \"toolbar-tool\",\n\n            ARIA_DISABLED = \"aria-disabled\",\n            ARIA_CHECKED = \"aria-checked\",\n            ARIA_LABEL = \"aria-label\",\n\n            CHANGE = \"change\",\n            CLICK = \"click\",\n            TOGGLE = \"toggle\",\n            OPEN = \"open\",\n            CLOSE = \"close\",\n            FOCUS = \"focus\",\n            FOCUSIN = \"focusin\",\n            FOCUSOUT = \"focusout\",\n            KEYDOWN = \"keydown\",\n\n            SPACER = \"spacer\",\n            PRIMARY = \"primary\",\n            ROLE = \"role\",\n            ITEM_REF = \"ref-\",\n            SEPARATOR = \"separator\",\n            OVERFLOW = \"overflow\",\n            TABINDEX = \"tabindex\",\n            INPUT = \"input\",\n            SELECT = \"select\",\n            HIDDEN = \"hidden\",\n            GROUP = \"group\",\n            DATA_UID = \"data-uid\",\n            DATA_PARENTUID = \"data-parentuid\",\n            DATA_ROLE_SELECTOR = \"[data-role]\",\n            DATA_TOGGLE_SELECTOR = \"[data-toggle]\",\n            DATA_ROLE_BUTTONMENU = \"[data-role=buttonmenu]\",\n            ITEM_REF_SELECTOR = \"[ref-toolbar-tool]\",\n            KENDO_FOCUSABLE = \":kendoFocusable:not([class*='pager'])\",\n\n            OVERFLOW_OPEN = \"overflowOpen\",\n            OVERFLOW_CLOSE = \"overflowClose\",\n            OVERFLOW_NEVER = \"never\",\n            OVERFLOW_AUTO = \"auto\",\n            OVERFLOW_ALWAYS = \"always\",\n\n            KENDO_UID_ATTR = kendo.attr(\"uid\"),\n\n            NOTHING = \"\",\n            DASH = \"_\",\n            EMPTY = \" \",\n            DOT = \".\",\n            COMMA = \",\",\n            ID = \"id\",\n            UID = \"uid\",\n            NBSP = \"&nbsp;\",\n\n            K_DROP_DOWN_BUTTON = \"kendoDropDownButton\",\n            K_SPLIT_BUTTON = \"kendoSplitButton\",\n            K_TOGGLE_BUTTON = \"kendoToggleButton\",\n            K_BUTTON_GROUP = \"kendoButtonGroup\";\n\n            kendo.toolbar = {};\n\n        var WIDGET_TYPES = {\n            button: \"Button\",\n            splitButton: \"SplitButton\",\n            dropDownButton: \"DropDownButton\",\n            buttonGroup: \"ButtonGroup\",\n            popupButton: \"Button\",\n            open: \"Button\"\n        };\n\n        var TOOLBAR_TOOLS_CLASSES = {\n            Button: \"k-toolbar-button\",\n            ToggleButton: \"k-toolbar-toggle-button\",\n            SplitButton: \"k-toolbar-split-button\",\n            DropDownButton: \"k-toolbar-menu-button\",\n            ButtonGroup: \"k-toolbar-button-group\",\n            ColorPicker: \"k-toolbar-color-picker\",\n            Switch: \"k-toolbar-switch\"\n        };\n\n        var SAFE_COMPONENTS = [ \"Button\", \"SplitButton\", \"DropDownButton\", \"ButtonGroup\", \"Switch\", \"ColorPicker\" ];\n\n        var POPUP_BUTTON_TEMPLATE = `<button class=\"k-popup-button\"><span class=\"k-button-icon k-icon\"></span><span class=\"k-button-text\">${kendo.ui.icon(\"caret-alt-down\")}</span></button>`;\n        var TEMPLATE_WRAPPER = \"<div class='k-toolbar-item' aria-keyshortcuts='Enter'></div>\";\n        var CUSTOM_WIDGET_WRAP = \"<span class='k-toolbar-item' tabindex='0' ref-toolbar-tool >\";\n        var SEPARATOR_OVERFLOW_EL = \"<li role='separator' class='k-separator k-menu-separator k-hidden'></li>\";\n        var SEPARATOR_EL = '<div role=\"separator\">&nbsp;</div>';\n        var SPACER_EL = '<div>&nbsp;</div>';\n\n        var ToolBar = Widget.extend({\n            init: function(element, options) {\n                Widget.fn.init.call(this, element, options);\n\n                options = this.options;\n\n                this._isRtl = kendo.support.isRtl(element);\n                this.uid = kendo.guid();\n\n                element = this.wrapper = this.element;\n                element.attr(KENDO_UID_ATTR, this.uid);\n                element.addClass(KTOOLBAR);\n                element.attr(ROLE, TOOLBAR);\n\n                if (options.resizable) {\n                    this._resizable();\n                }\n\n                if (options.tools && options.tools.length > 0) {\n                    options.items = this._extendToolsOptions();\n                }\n\n                if (options.items && options.items.length) {\n                    this._items();\n                }\n\n                this._attachEvents();\n                this._tabIndex();\n                this._applyCssClasses();\n\n                if (options.resizable) {\n                    this._shrink(this.element.innerWidth());\n                    this.overflowAnchor.appendTo(this.wrapper);\n                    this._toggleOverflowAnchor();\n                }\n\n                kendo.notify(this);\n            },\n\n            events: [\n                CLICK,\n                TOGGLE,\n                OPEN,\n                CLOSE,\n                OVERFLOW_OPEN,\n                OVERFLOW_CLOSE,\n                CHANGE\n            ],\n\n            options: {\n                name: \"ToolBar\",\n                items: [],\n                resizable: true,\n                navigateOnTab: false,\n                evaluateTemplates: false,\n                size: \"medium\",\n                fillMode: \"solid\"\n            },\n\n            destroy: function() {\n                var that = this;\n\n                if (that.options.resizable) {\n                    kendo.unbindResize(that._resizeHandler);\n                    that.overflowMenu.destroy();\n                }\n\n                that.element.find(DOT + POPUP_BUTTON).each((i, el) => {\n                    var button = $(el).getKendoButton(),\n                        popup, popupWrapper, chooser;\n\n                    if (button) {\n                        chooser = button.chooser;\n                        popup = button.popup;\n                        popupWrapper = popup.wrapper;\n\n                        chooser.destroy();\n                        popup.destroy();\n                        popupWrapper.remove();\n                    }\n                });\n\n                kendo.destroy(that.element.children());\n\n                Widget.fn.destroy.call(that);\n            },\n\n            add: function(options) {\n                this._add(options);\n\n                if (this.options.resizable) {\n                    this.resize(true);\n                }\n            },\n\n            enable: function(candidate, enable) {\n                var that = this,\n                    uid = this._getUid(candidate),\n                    item = this._getItem(candidate, uid),\n                    component = item.component,\n                    buttonPopup, children, focused, wrapper;\n\n                if (typeof enable == \"undefined\") {\n                    enable = true;\n                }\n\n                if (item.component) {\n                    wrapper = component.wrapper;\n                    focused = wrapper.hasClass(KFOCUS) || wrapper.is(\":focus\");\n                    component.enable(enable);\n                    wrapper.find(\"[disabled]\").removeAttr(\"disabled\");\n                    wrapper.removeAttr(\"disabled\");\n\n                    if (focused) {\n                        wrapper.addClass(KFOCUS).trigger(FOCUS);\n                    }\n                } else if (item.buttonsPopupItem.length > 0) {\n                    buttonPopup = kendo.widgetInstance(item.buttonsPopupItem.closest(DOT + MENU_POPUP));\n                    buttonPopup.enable(enable, item.buttonsPopupItem);\n                }\n\n                if (this.overflowMenu) {\n                    this.overflowMenu.enable(item.menuItem, enable);\n\n                    children = this.overflowMenu.element\n                        .find(\"[data-parentuid=\" + uid + \"]\");\n\n                    children.each((i, el) => {\n                        that.overflowMenu.enable($(el), enable);\n                    });\n                }\n            },\n\n            getSelectedFromGroup: function(groupName) {\n                return this.element.find(\"[data-group='\" + groupName + \"']\").filter(DOT + STATE_SELECTED);\n            },\n\n            hide: function(candidate) {\n                var that = this,\n                    uid = this._getUid(candidate),\n                    item = that._getItem(candidate, uid),\n                    elements, parentButtonGroup, children, parentGroupEl;\n\n                if (!item) {\n                    return;\n                }\n\n                elements = item.templateEl.add(item.toolbarEl).add(item.buttonsPopupItem).add(item.menuItem);\n\n                elements.addClass(STATE_HIDDEN);\n                elements.addClass(FORCE_HIDDEN);\n\n                if (this.overflowMenu) {\n                    children = this.overflowMenu.element\n                        .find(\"[data-parentuid=\" + uid + \"]\");\n\n                    children.each((i, el) => {\n                        $(el).addClass(FORCE_HIDDEN);\n                        $(el).addClass(STATE_HIDDEN);\n                    });\n                }\n\n                parentGroupEl = item.toolbarEl.parent().closest(DOT + BUTTON_GROUP);\n                parentButtonGroup = parentGroupEl.data(K_BUTTON_GROUP);\n\n                if (parentButtonGroup) {\n                    if (parentGroupEl.children(\":not(.k-hidden)\").length === 0) {\n                        that.hide(parentGroupEl);\n                    } else {\n                        that._groupVisibleButtons(parentGroupEl);\n                    }\n                }\n\n                if (elements.find(\"[tabindex=0]\").addBack(\"[tabindex=0]\").length > 0) {\n                    this._resetTabIndex(that._getAllItems().first());\n                }\n\n                if (this.options.resizable) {\n                    this.resize(true);\n                }\n            },\n\n            remove: function(candidate) {\n                var that = this,\n                    uid = this._getUid(candidate),\n                    item = this._getItem(candidate, uid),\n                    buttonGroup, children;\n\n                if (!item) {\n                    return;\n                }\n\n                if (item.component) {\n                    buttonGroup = item.toolbarEl.closest('[data-role=\"buttongroup\"]');\n                    if (buttonGroup.length > 0 && item.toolbarEl.siblings().length === 0) {\n                        buttonGroup.data(K_BUTTON_GROUP).destroy();\n                        buttonGroup.remove();\n\n                        item.toolbarEl = $(NOTHING);\n                    } else {\n                        item.component.destroy();\n                    }\n                }\n\n                if (item.templateEl.length > 0) {\n                    item.templateEl.remove();\n                } else if (item.toolbarEl.length > 0) {\n                    item.toolbarEl.remove();\n                }\n\n                if (item.buttonsPopupItem.length > 0) {\n                    item.buttonsPopupItem.remove();\n                }\n\n                if (this.overflowMenu) {\n                    this.overflowMenu.remove(item.menuItem);\n\n                    children = this.overflowMenu.element\n                        .find(\"[data-parentuid=\" + uid + \"]\");\n\n                    children.each((i, el) => {\n                        that.overflowMenu.remove($(el));\n                    });\n                }\n\n                if (this.options.resizable) {\n                    this.resize(true);\n                }\n            },\n\n            show: function(candidate) {\n                var that = this,\n                    uid = this._getUid(candidate),\n                    item = this._getItem(candidate, uid),\n                    elements, parentButtonGroup, children, parentGroupEl;\n\n                if (!item) {\n                    return;\n                }\n\n                elements = item.templateEl.add(item.toolbarEl).add(item.buttonsPopupItem);\n                elements.removeClass(FORCE_HIDDEN);\n                elements.removeClass(STATE_HIDDEN);\n\n                item.menuItem.removeClass(FORCE_HIDDEN);\n\n                if (this.overflowMenu) {\n                    children = this.overflowMenu.element\n                        .find(\"[data-parentuid=\" + uid + \"]\");\n\n                    children.each((i, el) => {\n                        $(el).removeClass(FORCE_HIDDEN);\n                    });\n                }\n\n                parentGroupEl = item.toolbarEl.parent().closest(DOT + BUTTON_GROUP);\n                parentButtonGroup = parentGroupEl.data(K_BUTTON_GROUP);\n\n                if (parentButtonGroup) {\n                    if (parentGroupEl.hasClass(\"k-hidden\") && parentGroupEl.children(\":not(.k-hidden)\").length > 0) {\n                        that.show(parentGroupEl);\n                    } else {\n                        that._groupVisibleButtons(parentGroupEl);\n                    }\n                }\n\n                if (this.options.resizable) {\n                    this.resize(true);\n                }\n            },\n\n            toggle: function(candidate, checked) {\n                var item = this._getItem(candidate),\n                    element = item.toolbarEl,\n                    menuItem = item.menuItem,\n                    button, parentGroup, group, groupButtons;\n\n                if (checked === undefined$1) {\n                    checked = true;\n                }\n\n                button = element.data(K_TOGGLE_BUTTON);\n\n                if (!item.component && menuItem.find(DOT + MENU_LINK_TOGGLE).length === 0) {\n                    return;\n                }\n\n                group = element.data(GROUP);\n\n                if (item.component) {\n                    parentGroup = element.closest(DOT + BUTTON_GROUP).data(K_BUTTON_GROUP);\n\n                    if (parentGroup) {\n                        if (element.hasClass(STATE_SELECTED) !== checked) {\n                            parentGroup._toggleIndex(element.index());\n                        }\n                    }\n\n                    button.toggle(checked);\n\n                    if (checked) {\n                        groupButtons = this.element.find(\"[data-group=\" + group + \"]\");\n\n                        groupButtons.each((i, el) => {\n                            if (el !== element[0]) {\n                                $(el).data(K_TOGGLE_BUTTON).toggle(false);\n                            }\n                        });\n                    }\n                }\n\n                if (menuItem) {\n                    menuItem\n                        .attr(ARIA_CHECKED, checked)\n                        .find(DOT + MENU_LINK_TOGGLE)\n                        .toggleClass(STATE_SELECTED, checked);\n\n                    if (checked && this.overflowMenu) {\n                        groupButtons = this.overflowMenu.element.find(\"[data-group=\" + group + \"]\");\n\n                        groupButtons.each((i, el) => {\n                            if (el !== menuItem[0]) {\n                                $(el)\n                                    .attr(ARIA_CHECKED, false)\n                                    .find(DOT + MENU_LINK_TOGGLE)\n                                    .removeClass(STATE_SELECTED);\n                            }\n                        });\n                    }\n                }\n            },\n\n            toggleTools: function(conditions) {\n                var that = this,\n                    tools = that.element.find(DATA_TOGGLE_SELECTOR),\n                    focusable = that.element.find(KENDO_FOCUSABLE).not(TABINDEX_MINUS_1);\n\n                tools.each(function(index, elm) {\n                    var tool = $(elm),\n                        widget = null,\n                        condition = tool.data(TOGGLE),\n                        toToggle = conditions && conditions[condition];\n\n                    if (tool.is(DATA_ROLE_SELECTOR)) {\n                        widget = kendo.widgetInstance(tool);\n                    }\n\n                    if (widget && widget.enable) {\n                        widget.enable(toToggle || false);\n                    } else {\n                        that.enable(tool, toToggle);\n                    }\n                });\n\n                that.element.find(DATA_TOGGLE_SELECTOR + \"[disabled]\").removeAttr(\"disabled\");\n\n                that.element.find(KENDO_FOCUSABLE).not(TABINDEX_MINUS_1).attr(\"tabindex\", -1);\n                focusable.attr(TABINDEX, 0);\n            },\n\n            _add: function(options) {\n                var processed = this._processOptions(options),\n                    template = processed.template,\n                    overflowTemplate = processed.overflowTemplate,\n                    type = WIDGET_TYPES[processed.type],\n                    element;\n\n                if (template || overflowTemplate) {\n                    element = this._addTemplate(processed);\n                } else if (kendo.ui[processed.component]) {\n                    element = this._addCustomWidget(processed);\n                } else if (type) {\n                    element = this._addDefaultTool(type, processed);\n                } else if (processed.type === SPACER) {\n                    this._addSpacer();\n                } else if (processed.type === SEPARATOR) {\n                    this._addSeparator(processed);\n                }\n\n                if (element) {\n                    if (this.overflowAnchor) {\n                        element.insertBefore(this.overflowAnchor);\n                    } else {\n                        element.appendTo(this.element);\n                    }\n\n                    element.find(\"[disabled]\").removeAttr(\"disabled\");\n\n                    if (element.is(\"[disabled]\")) {\n                        element.removeAttr(\"disabled\");\n                    }\n                }\n            },\n\n            _addAttributes: function(options, element) {\n                var attributes = options.attributes,\n                    classes = NOTHING;\n\n                if (!attributes) {\n                    attributes = {};\n                }\n\n                if (options.hidden) {\n                    classes = STATE_HIDDEN + EMPTY + FORCE_HIDDEN;\n                }\n\n                if (options.align) {\n                    classes = classes + \" k-align-\" + options.align;\n                }\n\n                if (attributes) {\n                    if (attributes.class) {\n                        classes = classes + EMPTY + attributes.class;\n                        delete attributes.class;\n                    }\n\n                    element.attr(attributes);\n                }\n\n                element.addClass(classes);\n                element.attr(KENDO_UID_ATTR, options.uid);\n\n                if (options.id) {\n                    element.attr(ID, options.id);\n                }\n                if (options.overflow === OVERFLOW_NEVER) {\n                    element.attr(\"data-overflow\", OVERFLOW_NEVER);\n                }\n\n                if (options.items) {\n                    options.items.forEach(item => {\n                        if (item && item.groupClass && !element.hasClass(item.groupClass)) {\n                            element.addClass(item.groupClass);\n                        }\n                    });\n                }\n            },\n\n            _addCustomWidget: function(options) {\n                var element = $(options.element || \"<input>\"),\n                    widget, result, classes;\n\n                if (options.overflowComponent) {\n                    this._addMenuItem(options.overflowComponent.type, $.extend({}, options, options.overflowComponent));\n                }\n\n                if (options.attributes) {\n                    classes = options.attributes.class;\n                    delete options.attributes[\"class\"];\n                    element.attr(options.attributes);\n                    delete options.attributes[ARIA_LABEL];\n                }\n\n                if (!options.componentOptions) {\n                    options.componentOptions = {};\n                }\n\n                options.componentOptions.size = this.options.size;\n\n                widget = new kendo.ui[options.component](element, options.componentOptions);\n\n                if (SAFE_COMPONENTS.indexOf(options.component) > -1) {\n                    widget.wrapper.addClass(TOOLBAR_TOOLS_CLASSES[options.component]).attr(ITEM_REF + TOOLBAR_TOOL, '');\n                    result = widget.wrapper;\n                } else {\n                    result = (widget.wrapper || widget.element).wrap(CUSTOM_WIDGET_WRAP).parent();\n                }\n\n                if (options.attributes) {\n                    options.attributes.class = classes;\n                }\n\n                this._addAttributes(options, result);\n\n                return result;\n            },\n\n            _addDefaultTool: function(component, options) {\n                var element, op;\n\n                if (options.overflow !== OVERFLOW_ALWAYS) {\n                    element = this._addToolbarTool(component, $.extend(true, {}, options));\n                }\n\n                if (this.overflowMenu && options.overflow !== OVERFLOW_NEVER) {\n                    if (options.overflowComponent) {\n                        op = $.extend(true, {}, options, options.overflowComponent);\n                        delete op[\"data-command\"];\n                        this._addMenuItem(\"Button\", op);\n                    } else {\n                        this._addMenuItem(component, $.extend(true, {}, options));\n                    }\n                }\n\n                return element;\n            },\n\n            _addMenuItem: function(component, options) {\n                var that = this,\n                    selected = options.selected,\n                    menuitem;\n\n                delete options.selected;\n\n                if (options.id) {\n                    options.id = options.id + DASH + OVERFLOW;\n                }\n                if (options.showIcon === TOOLBAR) {\n                    delete options.imageUrl;\n                    delete options.icon;\n                }\n\n                if (options.showText === TOOLBAR) {\n                    if (!options.attributes) {\n                        options.attributes = {};\n                    }\n\n                    options.attributes[ARIA_LABEL] = options.text;\n\n                    options.text = NOTHING;\n                } else if (options.text === undefined$1 || options.text === NOTHING) {\n                    options.text = NBSP;\n                    options.encoded = false;\n                }\n\n                that.overflowMenu.append(options);\n                menuitem = that.overflowMenu.element.find(DOT + MENU_ITEM).last();\n\n                if (options.icon) {\n                    menuitem.find(DOT + MENU_LINK).prepend(kendo.ui.icon(options.icon));\n                }\n\n                if (component === \"ToggleButton\" || (component === \"Button\" && options.togglable === true)) {\n                    menuitem.find(DOT + MENU_LINK).addClass(MENU_LINK_TOGGLE);\n\n                    if (selected) {\n                        menuitem.find(DOT + MENU_LINK).addClass(STATE_SELECTED);\n                    }\n\n                    if (options.group) {\n                        menuitem.attr(\"data-group\", options.group);\n                    }\n                } else if (options.menuButtons) {\n                    options.menuButtons.forEach((i) => {\n                        i.overflow = options.overflow;\n                        that._addMenuItem(null, i);\n                    });\n                } else if (options.buttons) {\n                    menuitem.remove();\n                    menuitem = null;\n\n                    options.buttons.forEach((i) => {\n                        var attributes = i.attributes;\n                        i.overflow = options.overflow;\n                        i.attributes = $.extend(attributes, options.attributes);\n\n                        that._addMenuItem(\"Button\", i);\n                    });\n                }\n\n                if (component === \"DropDownButton\") {\n                    menuitem.addClass(STATE_DISABLED);\n                    menuitem.attr(ARIA_DISABLED, true);\n                }\n\n                if (menuitem) {\n                    that._addAttributes(options, menuitem);\n\n                    if (options.overflow === OVERFLOW_AUTO) {\n                        menuitem.addClass(STATE_HIDDEN);\n                    }\n\n                    if (options.click || options.toggle) {\n                        that.overflowMenu.bind(SELECT, (e) => {\n                            if (e.item === menuitem[0]) {\n                                this._onMenuItemSelect(e, options.click, options.toggle);\n                            }\n                        });\n                    }\n                }\n\n                return menuitem;\n            },\n\n            _addPopupButton: function(options) {\n                var that = this,\n                    widgetElement = $(POPUP_BUTTON_TEMPLATE),\n                    component = options.popupComponent,\n                    popup, chooser;\n\n                widgetElement.attr(ARIA_LABEL, options.text);\n\n                popup = $(\"<div/>\").appendTo($(\"<body>\")).kendoPopup({\n                    anchor: widgetElement\n                }).data(\"kendoPopup\");\n\n                widgetElement.on(CLICK + \" touchend\", (e) => {\n                    popup.toggle();\n                    e.preventDefault();\n                });\n\n                chooser = new component(popup.element);\n\n                chooser.bind(options.commandOn, (e) => {\n                    that.trigger(CHANGE, { target: widgetElement, value: e.value || e });\n                    popup.close();\n                });\n\n                return { widgetElement, chooser, popup };\n            },\n\n            _addSeparator: function(options) {\n                var separator = $(SEPARATOR_EL),\n                    overflowSeparator = $(SEPARATOR_OVERFLOW_EL);\n\n                separator.addClass(KSEPARATOR);\n                separator.attr(ROLE, SEPARATOR);\n\n                if (this.overflowAnchor) {\n                    separator.insertBefore(this.overflowAnchor);\n                } else {\n                    separator.appendTo(this.element);\n                }\n\n                this._addAttributes(options, separator);\n\n                if (options.id) {\n                    options.id = options.id + DASH + OVERFLOW;\n                }\n\n                this._addAttributes(options, overflowSeparator);\n\n                if (this.overflowMenu) {\n                    this.overflowMenu.element.append(overflowSeparator);\n                }\n            },\n\n            _addSpacer: function() {\n                var spacer = $(SPACER_EL);\n                spacer.addClass(SPACER_CLASS);\n\n                if (this.overflowAnchor) {\n                    spacer.insertBefore(this.overflowAnchor);\n                } else {\n                    spacer.appendTo(this.element);\n                }\n            },\n\n            _addTemplate: function(options) {\n                var template = options.template,\n                    overflowTemplate = options.overflowTemplate,\n                    element, menuitem, inputsInTemplate = $(NOTHING);\n\n                if (overflowTemplate && this.overflowMenu && options.overflow !== OVERFLOW_NEVER) {\n                    overflowTemplate = isFunction(overflowTemplate) ? overflowTemplate(options)[0] : overflowTemplate;\n                    this.overflowMenu.append({});\n                    menuitem = this.overflowMenu.element\n                        .find(DOT + MENU_ITEM)\n                        .last()\n                        .find(DOT + MENU_LINK)\n                        .html(overflowTemplate)\n                        .parent();\n                }\n\n                if (template && options.overflow !== OVERFLOW_ALWAYS) {\n                    if (this.options.evaluateTemplates) {\n                        template = kendo.template(template);\n                    }\n\n                    template = isFunction(template) ? template(options) : template;\n\n                    element = $(TEMPLATE_WRAPPER);\n                    element.html(template);\n\n                    if (menuitem) {\n                        menuitem.addClass(STATE_HIDDEN);\n                    }\n                }\n\n                if (element) {\n                    inputsInTemplate = element.find(INPUT + COMMA + SELECT);\n                    this._addAttributes(options, element);\n                }\n\n                if (menuitem) {\n                    inputsInTemplate.add(menuitem.find(INPUT + COMMA + SELECT));\n                    this._addAttributes(options, menuitem);\n                }\n\n                if (!this.options.navigateOnTab && inputsInTemplate.length > 0) {\n                    element.attr(TABINDEX, 0);\n                    element.attr(ITEM_REF + TOOLBAR_TOOL, '');\n                    inputsInTemplate.attr(TABINDEX, -1);\n                }\n\n                return element;\n            },\n\n            _addToolbarTool: function(component, options) {\n                var widgetElement = $(\"<button>\"),\n                    hasButtons = false,\n                    widget, element, popupRef;\n\n                if (options.primary === true) {\n                    options.themeColor = PRIMARY;\n                }\n                if (options.url) {\n                    widgetElement = $(\"<a href='\" + options.url + \"'>\");\n                }\n                if (options.showIcon === OVERFLOW) {\n                    delete options.imageUrl;\n                    delete options.icon;\n                }\n                if (options.showText !== OVERFLOW) {\n                    widgetElement.text(options.text);\n                } else {\n                    widgetElement.attr(ARIA_LABEL, options.text);\n                }\n\n                if (options.type === \"popupButton\") {\n                    popupRef = this._addPopupButton(options);\n                    widgetElement = popupRef.widgetElement;\n                } else if (component === \"Button\" && options.togglable === true) {\n                    component = \"ToggleButton\";\n                } else if (options.menuButtons) {\n                    options.items = options.menuButtons;\n                    delete options.menuButtons;\n\n                    if (options.attributes && options.attributes.class) {\n                        widgetElement.addClass(options.attributes.class);\n                    }\n\n                    widgetElement.attr(DATA_UID, options.uid);\n                    delete options.uid;\n                } else if (options.buttons) {\n                    widgetElement = $(\"<span></span>\");\n                    hasButtons = true;\n                    options.items = options.buttons;\n                    delete options.buttons;\n\n                    options.preventKeyNav = true;\n\n                    options.items.forEach(i => {\n                        if (i.showIcon === OVERFLOW) {\n                            delete i.imageUrl;\n                            delete i.icon;\n                        }\n\n                        if (i.showText === OVERFLOW) {\n                            if (!i.attributes) {\n                                i.attributes = {};\n                            }\n\n                            i.attributes[ARIA_LABEL] = i.text;\n\n                            delete i.text;\n                        }\n                    });\n                }\n\n                if (options.id) {\n                    widgetElement.attr(ID, options.id);\n                    delete options.id;\n                }\n\n                // Remove the name property. Otherwise the default component name will be overriden.\n                // This will cause us to init an element with data-role=${name} instead of the correct data-role of the component.\n                if (options.name) {\n                    delete options.name;\n                }\n\n                options.size = this.options.size;\n\n                widget = new kendo.ui[component]($(widgetElement), options);\n                element = widget.wrapper || widget.element;\n                element.addClass(TOOLBAR_TOOLS_CLASSES[component]);\n                this._addAttributes(options, element);\n\n                if (options.url) {\n                    widgetElement.removeAttr(ROLE);\n                }\n\n                if (hasButtons) {\n                    element.find(DOT + KBUTTON).attr(ITEM_REF + TOOLBAR_TOOL, '');\n                    this._groupVisibleButtons(element);\n                } else {\n                    widget.element.attr(ITEM_REF + TOOLBAR_TOOL, '');\n                }\n\n                if (options.type !== \"popupButton\" && options.type !== \"open\") {\n                    this._attachWidgetEvents(widget);\n                } else if (options.type === \"open\") {\n                    widgetElement.addClass(UPLOAD_BUTTON);\n                    this._resetOpen(widgetElement, options.extensions);\n                    element = widgetElement.parent();\n                } else {\n                    widget.chooser = popupRef.chooser;\n                    widget.popup = popupRef.popup;\n                }\n\n                return element;\n            },\n\n            _attachEvents: function() {\n                var that = this;\n\n                that.element.on(KEYDOWN + ns, that._keydown.bind(that))\n                    .on(FOCUSIN + ns, that._focusIn.bind(that))\n                    .on(FOCUSOUT + ns, that._focusOut.bind(that));\n            },\n\n            _attachWidgetEvents: function(widget) {\n                var that = this;\n\n                widget.bind(CLICK, that._onClick.bind(that));\n                widget.bind(TOGGLE, that._onToggle.bind(that));\n                widget.bind(SELECT, that._onSelect.bind(that));\n                widget.bind(OPEN, that._onOpen.bind(that));\n                widget.bind(CLOSE, that._onClose.bind(that));\n\n                widget.wrapper.find(DOT + KBUTTON).each((i, el) => {\n                    var $el = $(el);\n\n                    if ($el.data(\"kendoButton\")) {\n                        $el.data(\"kendoButton\").bind(CLICK, (e) => {\n                            that.trigger(CLICK, { id: e.id, target: e.target, originalEvent: e.originalEvent || e.event });\n                        });\n                    }\n                });\n            },\n\n            _childrenWidth: function() {\n                var gap = parseInt(this.element.css('gap'), 10) || 0;\n                var childrenWidth = gap;\n\n                this.element.children(\":visible:not(\" + DOT + SPACER_CLASS + \")\").each(function() {\n                    childrenWidth += outerWidth($(this), false) + gap;\n                });\n\n                return Math.ceil(childrenWidth);\n            },\n\n            _extendToolsOptions: function() {\n                var options = this.options,\n                    items = options.tools.flatMap((tool) => this._mapTool(tool, options.parentMessages, options.defaultTools));\n\n                this.options.items = items;\n\n                return items;\n            },\n\n            _focusIn: function(e) {\n                var target = $(e.target),\n                    button = target.closest(DOT + KBUTTON);\n\n                if (button.length > 0) {\n                    this._resetTabIndex(button);\n                    button.addClass(KFOCUS);\n                }\n            },\n\n            _focusOut: function(e) {\n                this.wrapper.find(DOT + KBUTTON + DOT + KFOCUS).removeClass(KFOCUS);\n            },\n\n            _getAllItems: function() {\n                return this.wrapper.find(ITEM_REF_SELECTOR)\n                    .filter(\":visible\")\n                    .filter((i, el) => {\n                        if (el.style.visibility === HIDDEN) {\n                            return false;\n                        }\n\n                        return true;\n                    });\n            },\n\n            _getItem: function(candidate, knownUid) {\n                var uid = knownUid || this._getUid(candidate),\n                    buttonsPopups = $(DATA_ROLE_BUTTONMENU),\n                    uidSelector, toolbarEl;\n\n                if (!uid) {\n                    return {\n                        toolbarEl: this.element.find(candidate),\n                        templateEl: $(NOTHING),\n                        menuItem: this.overflowMenu ? this.overflowMenu.element.find(candidate) : $(NOTHING),\n                        buttonsPopupItem: $(NOTHING)\n                    };\n                }\n\n                uidSelector = \"[data-uid=\" + uid + \"]\";\n                toolbarEl = this.element.find(uidSelector);\n\n                return {\n                    toolbarEl: toolbarEl,\n                    templateEl: toolbarEl.closest(DOT + TEMPLATE_ITEM + COMMA + DOT + SPLIT_BUTTON),\n                    component: kendo.widgetInstance(toolbarEl),\n                    menuItem: this.overflowMenu ? this.overflowMenu.element.find(uidSelector) : $(NOTHING),\n                    buttonsPopupItem: buttonsPopups.find(uidSelector)\n                };\n            },\n\n            _getNextElement: function(item, direction) {\n                var items = this._getAllItems(),\n                    itemIndex = items.index(item) === -1 ? items.index(item.parentElement) : items.index(item),\n                    focusableItem = items[itemIndex + direction];\n\n                if (!focusableItem) {\n                    if (direction === -1) {\n                        focusableItem = items.last();\n                    } else {\n                        focusableItem = items.first();\n                    }\n                }\n\n                return focusableItem;\n            },\n\n            _getUid: function(candidate) {\n                var element;\n\n                // find toolbar item by jQuery selector\n                element = this.element.find(candidate);\n\n                // if not found find in in the DropDown-/SplitButton popups\n                if (!element.length) {\n                    element = $(DATA_ROLE_BUTTONMENU).find(candidate);\n                }\n\n                // if not, find it in the OverflowMenu\n                if (!element.length && this.overflowMenu) {\n                    element = this.overflowMenu.element.find(candidate);\n                }\n\n                if (!element.length) {\n                    return null;\n                } else {\n                    return element.data(UID) || element.closest(ITEM_REF_SELECTOR).data(UID);\n                }\n            },\n\n            _groupVisibleButtons: function(el) {\n                var buttons = el.children(),\n                    visibleBtns;\n\n                buttons.removeClass(GROUP_END).removeClass(GROUP_START);\n                visibleBtns = buttons.filter(\":not('.\" + STATE_HIDDEN + \"')\");\n                visibleBtns.first().addClass(GROUP_START);\n                visibleBtns.last().addClass(GROUP_END);\n            },\n\n            _hideItem: function(item) {\n                var that = this,\n                    widget;\n\n                item.addClass(STATE_HIDDEN);\n\n                if (that.overflowMenu) {\n                    if (item.hasClass(SPLIT_BUTTON) || item.hasClass(MENU_BUTTON)) {\n                        if (item.hasClass(SPLIT_BUTTON)) {\n                            item = item.children().eq(0);\n                            widget = item.data(K_SPLIT_BUTTON);\n                        } else {\n                            widget = item.data(K_DROP_DOWN_BUTTON);\n                        }\n\n                        widget.menu.list.children().each((i, el) => {\n                            that._showMenuItem($(el));\n                        });\n\n                        that._showMenuItem(item);\n                    } else if (item.hasClass(BUTTON_GROUP)) {\n                        item.children().each((i, el) => {\n                            that._showMenuItem($(el));\n                        });\n                    } else {\n                        that._showMenuItem(item);\n                    }\n                }\n            },\n\n            _hideMenuItem: function(item) {\n                this.overflowMenu.element\n                    .find(\">li[data-uid='\" + item.data(UID) + \"']\")\n                    .addClass(STATE_HIDDEN);\n            },\n\n            _items: function() {\n                let options = this.options;\n\n                for (var i = 0; i < options.items.length; i++) {\n                    this._add(options.items[i]);\n                }\n            },\n\n            _keydown: function(e) {\n                var target = $(e.target),\n                    keyCode = e.keyCode,\n                    templateItem = target.closest(DOT + TEMPLATE_ITEM),\n                    isOverflowAnchor = target.is(DOT + OVERFLOW_ANCHOR);\n\n                if (!this.options.navigateOnTab && !target.is(ITEM_REF_SELECTOR) && keyCode === keys.ESC && templateItem.length > 0) {\n                    e.stopPropagation();\n                    this._keyDeactivateTemplate(templateItem);\n                    return;\n                }\n\n                if (!target.is(ITEM_REF_SELECTOR)) {\n                    return;\n                }\n\n                if (!this.options.navigateOnTab && keyCode === keys.ENTER && target.hasClass(TEMPLATE_ITEM)) {\n                    this._keyActivateTemplate(target);\n                } else if (isOverflowAnchor && (e.altKey && keyCode === keys.DOWN || keyCode === keys.SPACEBAR)) {\n                    this._keyOpenOverflow(e, keyCode);\n                } else if (keyCode === keys.HOME) {\n                    this._keyFocusFirst(target, e);\n                } else if (keyCode === keys.END) {\n                    this._keyFocusLast(target, e);\n                } else if (!this.options.navigateOnTab && (keyCode === keys.RIGHT || keyCode === keys.LEFT)) {\n                    this._keyFocusNext(keyCode, e);\n                }\n            },\n\n            _keyActivateTemplate: function(target) {\n                var innerFocusable = target.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST);\n                const pagerTool = target.find('.k-pager');\n\n                if (pagerTool.length > 0) {\n                    pagerTool.trigger(FOCUS);\n                } else if (innerFocusable.length > 0) {\n                    target.attr(TABINDEX, -1);\n\n                    innerFocusable.attr(TABINDEX, 0);\n                    innerFocusable.first().trigger(FOCUS);\n                }\n            },\n\n            _keyDeactivateTemplate: function(templateItem) {\n                var innerWidget = templateItem.find(DATA_ROLE_SELECTOR),\n                    innerFocusable = templateItem.find(KENDO_FOCUSABLE + \":not('\" + DOT + INPUT_BUTTON + \"')\" + COMMA + DOT + DROPDOWNLIST),\n                    widgetInstance;\n\n                if (innerWidget.length > 0) {\n                    widgetInstance = kendo.widgetInstance(innerWidget);\n\n                    if (widgetInstance) {\n                        if (widgetInstance.overflowMenu && widgetInstance.overflowMenu.visible()) {\n                            return;\n                        } else {\n                            templateItem.attr(TABINDEX, 0);\n                            templateItem.trigger(FOCUS);\n                            templateItem.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                        }\n                    }\n                }\n\n                if (innerFocusable.length > 0) {\n                    templateItem.attr(TABINDEX, 0);\n                    templateItem.trigger(FOCUS);\n                    innerFocusable.attr(TABINDEX, -1);\n                }\n            },\n\n            _keyFocusFirst: function(target, e) {\n                var items = this._getAllItems();\n\n                if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                    return;\n                }\n\n                this._resetTabIndex(items.first());\n                items.first().trigger(FOCUS);\n                e.preventDefault();\n            },\n\n            _keyFocusLast: function(target, e) {\n                var items = this._getAllItems(),\n                    last;\n\n                if (target.is(DOT + DROPDOWNLIST) || target.is(INPUT)) {\n                    return;\n                }\n\n                last = items.last();\n\n                if (last.width() === 0) {\n                    last = items.eq(items.length - 2);\n                }\n\n                this._resetTabIndex(last);\n                last.trigger(FOCUS);\n                e.preventDefault();\n            },\n\n            _keyFocusNext: function(keyCode, e) {\n                var direction = this._isRtl ? -1 : 1,\n                    next;\n\n                if (keyCode === keys.LEFT) {\n                    direction = -1 * direction;\n                }\n\n                next = $(this._getNextElement(e.target, direction));\n                this._resetTabIndex(next);\n                next.trigger(FOCUS);\n\n                e.preventDefault();\n            },\n\n            _keyOpenOverflow: function(e, keyCode) {\n                if (keyCode === keys.SPACEBAR) {\n                    e.preventDefault();\n                }\n\n                this.overflowMenu.open();\n            },\n\n            _mapAttributes: function(toolOptions, messages) {\n                return {\n                    \"aria-label\": messages[toolOptions.name || toolOptions.property],\n                    \"title\": messages[toolOptions.name || toolOptions.property],\n                    \"data-command\": toolOptions.command,\n                    \"data-options\": toolOptions.options,\n                    \"data-dialog\": toolOptions.dialog,\n                    \"data-property\": toolOptions.property,\n                    \"data-value\": toolOptions.value,\n                    \"data-toggle\": toolOptions.toggleCondition\n                };\n            },\n\n            _mapComponent: function(component, messages) {\n                var that = this,\n                    componentOptions = component.componentOptions,\n                    componentMessages = componentOptions.messages,\n                    componentPlaceholder = componentOptions.placeholder,\n                    attributes = $.extend({}, that._mapAttributes(component, messages), component.attributes),\n                    options;\n\n                if (component.overflowComponent) {\n                    options = component.options || {};\n\n                    if (component.componentOptions.dataSource) {\n                        options.options = component.componentOptions.dataSource;\n                    }\n                    if (component.componentOptions.value) {\n                        options.default = component.componentOptions.value;\n                    }\n\n                    if (Object.keys(options).length > 0) {\n                        component.overflowComponent.options = JSON.stringify(options);\n                    }\n\n                    component.overflowComponent = that._mapTool(component.overflowComponent, messages);\n                }\n\n                if (componentMessages) {\n                    Object.keys(componentMessages).forEach((key) => {\n                        component.componentOptions.messages[key] = messages[componentMessages[key]] || componentMessages[key];\n                    });\n                }\n\n                if (componentPlaceholder) {\n                    component.componentOptions.placeholder = messages[componentPlaceholder] || componentPlaceholder;\n                }\n\n                Object.keys(componentOptions).forEach((key) => {\n                    if (key === \"commandOn\") {\n                        component.componentOptions[componentOptions[key]] = (ev) => {\n                            that.trigger(CHANGE, { target: ev.target || ev.sender.element });\n                        };\n                    }\n                });\n\n                if (componentOptions.dataSource && componentOptions.dataSource.length) {\n                    component.componentOptions.dataSource = componentOptions.dataSource.map(i => {\n                        if (i.name && messages[i.name]) {\n                            i.text = messages[i.name];\n                        }\n\n                        return i;\n                    });\n                }\n\n                component.attributes = attributes;\n\n                return component;\n            },\n\n            _mapTool: function(tool, messages, defaultTools) {\n                let that = this,\n                    isArray = Array.isArray(tool),\n                    isPlainObjectTool = $.isPlainObject(tool),\n                    toolKeysCount = isPlainObjectTool && Object.keys(tool).length,\n                    isBuiltInTool, toolOptions, attributes, originalTool;\n\n                if (isArray) {\n                    return {\n                        type: \"buttonGroup\",\n                        buttons: tool.map(t => that._mapTool(t, messages, defaultTools))\n                    };\n                }\n\n                isBuiltInTool = isPlainObjectTool && (toolKeysCount === 1 || toolKeysCount === 2) && tool.name;\n                originalTool = isBuiltInTool ? tool : {};\n                tool = isBuiltInTool ? tool.name : tool;\n                toolOptions = $.isPlainObject(tool) ? tool : $.extend({}, defaultTools[tool]);\n\n                attributes = $.extend({}, that._mapAttributes(toolOptions, messages), toolOptions.attributes);\n\n                kendo.deepExtend(toolOptions, {\n                    text: originalTool.text || messages[toolOptions.name || toolOptions.property],\n                    attributes: attributes,\n                });\n\n                if (toolOptions.type === \"component\") {\n                    if (toolOptions.items) {\n                        return toolOptions.items.map(t => that._mapComponent(t, messages));\n                    } else {\n                        return that._mapComponent(toolOptions, messages);\n                    }\n                } else if (toolOptions.type === \"buttonGroup\") {\n                    delete toolOptions.attributes[ARIA_LABEL];\n                    toolOptions.buttons = toolOptions.buttons.map(t => that._mapTool(t, messages, defaultTools));\n                } else if (toolOptions.type === \"splitButton\") {\n                    delete toolOptions.attributes[ARIA_LABEL];\n                    toolOptions.menuButtons = toolOptions.menuButtons.flatMap(t => that._mapTool(t, messages, defaultTools));\n                } else if (toolOptions.type === \"popupButton\" && toolOptions.overflowComponent) {\n                    toolOptions.overflowComponent = that._mapTool(toolOptions.overflowComponent, messages);\n                }\n\n                delete toolOptions.name;\n\n                return toolOptions;\n            },\n\n            _menuItemSelect: function(e) {\n                var item = $(e.item),\n                    id = item.attr(ID),\n                    togglable = item.find(DOT + MENU_LINK_TOGGLE),\n                    groupName = item.data(GROUP),\n                    shouldSelect, twin, group;\n\n                if (id && id.indexOf(DASH + OVERFLOW) > -1) {\n                    id = id.replace(DASH + OVERFLOW, NOTHING);\n                }\n\n                if (togglable.length) {\n                    if (groupName) {\n                        this.overflowMenu.element.find(\"[data-group=\" + groupName + \"]\").each((i, el) => {\n                            var current = $(el);\n\n                            current.attr(ARIA_CHECKED, false);\n                            current.find(DOT + MENU_LINK_TOGGLE).removeClass(STATE_SELECTED);\n                        });\n                    }\n\n                    shouldSelect = groupName ? true : !togglable.hasClass(STATE_SELECTED);\n\n                    togglable.toggleClass(STATE_SELECTED, shouldSelect);\n                    item.attr(ARIA_CHECKED, shouldSelect);\n\n                    twin = this.element.find(\"[data-uid=\" + item.data(UID) + \"]\");\n\n                    if (twin.length) {\n                        if (twin.closest(DOT + BUTTON_GROUP).length) {\n                            group = twin.closest(DOT + BUTTON_GROUP).data(K_BUTTON_GROUP);\n                            group.select(twin);\n                        } else {\n                            if (groupName) {\n                                this.element.find(\"[data-group=\" + groupName + \"]\").each((i, el) => {\n                                    $(el).data(K_TOGGLE_BUTTON).toggle(false);\n                                });\n                            }\n\n                            twin.data(K_TOGGLE_BUTTON).toggle(true);\n                        }\n                    }\n\n                    this.trigger(TOGGLE, {\n                        id: item.attr(ID),\n                        target: item,\n                        checked: shouldSelect\n                    });\n                } else {\n                    this.trigger(CLICK, {\n                        id: id,\n                        target: item,\n                    });\n                }\n            },\n\n            _onClick: function(e) {\n                var el = e.target,\n                    togglable = el.hasClass(\"k-toolbar-toggle-button\"),\n                    group = el.data(GROUP);\n\n                if (!togglable) {\n                    this.trigger(CLICK, { id: e.id, target: e.target, originalEvent: e.originalEvent || e.event });\n                }\n\n                if (group && this.element.find(\"[data-group=\" + group + \"]\").length > 1) {\n                    if (el.hasClass(STATE_SELECTED)) {\n                        e.preventDefault();\n                    }\n                }\n            },\n\n            _onClose: function(e) {\n                if (this.trigger(CLOSE, { widget: e.sender })) {\n                    e.preventDefault();\n                }\n            },\n\n            _onMenuItemSelect: function(e, click, toggle) {\n                var item = $(e.item),\n                    togglable = item.find(DOT + MENU_LINK_TOGGLE).length > 0,\n                    id = item.attr(ID);\n\n                if (id && id.indexOf(DASH + OVERFLOW) > -1) {\n                    id = id.replace(DASH + OVERFLOW, NOTHING);\n                }\n\n                if (click) {\n                    click.bind(this)({\n                        event: e.event,\n                        id: id,\n                        target: item\n                    });\n                }\n\n                if (togglable && toggle) {\n                    setTimeout(() => {\n                        toggle.bind(this)({\n                            event: e.event,\n                            id: id,\n                            target: item,\n                            checked: item.find(DOT + STATE_SELECTED).length > 0\n                        });\n                    });\n                }\n            },\n\n            _onOpen: function(e) {\n                if (this.trigger(OPEN, { widget: e.sender })) {\n                    e.preventDefault();\n                }\n            },\n\n            _onSelect: function(e) {\n                var menuEl = this.overflowMenu ? this.overflowMenu.element : $(NOTHING);\n\n                e.sender.element.children().each((i, el) => {\n                    var current = $(el),\n                        uid = current.data(UID),\n                        selected = current.hasClass(STATE_SELECTED);\n\n                    menuEl\n                        .find(\"[data-uid=\" + uid + \"]\")\n                        .attr(ARIA_CHECKED, selected)\n                        .find(DOT + MENU_LINK_TOGGLE)\n                        .toggleClass(STATE_SELECTED, selected);\n                });\n\n                this.trigger(TOGGLE, {\n                    id: e.target.attr(ID),\n                    target: e.target,\n                    checked: e.target.hasClass(STATE_SELECTED)\n                });\n            },\n\n            _onToggle: function(e) {\n                var that = this,\n                    el = e.target,\n                    group = el.data(GROUP),\n                    overflowItem,\n                    overflowGroup;\n\n                if (that.overflowMenu) {\n                    overflowItem = that.overflowMenu.element.find(\"[data-uid=\" + el.attr(DATA_UID) + \"]\");\n                    overflowGroup = that.overflowMenu.element.find(\"[data-group=\" + group + \"]\");\n\n                    overflowGroup.attr(ARIA_CHECKED, false).find(DOT + MENU_LINK_TOGGLE).removeClass(STATE_SELECTED);\n                    overflowItem.attr(ARIA_CHECKED, true).find(DOT + MENU_LINK_TOGGLE).addClass(STATE_SELECTED);\n                }\n\n                if (group) {\n                    that.element.find(\"[data-group=\" + group + \"]\").each((i, item) => {\n                        if (item !== el[0]) {\n                            $(item).data(K_TOGGLE_BUTTON).toggle(false);\n                        }\n                    });\n                }\n\n                this.trigger(TOGGLE, { id: e.id, target: e.target, checked: e.checked, originalEvent: e.originalEvent || e.event });\n            },\n\n            _processInner(items, parentUid) {\n                var attributes, current;\n\n                for (var i = 0; i < items.length; i++) {\n                    current = items[i];\n                    attributes = current.attributes;\n\n                    if (!attributes) {\n                        items[i].attributes = {};\n                    }\n\n                    items[i].attributes[DATA_UID] = kendo.guid();\n                    items[i].attributes[DATA_PARENTUID] = parentUid;\n\n                    if (current.id) {\n                        items[i].attributes[ID] = items[i].id;\n                    }\n\n                    if (current.hidden) {\n                        if (!items[i].attributes.class) {\n                            items[i].attributes.class = NOTHING;\n                        }\n\n                        items[i].attributes.class += (EMPTY + STATE_HIDDEN + EMPTY + FORCE_HIDDEN);\n                    }\n                }\n\n                return items;\n            },\n\n            _processOptions: function(options) {\n                let that = this,\n                    template = options.template,\n                    overflowTemplate = options.overflowTemplate,\n                    uid = kendo.guid(),\n                    groupName;\n\n                $.extend(options, {\n                    uid: uid,\n                    fillMode: options.fillMode ? options.fillMode : that.options.fillMode,\n                    rootUid: this.uid\n                });\n\n                if (options.menuButtons) {\n                    options.menuButtons = this._processInner(options.menuButtons, uid);\n                } else if (options.buttons && options.buttons.length) {\n                    options.buttons = this._processInner(options.buttons, uid);\n\n                    if (options.buttons.some(b => b.togglable)) {\n                        groupName = options.buttons[0].group;\n\n                        if (!!groupName && options.buttons.every(b => b.group === groupName)) {\n                            options.selection = SINGLE;\n                        } else {\n                            options.selection = MULTIPLE;\n                        }\n                    } else {\n                        options.selection = NONE;\n                    }\n                }\n\n                if ((template && !overflowTemplate) || options.type === SPACER) {\n                    options.overflow = OVERFLOW_NEVER;\n                } else if (!options.overflow) {\n                    options.overflow = OVERFLOW_AUTO;\n                }\n\n                if (options.enable !== undefined$1) {\n                    options.enabled = options.enable;\n                }\n\n                return options;\n            },\n\n            _renderOverflow: function() {\n                var that = this,\n                    isRtl = that._isRtl,\n                    horizontalDirection = isRtl ? \"left\" : \"right\";\n\n                that.overflowAnchor = $(\"<button class='k-toolbar-overflow-button' title='More tools'>\");\n                that.overflowAnchor.attr(ITEM_REF + TOOLBAR_TOOL, '');\n                that.element.append(that.overflowAnchor);\n                that.overflowAnchor.kendoButton({\n                    icon: \"more-vertical\",\n                    fillMode: \"flat\",\n                    size: that.options.size\n                });\n\n                if (!that.options.navigateOnTab) {\n                    that.overflowAnchor.attr(TABINDEX, -1);\n                }\n\n                that.overflowMenu = new kendo.ui.ContextMenu($(\"<ul>\"), {\n                    size: that.options.size,\n                    showOn: \"click tap\",\n                    origin: \"bottom \" + horizontalDirection,\n                    position: \"top \" + horizontalDirection,\n                    alignToAnchor: true,\n                    target: that.overflowAnchor,\n                    open: function(e) {\n                        if (that.trigger(OVERFLOW_OPEN)) {\n                            e.preventDefault();\n                        }\n                    },\n                    close: function(e) {\n                        if (that.trigger(OVERFLOW_CLOSE)) {\n                            e.preventDefault();\n                        } else {\n                            that._resetTabIndex(that.overflowAnchor);\n                            that.overflowAnchor.trigger(FOCUS);\n                        }\n                    }\n                });\n\n                that.overflowMenu.element.attr(KENDO_UID_ATTR, this.uid);\n\n                setTimeout(() => {\n                    that.overflowMenu.bind(SELECT, that._menuItemSelect.bind(that));\n                });\n            },\n\n            _resetOpen: function(element, extensions) {\n                var that = this,\n                    uploadWrapper,\n                    input;\n\n                element.closest(\".k-upload-button-wrap\").find(\"input\").remove();\n                uploadWrapper = element.wrap(\"<div class='k-upload-button-wrap'></span>\").parent();\n\n                input = $(\"<input type='file' autocomplete='off' accept='\" + extensions + \"'/>\")\n                    .attr(\"aria-hidden\", true)\n                    .one(\"change\", (e) => {\n                        that.trigger(CHANGE, {\n                            target: element,\n                            value: e.target.files[0]\n                        });\n\n                        that._resetOpen(element, extensions);\n                    })\n                    .appendTo(uploadWrapper);\n\n                element.off(KEYDOWN).on(KEYDOWN, (e) => {\n                    if (e.keyCode === kendo.keys.ENTER) {\n                        input.trigger(CLICK);\n                    }\n                });\n            },\n\n            _resetTabIndex: function(toFocus) {\n                if (this.options.navigateOnTab !== true) {\n                    this.wrapper.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    toFocus.attr(TABINDEX, 0);\n                }\n            },\n\n            _resizable: function() {\n                var that = this,\n                    element = that.element;\n\n                that._renderOverflow();\n                element.addClass(RESIZABLE_TOOLBAR);\n\n                that._resizeHandler = kendo.onResize(function() {\n                    that.resize();\n                });\n            },\n\n            _resize: function(e) {\n                var containerWidth = e.width,\n                    wrapper = this.element,\n                    popupBtnElements = wrapper.find('[data-role=\"splitbutton\"]').add(wrapper.find('[data-role=\"dropdownbutton\"]'));\n\n                if (!this.options.resizable) {\n                    return;\n                }\n\n                this.overflowMenu.close();\n\n                if (popupBtnElements.length > 0) {\n                    popupBtnElements.each((i, el) => {\n                        kendo.widgetInstance($(el)).close();\n                    });\n                }\n\n                this._shrink(containerWidth);\n                this._stretch(containerWidth);\n                this._toggleOverflowAnchor();\n            },\n\n            _shrink: function(containerWidth) {\n                var commandElement,\n                    visibleCommands,\n                    activeElement;\n\n                if (containerWidth < this._childrenWidth()) {\n                    visibleCommands = this.element.children(\":visible:not([data-overflow='never'], .\" + OVERFLOW_ANCHOR + \")\");\n\n                    for (var i = visibleCommands.length - 1; i >= 0; i--) {\n                        commandElement = visibleCommands.eq(i);\n\n                        if (containerWidth > this._childrenWidth()) {\n                            break;\n                        } else {\n                            activeElement = commandElement.find(\"[tabindex=0]\") || commandElement.is(\"[tabindex=0]\") ? commandElement : $(NOTHING);\n\n                            if (activeElement.length > 0) {\n                                activeElement.attr(TABINDEX, -1);\n                                this.element.children(DOT + OVERFLOW_ANCHOR).attr(TABINDEX, 0);\n                            }\n\n                            this._hideItem(commandElement);\n                        }\n                    }\n                }\n            },\n\n            _showItem: function(item, containerWidth) {\n                var that = this,\n                    gap = parseInt(this.element.css('gap'), 10) || 0,\n                    widget;\n\n                item.removeClass(STATE_HIDDEN);\n                var itemOuterWidth = outerWidth(item, true) + gap;\n                item.addClass(STATE_HIDDEN);\n\n                if (item.length && (item.hasClass(SPACER_CLASS) || containerWidth > this._childrenWidth() + itemOuterWidth)) {\n                    item.removeClass(STATE_HIDDEN);\n\n                    if (this.options.navigateOnTab !== true) {\n                        item.find(KENDO_FOCUSABLE).attr(TABINDEX, -1);\n                    } else {\n                        if (item.is(\"[tabindex=-1]\")) {\n                            item.removeAttr(TABINDEX);\n                        }\n                    }\n\n                    if (this.overflowMenu) {\n                        if (item.hasClass(SPLIT_BUTTON) || item.hasClass(MENU_BUTTON)) {\n                            if (item.hasClass(SPLIT_BUTTON)) {\n                                item = item.children().eq(0);\n                                widget = item.data(K_SPLIT_BUTTON);\n                            } else {\n                                widget = item.data(K_DROP_DOWN_BUTTON);\n                            }\n\n                            widget.menu.list.children().each((i, el) => {\n                                that._hideMenuItem($(el));\n                            });\n\n                            that._hideMenuItem(item);\n                        } else if (item.hasClass(BUTTON_GROUP)) {\n                            item.children().each((i, el) => {\n                                that._hideMenuItem($(el));\n                            });\n                        } else {\n                            that._hideMenuItem(item);\n                        }\n                    }\n\n                    return true;\n                }\n\n                return false;\n            },\n\n            _showMenuItem: function(item) {\n                var menuItem = this.overflowMenu.element.find(\">li[data-uid='\" + item.data(UID) + \"']\");\n\n                if (!menuItem.hasClass(FORCE_HIDDEN)) {\n                    menuItem.removeClass(STATE_HIDDEN);\n                }\n            },\n\n            _stretch: function(containerWidth) {\n                var overflowAnchor = this.element.children(DOT + OVERFLOW_ANCHOR),\n                    commandElement,\n                    hiddenCommands;\n\n                if (containerWidth > this._childrenWidth()) {\n                    hiddenCommands = this.element.children(DOT + STATE_HIDDEN + \":not(\" + DOT + FORCE_HIDDEN + \")\");\n\n                    for (var i = 0; i < hiddenCommands.length; i++) {\n                        commandElement = hiddenCommands.eq(i);\n\n                        if (containerWidth < this._childrenWidth() || !this._showItem(commandElement, containerWidth)) {\n                            break;\n                        }\n                    }\n                }\n\n                if (!this.options.navigateOnTab && overflowAnchor.is(\"[tabindex=0]\")) {\n                    overflowAnchor.attr(TABINDEX, -1);\n                    this._resetTabIndex(this._getAllItems().first());\n                }\n            },\n\n            _tabIndex: function() {\n                var focusableItems = this.wrapper.find(KENDO_FOCUSABLE + \":not('\" + TABINDEX_MINUS_1 + \"')\"),\n                    firstFocusable = focusableItems.first();\n\n                if (this.options.navigateOnTab !== true) {\n                    focusableItems.attr(TABINDEX, -1);\n                    firstFocusable.attr(TABINDEX, 0);\n                } else {\n                    this.wrapper.find(\".k-toolbar-item\").removeAttr(TABINDEX);\n                }\n            },\n\n            _toggleOverflowAnchor: function() {\n                var hasVisibleChildren = false;\n\n                hasVisibleChildren = this.overflowMenu.element.children(\":not(.\" + STATE_HIDDEN + \", .\" + POPUP + \")\").length > 0;\n\n                if (hasVisibleChildren) {\n                    this.overflowAnchor.removeClass(STATE_HIDDEN);\n                } else {\n                    this.overflowAnchor.addClass(STATE_HIDDEN);\n                }\n            }\n        });\n\n        kendo.toolbar = {\n            Item: kendo.Class,\n            OverflowButton: kendo.Class,\n            TemplateItem: kendo.Class,\n            ToolBarButton: kendo.Class,\n            registerComponent: () => null\n        };\n\n        kendo.cssProperties.registerPrefix(\"ToolBar\", \"k-toolbar-\");\n\n        kendo.cssProperties.registerValues(\"ToolBar\", [{\n            prop: \"fillMode\",\n            values: ['solid', 'flat']\n        }]);\n\n        kendo.ui.plugin(ToolBar);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}