{"version":3,"file":"kendo.gantt.editors.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","GanttEditors","this","$","undefined$1","window","ui","Observable","Widget","encode","htmlEncode","extend","GRID_HEIGHT","ganttStyles","form","editForm","formContainer","resourcesFormContainer","message","buttonsContainer","button","buttonDefaults","editField","editLabel","resourcesField","PopupEditor","init","element","options","fn","call","destroy","close","unbind","that","editable","container","data","popup","is","trigger","bind","editTask","task","plannedEditors","_createPopupEditor","fields","customFields","model","template","map","value","key","field","general","_fieldsGeneral","resources","dependencies","_fieldsDependencies","Object","keys","GanttTask","length","other","_fieldsOther","showDialog","buttonsEl","popupStyles","wrapper","dialogEl","format","uid","appendTo","messages","append","text","kendoButton","name","themeColor","icon","click","e","preventDefault","callback","cancel","kendoWindow","modal","autoFocus","resizable","draggable","title","visible","deactivate","getKendoWindow","center","open","find","_buildButtons","save","_onSave","_onCancel","fillMode","_onDelete","_buildEditTemplate","settings","Template","templateSettings","html","unescape","renderForm","attr","formEl","applyStylesFromKendoAttributes","editableWidget","width","editor","editorTitle","actions","userTriggered","_initForm","kendoEditable","clearContainer","validateOnBlur","target","cycleForm","nameDdlDs","dataSource","filter","i","id","typeDs","fullData","excluded","ddlData","modelFields","startText","actualStart","start","endText","actualEnd","end","colSpan","push","plannedStart","validation","editorOptions","componentType","plannedEnd","taskAllChildren","n","some","percentComplete","hint","percentCompleteHint","parent","optionLabel","parentOptionLabel","enable","dataValueField","dataTextField","valuePrimitive","toString","item","label","_readonlyEditor","_gridOptions","type","keyType","taskId","dependencyData","view","d","schema","from","required","defaultValue","encodeTitles","columns","selectable","values","dependencyType","toolbar","addNew","remove","grid","closest","getKendoGrid","ds","selected","select","items","each","row","dataItem","sortable","navigatable","height","edit","setOptions","resourceField","get","tabStripDs","_tabStripSource","kendoTabStrip","dataContentField","tabStrip","sender","contentElement","index","validatable","validate","validator","_initGeneral","resourceEditor","kendoGrid","_initOther","kendoForm","layout","cols","gutter","rows","formData","buttonsTemplate","Date","found","prevData","newData","updateInfo","predeGrid","sucGrid","args","createdData","updatedData","successorId","concat","predecessorId","toJSON","dirty","updateDependencies","destroyed","created","updated","Array","isArray","val","updateModel","content","predecessors","successors","ResourceEditor","_resourceGrid","ddlDs","Grid","resourcesHeader","unitsHeader","valueFormat","filterable","selectedKeyNames","unitsValidation","ddl","currentId","filters","r","f","operator","logic","gantt","jQuery","kendo$1","__meta__","category","description","depends","hidden","default","defineProperty"],"sources":["kendo.gantt.editors.js"],"mappings":"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","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.data.js'), require('kendo.popup.js'), require('kendo.window.js'), require('kendo.gantt.data.js'), require('kendo.grid.js'), require('kendo.datetimepicker.js'), require('kendo.numerictextbox.js'), require('kendo.textbox.js'), require('kendo.form.js'), require('kendo.tabstrip.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.data', 'kendo.popup', 'kendo.window', 'kendo.gantt.data', 'kendo.grid', 'kendo.datetimepicker', 'kendo.numerictextbox', 'kendo.textbox', 'kendo.form', 'kendo.tabstrip'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.GanttEditors = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"gantt.editors\",\n        name: \"GanttEditors\",\n        category: \"web\",\n        description: \"The Gantt component editors.\",\n        depends: [ \"data\", \"popup\", \"window\", \"gantt.data\", \"grid\", \"datetimepicker\", \"numerictextbox\", \"textbox\", \"form\", \"tabstrip\"],\n        hidden: true\n    };\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            Observable = kendo.Observable,\n            Widget = ui.Widget,\n            encode = kendo.htmlEncode,\n            extend = $.extend,\n            PERCENTAGE_FORMAT = \"p0\",\n            GRID_HEIGHT = \"23em\",\n            TAB_HEIGHT = \"28em\",\n            STRING = \"string\";\n\n        var ganttStyles = {\n            buttonDelete: \"k-gantt-delete\",\n            buttonCancel: \"k-gantt-cancel\",\n            buttonSave: \"k-gantt-update\",\n            focused: \"k-focus\",\n            gridContent: \"k-grid-content\",\n            hovered: \"k-hover\",\n            item: \"k-item k-menu-item\",\n            popupWrapper: \"k-popup k-menu-popup\",\n            popupList: \"k-menu-group k-menu-group-md k-reset\",\n            popup: {\n                form: \"k-popup-edit-form\",\n                editForm: \"k-gantt-edit-form\",\n                formContainer: \"k-edit-form-container\",\n                resourcesFormContainer: \"k-resources-form-container\",\n                message: \"k-popup-message\",\n                buttonsContainer: \"k-edit-buttons k-actions\",\n                button: \"k-button\",\n                buttonDefaults: \"k-button-md k-rounded-md k-button-solid k-button-solid-base\",\n                editField: \"k-edit-field\",\n                editLabel: \"k-edit-label\",\n                resourcesField: \"k-gantt-resources\"\n            },\n            primary: \"k-button-solid-primary\",\n            toolbar: {\n                appendButton: \"k-gantt-create\"\n            }\n        };\n\n        var PopupEditor = Observable.extend({\n            init: function(element, options) {\n                Observable.fn.init.call(this);\n\n                this.element = element;\n                this.options = extend(true, {}, this.options, options);\n            },\n\n            destroy: function() {\n                this.close();\n                this.unbind();\n            },\n\n            close: function() {\n                var that = this;\n\n                var destroy = function() {\n                    if (that.editable) {\n                        that.container.data(\"kendoWindow\").destroy();\n                        that.editable = null;\n                        that.container = null;\n                    }\n\n                    if (that.popup) {\n                        that.popup.destroy();\n                        that.popup = null;\n                    }\n                };\n\n                if (that.editable && that.container.is(\":visible\")) {\n                    that.trigger(\"close\", { window: that.container });\n                    that.container.data(\"kendoWindow\").bind(\"deactivate\", destroy).close();\n                } else {\n                    destroy();\n                }\n            },\n\n            editTask: function(task, plannedEditors) {\n                this.task = task;\n                this.plannedEditors = plannedEditors;\n                this.editable = this._createPopupEditor();\n            },\n\n            fields: function() {\n                var options = this.options,\n                    model = this.task,\n                    fields = {},\n                    customFields;\n\n                if (options.editable.template) {\n                    return $.map(model.fields, function(value, key) {\n                        return { field: key };\n                    });\n                } else {\n                    fields.general = this._fieldsGeneral();\n\n                    if (options.resources) {\n                        fields.resources = [ { field: \"resources\" } ];\n                    }\n\n                    if (options.dependencies) {\n                        fields.dependencies = this._fieldsDependencies(model);\n                    }\n\n                    customFields = extend(true, {}, model.fields);\n                    Object.keys(kendo.data.GanttTask.fields).map(key => {\n                        delete customFields[key];\n                    });\n\n                    if (Object.keys(customFields).length > 0) {\n                        fields.other = this._fieldsOther(customFields);\n                    }\n                }\n\n                return fields;\n            },\n\n\n            showDialog: function(options) {\n                var popupStyles = ganttStyles.popup,\n                    wrapper = this.element,\n                    task = options.model,\n                    that = this,\n                    dialogEl = $(kendo.format('<div class=\"' + popupStyles.formContainer + '\" data-uid=\"' + task.uid + '\">')).appendTo(wrapper),\n                    messages = this.options.messages,\n                    buttonsEl;\n\n                dialogEl.append($(\"<p>\" + options.text + \"</p>\"));\n                buttonsEl = $('<div class=\"' + popupStyles.buttonsContainer + '\">');\n                dialogEl.append(buttonsEl);\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonDelete + \"'>\" + encode(messages.destroy) + \"</button>\").kendoButton({\n                    name: \"delete\",\n                    themeColor: \"primary\",\n                    icon: \"trash\",\n                    click: (e) => {\n                        e.preventDefault();\n                        popup.close();\n                        options.callback();\n                    }\n                }));\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonCancel + \"'>\" + encode(messages.cancel) + \"</button>\").kendoButton({\n                    name: \"cancel\",\n                    icon: \"cancel\",\n                    click: (e) => {\n                        e.preventDefault();\n                        popup.close();\n                        options.callback(true);\n                    }\n                }));\n\n                if (this.popup) {\n                    this.popup.destroy();\n                }\n\n                var popup = this.popup = dialogEl.kendoWindow({\n                    modal: true,\n                    autoFocus: false,\n                    resizable: false,\n                    draggable: false,\n                    title: options.title,\n                    visible: false,\n                    deactivate: function() {\n                        this.destroy();\n                        that.trigger(\"close\", { window: dialogEl });\n                    }\n                })\n                .getKendoWindow();\n\n                popup.center().open();\n\n                popup.element.find(\".k-button-solid-primary\").trigger(\"focus\");\n            },\n\n            _buildButtons: function(dialogEl) {\n                var messages = this.options.messages,\n                    buttonsEl = $('<div class=\"' + ganttStyles.popup.buttonsContainer + '\">');\n\n                buttonsEl.appendTo(dialogEl);\n\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonSave + \"'>\" + encode(messages.save) + \"</button>\").kendoButton({\n                    name: \"update\",\n                    themeColor: \"primary\",\n                    icon: \"save\",\n                    click: this._onSave.bind(this)\n                }));\n                buttonsEl.append($(\"<button class='\" + ganttStyles.buttonCancel + \"'>\" + encode(messages.cancel) + \"</button>\").kendoButton({\n                    name: \"cancel\",\n                    icon: \"cancel\",\n                    click: this._onCancel.bind(this)\n                }));\n                buttonsEl.append($(\"<span class='k-spacer'>\"));\n\n                if (this.options.editable.destroy !== false) {\n                    buttonsEl.append($(\"<button class='\" + ganttStyles.buttonDelete + \"'>\" + encode(messages.destroy) + \"</button>\").kendoButton({\n                        name: \"delete\",\n                        themeColor: \"primary\",\n                        icon: \"trash\",\n                        fillMode: \"flat\",\n                        click: this._onDelete.bind(this)\n                    }));\n                }\n            },\n\n            _buildEditTemplate: function(model, dialogEl) {\n                var template = this.options.editable.template;\n                var settings = extend({}, kendo.Template, this.options.templateSettings);\n                var html = \"\";\n\n                if (template) {\n                    if (typeof template === STRING) {\n                        template = kendo.unescape(template);\n                    }\n\n                    html += (kendo.template(template, settings))(model);\n                } else {\n                    this.renderForm = true;\n                    html += `<div role=\"form\" class=\"k-gantt-edit-tabstrip\" ${kendo.attr(\"style-min-height\")}=\"${TAB_HEIGHT}\"></div>`;\n                }\n\n                var formEl = $(html);\n                kendo.applyStylesFromKendoAttributes(formEl, [\"min-height\"]);\n                formEl.appendTo(dialogEl);\n            },\n\n            _createPopupEditor: function() {\n                var that = this;\n                var options = {};\n                var messages = this.options.messages;\n                var popupStyles = ganttStyles.popup;\n                var editableWidget;\n                var task = this.task;\n                var container = $(kendo.format('<div {0}=\"{1}\" class=\"{2} {3}\">', kendo.attr(\"uid\"), task.uid, popupStyles.form, popupStyles.editForm));\n\n                container.appendTo(this.element);\n\n                this._buildEditTemplate(task, container);\n                this._buildButtons(container);\n\n                this.container = container.kendoWindow(extend({\n                    width: 554,\n                    modal: true,\n                    resizable: false,\n                    draggable: true,\n                    title: messages.editor.editorTitle,\n                    visible: false,\n                    actions: [ \"Minimize\", \"Maximize\", \"Close\" ],\n                    close: function(e) {\n                        if (e.userTriggered) {\n                            if (that.trigger(\"cancel\", { container: container, model: task })) {\n                                e.preventDefault();\n                            }\n                        }\n                    }\n                }, options));\n\n                if (this.renderForm) {\n                    editableWidget = this._initForm();\n                } else {\n                    editableWidget = container.kendoEditable({\n                        model: task,\n                        clearContainer: false,\n                        validateOnBlur: true,\n                        target: that.options.target\n                    })\n                    .data(\"kendoEditable\");\n                }\n\n                kendo.cycleForm(container);\n\n                if (!this.trigger(\"edit\", { container: container, model: task })) {\n                    container.data(\"kendoWindow\").center().open();\n                } else {\n                    that.trigger(\"cancel\", { container: container, model: task });\n                }\n\n                return editableWidget;\n            },\n\n            _fieldsDependencies: function(model) {\n                var options = this.options,\n                    ds = options.target.dataSource,\n                    nameDdlDs = ds.data().filter(i => i.id !== model.id).map(i => ({ text: i.title, value: i.id })),\n                    typeDs = [\n                        { value: 0, text: \"Finish-Finish\" },\n                        { value: 1, text: \"Finish-Start\" },\n                        { value: 2, text: \"Start-Finish\" },\n                        { value: 3, text: \"Start-Start\" }\n                    ];\n\n                return {\n                    nameDdlDs, typeDs\n                };\n            },\n\n            _fieldsGeneral: function() {\n                var that = this,\n                    options = this.options,\n                    dataSource = options.target.dataSource,\n                    messages = options.messages.editor,\n                    task = this.task,\n                    modelFields = task.fields,\n                    startText = this.plannedEditors ? messages.actualStart : messages.start,\n                    endText = this.plannedEditors ? messages.actualEnd : messages.end,\n                    fullData, excluded, ddlData;\n\n                var general = [\n                    { field: \"title\", title: messages.title, colSpan: 4 }\n                ];\n\n                if (this.plannedEditors) {\n                    general.push({\n                        field: \"plannedStart\",\n                        title: messages.plannedStart,\n                        colSpan: 2,\n                        editor: \"DateTimePicker\",\n                        validation: modelFields.plannedStart.validation,\n                        editorOptions: {\n                            componentType: \"modern\"\n                        }\n                    });\n\n                    general.push({\n                        field: \"plannedEnd\",\n                        title: messages.plannedEnd,\n                        colSpan: 2,\n                        editor: \"DateTimePicker\",\n                        validation: modelFields.plannedEnd.validation,\n                        editorOptions: {\n                            componentType: \"modern\"\n                        }\n                    });\n                }\n\n                fullData = dataSource.data();\n                excluded = dataSource.taskAllChildren(task);\n                excluded.push(task);\n                ddlData = fullData.filter(n => !excluded.some(e => e.id === n.id));\n\n                general.push({\n                    field: \"start\",\n                    title: startText,\n                    colSpan: 2,\n                    editor: \"DateTimePicker\",\n                    validation: modelFields.start.validation,\n                    editorOptions: {\n                        componentType: \"modern\"\n                    }\n                });\n                general.push({\n                    field: \"end\",\n                    title: endText,\n                    colSpan: 2,\n                    editor: \"DateTimePicker\",\n                    validation: modelFields.start.validation,\n                    editorOptions: {\n                        componentType: \"modern\"\n                    }\n                });\n                general.push({\n                    field: \"percentComplete\",\n                    title: messages.percentComplete,\n                    format: PERCENTAGE_FORMAT,\n                    colSpan: 1,\n                    hint: encode(messages.percentCompleteHint)\n                });\n                general.push({\n                    field: \"parentId\",\n                    title: messages.parent,\n                    colSpan: 4,\n                    editor: \"DropDownList\",\n                    editorOptions: {\n                        optionLabel: messages.parentOptionLabel,\n                        filter: \"contains\",\n                        dataSource: ddlData,\n                        enable: ddlData.length > 0,\n                        dataValueField: \"id\",\n                        dataTextField: \"title\",\n                        valuePrimitive: true,\n                        template: ({ title, start, end }) => `<span>${title} ${kendo.toString(start, \"d\")}-${kendo.toString(end, \"d\")}</span>`\n                    }\n                });\n\n                general = general.map(function(item) {\n                    item = extend(true, {\n                        label: item.title\n                    }, item);\n\n                    if (!task.editable || task.editable(item.field)) {\n                        return item;\n                    } else {\n                        return extend(true, item, {\n                            editor: that._readonlyEditor.bind(that)\n                        });\n                    }\n                });\n\n                return general;\n            },\n\n            _fieldsOther: function(other) {\n                var that = this,\n                    task = this.task;\n\n                other = Object.keys(other).map(function(key) {\n                    var item = other[key];\n\n                    item = extend(true, {\n                        field: key,\n                        label: item.title\n                    }, item);\n\n                    if (!task.editable || task.editable(item.field)) {\n                        return item;\n                    } else {\n                        return extend(true, item, {\n                            editor: that._readonlyEditor.bind(that)\n                        });\n                    }\n                });\n\n                return other;\n            },\n\n            _gridOptions: function(dependencies, type, keyType, taskId) {\n                var messages = this.options.messages,\n                    data;\n\n                if (!this.dependencyData) {\n                    this.dependencyData = {};\n                }\n\n                data = this.dependencyData[type] = this.options.target.dependencies.view().filter(d => d[keyType] === taskId);\n\n                return {\n                    dataSource: {\n                        data: data,\n                        schema: {\n                            model: {\n                                fields: {\n                                    id: { from: \"id\" },\n                                    [type]: { from: type, validation: { required: { message: messages.editor.name + \" is required\" } } },\n                                    type: { from: \"type\", validation: { required: true }, defaultValue: 1 }\n                                }\n                            }\n                        }\n                    },\n                    encodeTitles: true,\n                    columns: [{\n                        selectable: true,\n                        width: 50\n                    },{\n                        field: type,\n                        title: messages.editor.name,\n                        values: dependencies.nameDdlDs\n                    }, {\n                        field: \"type\",\n                        title: messages.editor.dependencyType,\n                        values: dependencies.typeDs,\n                        width: \"9em\"\n                    }],\n                    toolbar: [{\n                        name: \"create\",\n                        text: messages.editor.addNew\n                    },{\n                        name: \"remove\",\n                        icon: \"minus\",\n                        text: messages.editor.remove,\n                        click: (e) => {\n                            var grid = e.target.closest(\".k-grid\").getKendoGrid(),\n                                ds = grid.dataSource,\n                                selected = grid.select(),\n                                items = [];\n\n                            if (selected && selected.length > 0) {\n                                selected.each((i, row) => {\n                                    items.push(grid.dataItem($(row)));\n                                });\n\n                                items.map(i => {\n                                    ds.remove(i);\n                                });\n                            }\n                        }\n                    }],\n                    editable: true,\n                    sortable: true,\n                    navigatable: true,\n                    height: GRID_HEIGHT,\n                    edit: function() {\n                        var select = $(\"[name=predecessorId], [name=successorId]\"),\n                            ddl;\n\n                        if (select.length) {\n                            ddl = select.data(\"kendoDropDownList\");\n                            ddl.setOptions({\n                                filter: \"contains\"\n                            });\n                        }\n                    },\n                };\n            },\n\n            _initForm: function() {\n                var that = this,\n                    task = that.task,\n                    container = that.container,\n                    resources = that.options.resources,\n                    resourceField = task.get(resources.field),\n                    fields = that.fields(),\n                    tabStripDs = that._tabStripSource(fields, resourceField);\n\n                container.find(\".k-gantt-edit-tabstrip\").kendoTabStrip({\n                    dataTextField: \"name\",\n                    dataContentField: \"content\",\n                    dataSource: tabStripDs,\n                    value: that.options.messages.editor.general,\n                    select: (e) => {\n                        var tabStrip = e.sender,\n                            contentElement = $(tabStrip.contentElement(tabStrip.select().index())),\n                            grid = contentElement.find(\".k-grid\").data(\"kendoGrid\"),\n                            form = contentElement.find(\".k-form\").data(\"kendoForm\");\n\n                        if (grid && grid.editable && grid.editable.validatable && !grid.editable.validatable.validate()) {\n                            e.preventDefault();\n                        } else if (form && !form.validator.validate()) {\n                            e.preventDefault();\n                        }\n                    }\n                });\n\n                that._initGeneral(fields.general, task);\n\n                if (resourceField) {\n                    that.resourceEditor = resources.editor(container.find(\".k-gantt-resources\"), task);\n                }\n\n                if (fields.dependencies) {\n                    container.find(\".k-gantt-predecessors\").kendoGrid(that._gridOptions(fields.dependencies, \"predecessorId\", \"successorId\", task.id));\n                    container.find(\".k-gantt-successors\").kendoGrid(that._gridOptions(fields.dependencies, \"successorId\", \"predecessorId\", task.id));\n                }\n\n                if (fields.other) {\n                    that._initOther(fields.other, task);\n                }\n\n                return that.form.editable;\n            },\n\n            _initGeneral: function(items, task) {\n                this.form = this.container.find(\".k-gantt-form-default\").kendoForm({\n                    layout: \"grid\",\n                    grid: {\n                        cols: 4,\n                        gutter: {\n                            rows: 0,\n                            cols: 8\n                        }\n                    },\n                    items: items,\n                    formData: task,\n                    buttonsTemplate: () => \"\",\n                    validatable: {\n                        validateOnBlur: true\n                    }\n                }).data(\"kendoForm\");\n            },\n\n            _initOther: function(items, task) {\n                this.container.find(\".k-gantt-form-other\").kendoForm({\n                    items: items,\n                    formData: task,\n                    buttonsTemplate: () => \"\",\n                    validatable: {\n                        validateOnBlur: true\n                    }\n                });\n            },\n\n            _readonlyEditor: function(container, options) {\n                var field = options.field,\n                    value = '',\n                    ds = this.options.target.dataSource;\n\n                if (options.model.get(field) !== null) {\n                    value = options.model.get(field);\n\n                    if (value instanceof Date) {\n                        value = kendo.toString(value, \"g\");\n                    } else if (field === \"percentComplete\") {\n                        value = kendo.toString(value, options.format);\n                    } else if (field === \"parentId\") {\n                        value = ds.get(value).title;\n                    }\n                }\n\n                container.append(\"<span>\" + value + \"</span>\");\n            },\n\n            _onCancel: function() {\n                this.trigger(\"cancel\", { container: this.container, model: this.task });\n            },\n\n            _onDelete: function() {\n                this.trigger(\"remove\", { container: this.container, model: this.task });\n            },\n\n            _onSave: function() {\n                var task = this.task,\n                    fields = [],\n                    updateInfo = {},\n                    field,\n                    container = this.container,\n                    predeGrid = container.find(\".k-gantt-predecessors\").getKendoGrid(),\n                    sucGrid = container.find(\".k-gantt-successors\").getKendoGrid(),\n                    found, prevData, newData, args = {}, createdData = [], updatedData = [];\n\n                if (predeGrid) {\n                    prevData = this.dependencyData.successorId.concat(this.dependencyData.predecessorId);\n                    newData = predeGrid.dataSource.view().toJSON().concat(sucGrid.dataSource.view().toJSON());\n\n                    if (predeGrid && predeGrid.editable && predeGrid.editable.validatable && !predeGrid.editable.validatable.validate() ||\n                        sucGrid && sucGrid.editable && sucGrid.editable.validatable && !sucGrid.editable.validatable.validate()) {\n                            return;\n                        }\n\n                    newData.map(n => {\n                        found = prevData.find(i => i.id === n.id);\n\n                        if (found) {\n                            if (found.dirty) {\n                                updatedData.push(n);\n                            }\n\n                            newData = newData.filter(i => i.id !== n.id);\n                            prevData = prevData.filter(i => i.id !== n.id);\n                        }\n                    });\n\n                    newData.map(i => {\n                        if (i.successorId) {\n                            if (!i.predecessorId) {\n                                i.predecessorId = task.get(\"id\");\n                            }\n\n                            createdData.push(i);\n                        } else if (i.predecessorId) {\n                            if (!i.successorId) {\n                                i.successorId = task.get(\"id\");\n                            }\n\n                            createdData.push(i);\n                        }\n                    });\n\n                    if (createdData.length > 0 || prevData.length > 0 || updatedData.length > 0) {\n                        args.updateDependencies = {\n                            destroyed: prevData,\n                            created: createdData,\n                            updated: updatedData\n                        };\n                    }\n                }\n\n                if (Array.isArray(this.fields())) {\n                    fields = this.fields();\n                } else {\n                    Object.values(this.fields()).map((val) => {\n                        if (Array.isArray(val)) {\n                            fields.push(...val);\n                        }\n                    });\n                }\n\n                if (this.resourceEditor) {\n                    if (!this.resourceEditor.updateModel()) {\n                        return;\n                    }\n                }\n\n                for (var i = 0, length = fields.length; i < length; i++) {\n                    field = fields[i].field;\n                    updateInfo[field] = task.get(field);\n                }\n\n                this.trigger(\"save\", $.extend({}, args, {\n                    container: container,\n                    model: task,\n                    updateInfo: updateInfo\n                }));\n            },\n\n            _tabStripSource: function(fields, resourceField) {\n                var messages = this.options.messages.editor,\n                    dependencies = fields.dependencies,\n                    tabStripDs = [{\n                        name: messages.general,\n                        content: \"<div class='k-gantt-form-default'></div>\"\n                    }];\n\n                if (resourceField) {\n                    tabStripDs.push({\n                        name: messages.resources,\n                        content: \"<div class='k-gantt-resources'></div>\"\n                    });\n                }\n\n                if (dependencies) {\n                    tabStripDs.push({\n                        name: messages.predecessors,\n                        content: \"<div class='k-gantt-predecessors'></div>\"\n                    });\n                    tabStripDs.push({\n                        name: messages.successors,\n                        content: \"<div class='k-gantt-successors'></div>\"\n                    });\n                }\n\n                if (fields.other) {\n                    tabStripDs.push({\n                        name: messages.other,\n                        content: \"<div class='k-gantt-form-other'></div>\"\n                    });\n                }\n\n                return tabStripDs;\n            }\n        });\n        var ResourceEditor = Widget.extend({\n            init: function(element, options) {\n                Widget.fn.init.call(this, element, options);\n\n                this.wrapper = this.element;\n                this.model = this.options.model;\n                this.resourcesField = this.options.resourcesField;\n\n                this._resourceGrid();\n            },\n\n            destroy: function() {\n                this.grid = null;\n\n                Widget.fn.destroy.call(this);\n\n                this.element = this.wrapper = null;\n            },\n\n            updateModel: function() {\n                var resources = [];\n                var item, value;\n                var grid = this.grid;\n                var data = grid.dataSource.data();\n                var editable = grid.editable;\n\n                if (editable && editable.validatable && !editable.validatable.validate()) {\n                    return false;\n                }\n\n                for (var i = 0, length = data.length; i < length; i++) {\n                    item = data[i];\n                    value = item.get(\"value\");\n\n                    if (item.id !== undefined$1 && value !== null && value > 0) {\n                        resources.push(data[i]);\n                    }\n                }\n\n                this.model[this.resourcesField] = resources;\n\n                return true;\n            },\n\n            _resourceGrid: function() {\n                var that = this;\n                var messages = this.options.messages;\n                var options = that.options;\n                var element = this.wrapper;\n                var ddlDs = options.resources;\n\n                that.grid = new kendo.ui.Grid(element, {\n                    encodeTitles: true,\n                    columns: [{\n                        selectable: true,\n                        width: 50\n                    },{\n                        field: \"id\",\n                        title: messages.resourcesHeader,\n                        values: ddlDs\n                    },{\n                        field: \"value\",\n                        title: messages.unitsHeader,\n                        template: function(dataItem) {\n                            var valueFormat = dataItem.format || PERCENTAGE_FORMAT;\n                            var value = dataItem.value !== null ? dataItem.value : \"\";\n\n                            return valueFormat ? kendo.toString(value, valueFormat) : value;\n                        },\n                        width: 120\n                    }],\n                    height: GRID_HEIGHT,\n                    sortable: true,\n                    editable: true,\n                    filterable: true,\n                    navigatable: true,\n                    toolbar: [{\n                        name: \"create\",\n                        text: messages.addNew\n                    },{\n                        name: \"remove\",\n                        icon: \"minus\",\n                        text: messages.remove,\n                        click: () => {\n                            var grid = that.grid,\n                                ds = grid.dataSource,\n                                selected = grid.selectedKeyNames();\n\n                            if (selected && selected.length > 0) {\n                                selected.map(i => {\n                                    ds.remove(ds.get(i));\n                                });\n                            }\n                        }\n                    }],\n                    dataSource: {\n                        data: this.model.resources,\n                        schema: {\n                            model: {\n                                id: \"id\",\n                                fields: {\n                                    id: { from: \"id\", defaultValue: undefined$1, validation: { required: { message: messages.resourcesHeader + \" is required\" } } },\n                                    value: { from: \"value\", type: \"number\", defaultValue: 1, validation: this.options.unitsValidation },\n                                    format: { from: \"format\", type: \"string\" }\n                                }\n                            }\n                        }\n                    },\n                    edit: function(e) {\n                        var select = e.container.find(\"select\"),\n                            ddl = select.data(\"kendoDropDownList\"),\n                            currentId = e.model.id,\n                            filterOut = options.model.resources.map(r => r.id).filter(r => r !== currentId),\n                            filters = filterOut.map(f => ({\n                                field: \"value\",\n                                operator: \"neq\",\n                                value: f\n                            }));\n\n                        if (ddl) {\n                            ddl.dataSource.filter({\n                                logic: \"and\",\n                                filters: filters\n                            });\n\n                            ddl.setOptions({\n                                filter: \"contains\"\n                            });\n                        }\n                    }\n                });\n            }\n        });\n\n        kendo.gantt = {\n            PopupEditor: PopupEditor,\n            ResourceEditor: ResourceEditor\n        };\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}