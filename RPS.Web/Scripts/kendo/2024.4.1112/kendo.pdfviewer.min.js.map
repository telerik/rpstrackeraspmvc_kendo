{"version":3,"file":"kendo.pdfviewer.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","Pdfviewer","MobileScroller","Toolbar","Pager","Combobox","Textbox","Core","Drawing","Upload","PdfviewerCommonCmnChunk","this","kendo_mobile_scroller_js","kendo_toolbar_js","kendo_pager_js","kendo_combobox_js","kendo_textbox_js","kendo_core_js","kendo_drawing_js","kendo_upload_js","kendo_pdfviewerCommon_cmn_chunk_js","$","Class","extend","parseJSON","progress","UploadHelper","window","DPLProcessor","init","options","viewer","that","read","upload","download","fetchDocument","deferred","Deferred","errorMessages","messages","ajax","type","url","dataType","success","data","stringify","resolve","JSON","parse","error","xhr","_triggerError","responseText","message","parseError","fetchPageData","number","page","document","pages","pageField","geometries","length","downloadFile","fileName","location","fromJSON","json","_clearPages","total","_renderPages","resize","activatePage","pdfviewer","dpl","processor","jQuery","pdfjs","lib","pdfjsLib","ui","_initUpload","uploadElement","extendUploadOptions","uploadOptions","select","_onSelect","bind","_onSuccess","_onError","complete","_onComplete","showFileList","multiple","validation","allowedExtensions","async","saveUrl","autoUpload","saveField","kendoUpload","getKendoUpload","pageContainer","e","response","isPlainObject","XMLHttpRequest","notSupported","fileToUpload","files","trigger","file","extension","toLowerCase","reader","FileReader","onload","target","result","fromFile","onerror","readAsArrayBuffer","rawFile","noop","drawing","Group","Surface","geometryTypes","Path","MultiPath","Rect","Image","Text","Page","pageNumber","element","attr","_updatePageSize","width","height","ratio","pageElement","Math","min","size","destroy","render","BlankPage","_externalDropZoneId","_uploadHelper","_upload","find","dropZone","DPLPage","draw","group","surface","_drawGeometries","load","loaded","then","_initSurface","surfaceOptions","view","kGeometry","i","geometry","_drawPath","_drawRect","_drawImage","_drawText","append","rectGeo","point","transform","_getMatrix","fill","fillOptions","stroke","strokeOptions","imageRect","src","font","content","path","paths","subPath","segments","moveTo","apply","j","segment","points","lineTo","curveTo","closed","close","matrix","Object","create","Matrix","prototype","Command","OpenCommand","fn","call","exec","click","PageChangeCommand","current","targetPage","value","isNaN","_pageNum","numPages","Number","DownloadCommand","notFound","info","title","defaultFileName","_isDPLProcessor","d","pdf","blob","saveOptions","ExportCommand","dialog","_saveDialog","_initDialog","_updateModel","pagesCount","open","viewModel","exportImage","exportSVG","dialogs","ExportAsDialog","EnableSelectionCommand","_toggleSelection","EnablePanCommand","OpenSearchCommand","searchDialog","SearchDialog","pageContainerWrapper","position","top","offset","left","search","_open","next","_next","prev","_prev","_close","searchService","Promise","all","_loadAllPages","S","textContainers","get","changeHandler","_change","searchModel","toolbar","unbind","matches","matchIndex","_updateSearchModel","ev","text","matchCase","field","pdfScroller","g","scroller","a","model","set","_closeDialog","ZoomCommand","scale","processingLib","_calculateZoom","zoomScale","_setPageContainerScaleFactor","r","pdfDoc","zoom","dom","rootElement","loadOnDemand","done","pdfPages","currentPageIndex","c","_pageRenderPromise","_triggerZoomEnd","preventZoom","viewerOptions","scaleValue","_allowResize","_autoFit","zoomIn","zoomRate","zoomOut","_autoZoomScale","parseFloat","toString","match","parseInt","replace","b","zoomMin","zoomMax","updateComboBox","_updateZoomComboBox","PrintCommand","p","onPrintComplete","onPrintError","popupBlocked","encode","htmlEncode","Draggable","outerWidth","_outerWidth","EXTENSIONS","keys","ErrorDialog","actions","okText","_dialog","kendoDialog","getKendoDialog","center","fileFormats","description","exportAsDialog","png","svg","_initializeDialog","autoFocus","resizable","modal","preventScroll","maxWidth","template","labels","saveAsType","save","cancel","dialogMessages","kendoWindow","getKendoWindow","observable","name","dragHandle","icon","iconClass","inputLabel","of","previous","_showSearchDialog","_hideSearchDialog","css","innerWidth","kendoStop","kendoAnimate","effects","direction","fade","duration","properties","hide","dialogElm","prepend","_draggable","filter","axis","dragstart","wnd","containment","startPosition","x","client","getOffset","_innerWidth","clientWidth","support","scrollbar","maxLeft","drag","indexOf","max","userEvents","stopPropagation","boundValue","searchText","matchCaseClick","onKeyup","key","keyCode","navigationFn","shiftKey","ENTER","preventDefault","ESC","onInput","NS","PLUS","MINUS","ZERO","NUMPAD_ZERO","Widget","SCROLL","RENDER","ERROR","KEYDOWN","MOUSEWHEEL","UPDATE","PAGE_CHANGE","ZOOMCOMMAND","CHANGE","DISABLED","PROCESSORS","styles","PREDEFINED_ZOOM_VALUES","PDFViewer","deepExtend","_processMessages","_wrapper","_renderToolbar","_initProcessor","_renderPageContainer","_loadDPLDocument","_loadPdfJSDocument","notify","_showWatermarkOverlay","wrapper","events","pdfjsProcessing","dplProcessing","items","defaultPageSize","zoomLevel","actualWidth","autoWidth","fitToWidth","fitToPage","exportAs","print","toggleSelection","togglePan","defaultTools","pager","overflow","component","componentOptions","navigatable","_isToolbarItem","spacer","zoomInOut","fillMode","buttons","command","showText","enable","dataTextField","dataValueField","valuePrimitive","clearOnEscape","commandOn","togglable","selected","spacer2","exportAsTool","addClass","on","_keydown","D","_resizeHandler","onResize","plusShortcuts","NUMPAD_PLUS","minusShortcuts","NUMPAD_MINUS","zeroShortcuts","shouldExecute","args","ctrlKey","_blankPage","includes","execute","_handlePageChangeEvent","event","_pageChangeFromScroll","index","_showPagerInputLabels","inputElements","children","eq","add","is","show","_resizePager","responsive","pagerWidth","visibleToolbarItems","Array","from","containerWidth","visibleToolsWidth","gap","temp","elementsToShrink","hidden","removeClass","input","processingOptions","GlobalWorkerOptions","workerSrc","pdfjsWorker","console","_hasPagerTool","tools","hasPager","tool","toolbarOptions","_processTools","pagerMessages","currentPagerOptions","parentMessages","toolbarElement","appendTo","ToolBar","_toolbarClick","update","_updateToolbar","flatMap","t","zoomLevels","percent","comboOptions","map","concat","dataSource","pageOptions","toolbarEl","zoomCombo","toFocus","first","_getAllItems","isBlank","action","updatePager","pageChangeFromScroll","_updatePager","_updateOnBlank","_resetTabIndex","parent","pagerDataSource","DataSource","pageSize","setDataSource","_togglePagerDisabledClass","totalPages","hasClass","isPredefined","round","currentTarget","val","_initErrorDialog","_errorDialog","dialogInstance","style","setProperty","pagesData","viewerPage","pageData","push","_attachContainerEvents","_getVisiblePagesCount","_renderBlankPage","_resize","clearTimeout","setTimeout","_resizePages","forEach","pageWidth","_pageInfo","emptyPage","currentRatio","_wheel","throttle","activeElement","_scroll","_onDemandScroll","pageToLoadNum","containerHeight","pageNum","pageIndex","_preventScroll","_scrollingStarted","nextPageIndex","_loadVisiblePages","loadPage","originalEvent","wheelDelta","detail","preventComboBoxChange","commandOptions","parentNode","enablePanEventsTracking","ArrayBuffer","arrayBuffer","l","loadOnDemandPageSize","notFoundError","alertMessage","_setPageNumberAttributes","each","el","preventTrigger","intervalId","setInterval","rendered","renderInProgress","clearInterval","f","_scrollToActivatedPage","s","loadedPagesHeight","updatedVisiblePagesCount","clientHeight","_visiblePagesCount","minVisiblePageNum","maxVisiblePageNum","_visiblePages","slice","promises","_updateDocument","rootGroup","background","fromRect","color","saveAs","dataURI","proxyURL","forceProxy","proxyTarget","setOptions","unbindResize","off","empty","disablePanEventsTracking","toggleClass","plugin","kendo$1","__meta__","id","category","depends","default","defineProperty"],"sources":["kendo.pdfviewer.js"],"mappings":"CAAA,SAAWA,EAAQC,GACI,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,QAASE,QAAQ,4BAA6BA,QAAQ,oBAAqBA,QAAQ,kBAAmBA,QAAQ,qBAAsBA,QAAQ,oBAAqBA,QAAQ,iBAAkBA,QAAQ,oBAAqBA,QAAQ,mBAAoBA,QAAQ,uCAAwCA,QAAQ,mBAAoBA,QAAQ,mBAAoBA,QAAQ,mBAAoBA,QAAQ,2BAA4BA,QAAQ,yBAA0BA,QAAQ,kBAAmBA,QAAQ,wBAAyBA,QAAQ,0BACvjB,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,UAAW,wBAAyB,gBAAiB,cAAe,iBAAkB,gBAAiB,iBAAkB,gBAAiB,eAAgB,mCAAoC,eAAgB,eAAgB,eAAgB,uBAAwB,qBAAsB,cAAe,oBAAqB,sBAAuBJ,GACjUA,IAA1ED,EAA+B,oBAAfO,WAA6BA,WAAaP,GAAUQ,MAAsBC,MAAQT,EAAOS,OAAS,CAAC,EAAGT,EAAOS,MAAMC,SAAWV,EAAOS,MAAMC,UAAY,CAAC,EAAGV,EAAOS,MAAMC,SAASC,UAAY,CAAC,GAAIX,EAAOS,MAAMC,SAASE,eAAgBZ,EAAOS,MAAMC,SAASG,QAASb,EAAOS,MAAMC,SAASI,MAAOd,EAAOS,MAAMC,SAASK,SAAUf,EAAOS,MAAMC,SAASM,QAAShB,EAAOS,MAAMC,SAASO,KAAMjB,EAAOS,MAAMC,SAASQ,QAASlB,EAAOS,MAAMC,SAASS,OAAQnB,EAAOS,MAAMC,SAASU,wBACte,CAJD,CAIGC,MAAM,SAAWnB,EAASoB,EAA0BC,EAAkBC,EAAgBC,EAAmBC,EAAkBC,EAAeC,EAAkBC,EAAiBC,GAiI5K,IAAUC,EACFC,EACAC,EACAC,EACAC,EAIAC,GAxIR,SAAUL,GACN,IAAItB,EAAQ4B,OAAO5B,MACfwB,EAASF,EAAEE,OAGXK,EAFQ7B,EAAMuB,MAEOC,OAAO,CAC5BM,KAAM,SAASC,EAASC,GACpB,IAAIC,EAAOrB,KAEXqB,EAAKF,QAAUA,EACfE,EAAKC,KAAOH,EAAQG,KACpBD,EAAKE,OAASJ,EAAQI,OACtBF,EAAKG,SAAWL,EAAQK,SAExBH,EAAKD,OAASA,CAClB,EACAK,cAAe,WACX,IAAIJ,EAAOrB,KACP0B,EAAWhB,EAAEiB,WACbC,EAAgBP,EAAKD,OAAOD,QAAQU,SAASD,cAEjD,OAAKP,EAAKC,MAIVZ,EAAEoB,KAAK,CACHC,KAAMV,EAAKC,KAAKS,KAChBC,IAAKX,EAAKC,KAAKU,IACfC,SAAUZ,EAAKC,KAAKW,SACpBC,QAAS,SAASC,GACK,iBAARA,IACPA,EAAO/C,EAAMgD,UAAUD,IAE3BT,EAASW,QAAQC,KAAKC,MAAMJ,GAChC,EACAK,MAAO,SAASC,GACZpB,EAAKD,OAAOsB,cAAc,CACtBF,MAAOC,EAAIE,aACXC,QAAShB,EAAciB,YAE/B,IAGGnB,GArBIA,EAASW,SAsBxB,EACAS,cAAe,SAASC,GACpB,IAAI1B,EAAOrB,KACP0B,EAAWhB,EAAEiB,WACbqB,EAAO3B,EAAKD,OAAO6B,SAASC,MAAMH,EAAS,GAC3CZ,EAAO,CAAC,EAsBZ,OArBAA,EAAKd,EAAKC,KAAK6B,WAAaJ,EAEvBC,EAAKI,WAAWC,OAgBjB3B,EAASW,QAAQW,GAfjBtC,EAAEoB,KAAK,CACHC,KAAMV,EAAKC,KAAKS,KAChBC,IAAKX,EAAKC,KAAKU,IACfG,KAAMA,EACND,QAAS,SAASC,GACdT,EAASW,QAAQC,KAAKC,MAAMJ,GAChC,EACAK,MAAO,SAASC,GACZpB,EAAKD,OAAOsB,cAAc,CACtBF,MAAOC,EAAIE,aACXC,QAASvB,EAAKD,OAAOD,QAAQU,SAASD,cAAciB,YAE5D,IAMDnB,CACX,EACA4B,aAAc,SAASC,GACnBvC,OAAOwC,SAAWxD,KAAKwB,SAASQ,IAAM,SAAWuB,CACrD,EAEAE,SAAU,SAASC,GAEf,IAAItC,EAASpB,KAAKoB,OAClBA,EAAOuC,cAEPvC,EAAO6B,SAAWS,EAClBtC,EAAO6B,SAASW,MAAQxC,EAAO6B,SAASC,MAAMG,OAE9CjC,EAAOyC,eACPzC,EAAO0C,QAAO,GAEd1C,EAAO2C,aAAa,EACxB,IAGJnD,EAAOxB,EAAO,CACV4E,UAAW,CACPC,IAAK,CACDC,UAAWjD,KAI1B,CAnGD,CAmGGD,OAAO5B,MAAM+E,QA2BhB/E,MAAM4E,UAAUI,MAAQ,CAAEC,IAAKrD,OAAOsD,UAE5B5D,EAkGPM,OAAO5B,MAAM+E,OAjGRxD,EAAQvB,MAAMuB,MACdC,EAASF,EAAEE,OACXC,EAAYyB,KAAKC,MACjBzB,EAAW1B,MAAMmF,GAAGzD,SACpBH,EAAQvB,MAAMuB,MAGdI,EAAeJ,EAAMC,OAAO,CAC5BM,KAAM,SAASE,GACXpB,KAAKoB,OAASA,EACdpB,KAAK4B,cAAgB5B,KAAKoB,OAAOD,QAAQU,SAASD,cAClD5B,KAAKuB,OAASvB,KAAKoB,OAAO8C,WAAalE,KAAKoB,OAAO8C,UAAU3C,MACjE,EACAiD,YAAa,SAASC,EAAeC,GACjC,IAAIC,EAAgB/D,EAAO,CACvBgE,OAAQ5E,KAAK6E,UAAUC,KAAK9E,MAC5BkC,QAASlC,KAAK+E,WAAWD,KAAK9E,MAC9BwC,MAAOxC,KAAKgF,SAASF,KAAK9E,MAC1BiF,SAAUjF,KAAKkF,YAAYJ,KAAK9E,MAChCmF,cAAc,EACdC,UAAU,EACVC,WAAY,CACRC,kBAAmB,CAAC,UAEzBZ,GAAuB,CAAC,GAc3B,OAZI1E,KAAKuB,QACLX,EAAO+D,EAAe,CAClBY,MAAO,CACHC,QAASxF,KAAKuB,OAAOS,IACrByD,YAAY,EACZC,UAAW1F,KAAKuB,OAAOmE,cAKrBjB,GAAiB/D,EAAE,qDAAqDiF,YAAYhB,GAAeiB,gBAGrH,EACAV,YAAa,WACTpE,EAASd,KAAKoB,OAAOyE,eAAe,EACxC,EACAd,WAAY,SAASe,GACjB,IAAIpC,EAAO7C,EAAUiF,EAAEC,UAEnBrF,EAAEsF,cAActC,GAChB1D,KAAKoB,OAAO8C,UAAUT,SAASC,GAG/B1D,KAAKoB,OAAOsB,cAAc,CACtBF,MAAOkB,EACPd,QAAS5C,KAAK4B,cAAciB,YAGxC,EACAmC,SAAU,SAASc,GACf9F,KAAKoB,OAAOsB,cAAc,CACtBF,MAAOsD,EAAEG,eAAetD,aACxBC,QAAS5C,KAAK4B,cAAcsE,cAEpC,EACArB,UAAW,SAASiB,GAChB,IAAIzE,EAAOrB,KACPmG,EAAeL,EAAEM,MAAM,GAI3B,GAFAtF,EAASO,EAAKD,OAAOyE,eAAe,IAEhCxE,EAAKD,OAAOiF,QA/Db,OA+D2B,CAAEC,KAAMH,MAAmB9E,EAAKE,OAEvD,GAA6C,SAAzC4E,EAAaI,UAAUC,cAA3B,CAQP,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAASb,GACrB,IAAI7C,EAAW6C,EAAEc,OAAOC,OACxBxF,EAAKD,OAAO0F,SAAS7D,EACzB,EACAwD,EAAOM,QAAU,WACb1F,EAAKD,OAAOsB,cAAc,CACtBF,MAAO2D,EACPvD,QAASvB,EAAKO,cAAciB,YAEpC,EAEA4D,EAAOO,kBAAkBb,EAAac,QAdtC,MALI5F,EAAKD,OAAOsB,cAAc,CACtBF,MAAO2D,EACPvD,QAASvB,EAAKO,cAAcsE,cAkBxC,IAGJtF,EAAOxB,MAAM4E,UAAW,CACpBjD,aAAcA,IAItB,SAAUL,GACN,IAAIE,EAASF,EAAEE,OACXsG,EAAOxG,EAAEwG,KACTC,EAAU/H,MAAM+H,QAChBC,EAAQD,EAAQC,MAChBC,EAAUF,EAAQE,QAElB1G,EAAQvB,MAAMuB,MACdI,EAAe3B,MAAM4E,UAAUjD,aAI/BuG,EAAgB,CAChBC,KAAM,OACNC,UAAW,YACXC,KAAM,OACNC,MAAO,QACPC,KAAM,QAiBNC,EAAOjH,EAAMC,OAAO,CACpBM,KAAM,SAASC,EAASC,GACpBpB,KAAKoB,OAASA,EACdpB,KAAKkE,UAAY/C,EAAQ+C,UACzBlE,KAAKmB,QAAUA,EACfnB,KAAK6H,WAAa1G,EAAQ4B,OAE1B/C,KAAK8H,QAAUpH,EAAE,0BACjBV,KAAK8H,QAAQC,KAAK3I,MAAM2I,KAAK,UAAW/H,KAAK6H,YAE7C7H,KAAKgI,gBAAgB7G,GACrBnB,KAAKiI,MAAQ9G,EAAQ8G,MACrBjI,KAAKkI,OAAS/G,EAAQ+G,MAC1B,EACApE,OAAQ,SAASqE,GACb,IAAIC,EAAcpI,KAAK8H,QAEvB9H,KAAKgI,gBAAgB,CACjBC,MAAOI,KAAKC,IAAIF,EAAYH,QAAUE,EAAOnI,KAAKiI,OAClDC,OAAQG,KAAKC,IAAIF,EAAYF,SAAWC,EAAOnI,KAAKkI,SAE5D,EACAF,gBAAiB,SAASO,GACtBvI,KAAK8H,QACIG,MAAMM,EAAKN,OACXC,OAAOK,EAAKL,OACzB,EACAM,QAAS,WACLpJ,MAAMoJ,QAAQxI,KAAK8H,QACvB,EACAW,OAAQvB,IAGRwB,EAAYd,EAAKhH,OAAO,CACxBM,KAAM,SAASC,EAASC,GACpBpB,KAAKoB,OAASA,EACdpB,KAAKmB,QAAUA,EACfnB,KAAK2I,oBAAsB,GAAGvH,EAAO0G,QAAQC,KAAK,0BAClD/H,KAAK8H,QAAUpH,EApDmB,uDAoDGV,KAAK2I,urBAC1C3I,KAAK4I,cAAgB,IAAI7H,EAAaK,EAC1C,EACAoD,YAAa,WACTxE,KAAK6I,QAAU7I,KAAK4I,cAAcpE,YAAYxE,KAAK8H,QAAQgB,KAAK,0CAA2C,CACvGC,SAAU,IAAI/I,KAAK2I,sBACnBxD,cAAc,EACdI,MAAO,CACHE,YAAY,EACZD,QAAS,SAGrB,EACA1B,OAAQoD,EACRc,gBAAiBd,EACjBsB,QAAS,WACDxI,KAAK6I,SACL7I,KAAK6I,QAAQL,UAGjBpJ,MAAMoJ,QAAQxI,KAAK8H,QACvB,EACAW,OAAQvB,IAGR8B,EAAUpB,EAAKhH,OAAO,CACtBqI,KAAM,WACF,IAAI5H,EAAOrB,KACPoD,EAAa/B,EAAKF,QAAQiC,WAE9B/B,EAAK6H,MAAQ,IAAI9B,EACjB/F,EAAK8H,QAAQF,KAAK5H,EAAK6H,OAEvB7H,EAAK+H,gBAAgBhG,GAErB/B,EAAKD,OAAOiF,QArGP,SAqGuB,CAAErD,KAAMhD,OACpCZ,MAAMmF,GAAGzD,SAASO,EAAKyG,SAAS,EACpC,EACAuB,KAAM,WACF,IAAIhI,EAAOrB,MAEPqB,EAAKiI,QAAWjI,EAAK6C,YAKzB7C,EAAK6C,UAAUpB,cAAczB,EAAKwG,YAAY0B,MAAK,SAASpH,GACxDd,EAAKF,QAAUgB,EACfd,EAAKmI,eACLnI,EAAK4H,MACT,IAEA5H,EAAKiI,QAAS,EAClB,EACAE,aAAc,WACV,IAAIjB,EAAO,CACPN,MAAOjI,KAAK8H,QAAQG,QACpBC,OAAQlI,KAAK8H,QAAQI,UAErBuB,EAAiB7I,EAAO,CAAEqH,MAAOjI,KAAKiI,MAAOC,OAAQlI,KAAKkI,QAAUlI,KAAKoB,OAAOD,QAAQuI,MAC5F1J,KAAKmJ,QAAU,IAAI9B,EAAQrH,KAAK8H,QAAS2B,GACzCzJ,KAAKgI,gBAAgBO,EACzB,EACAa,gBAAiB,SAAShG,GACtB,IACIuG,EADAtI,EAAOrB,KAGX,GAAKoD,EAIL,IAAK,IAAIwG,EAAI,EAAGA,GAAKxG,EAAWC,OAAQuG,IAAK,CACzC,IAAIC,EAAWzG,EAAWwG,GAE1B,GAAKC,EAAL,CAIA,OAAQA,EAAS9H,MACb,KAAKuF,EAAcC,KACnB,KAAKD,EAAcE,UACfmC,EAAYtI,EAAKyI,UAAUD,GAC3B,MACJ,KAAKvC,EAAcG,KACfkC,EAAYtI,EAAK0I,UAAUF,GAC3B,MACJ,KAAKvC,EAAcI,MACfiC,EAAYtI,EAAK2I,WAAWH,GAC5B,MACJ,KAAKvC,EAAcK,KACfgC,EAAYtI,EAAK4I,UAAUJ,GAC3B,MACJ,QACIF,EAAY,KAIhBA,GAEAtI,EAAK6H,MAAMgB,OAAOP,EAvBtB,CAyBJ,CACJ,EACAI,UAAW,SAASF,GAEhB,IAAIM,EAAU,IAAI/K,MAAMyK,SAASpC,KAAKoC,EAASO,MAAOP,EAAStB,MAE/D,OAAO,IAAIpB,EAAQM,KAAK0C,EAAS,CAC7BE,UAAWrK,KAAKsK,WAAWT,EAASQ,WACpCE,KAAMV,EAASW,YACfC,OAAQZ,EAASa,eAEzB,EAEAV,WAAY,SAASH,GAEjB,IAAIc,EAAY,IAAIvL,MAAMyK,SAASpC,KAAKoC,EAASO,MAAOP,EAAStB,MACjE,OAAO,IAAIpB,EAAQO,MAAMmC,EAASe,IAAKD,EAAW,CAC9CN,UAAWrK,KAAKsK,WAAWT,EAASQ,YAE5C,EAEAJ,UAAW,SAASJ,GAEhB,IAAI1I,EAAU,CACVkJ,UAAWrK,KAAKsK,WAAWT,EAASQ,WACpCI,OAAQZ,EAASa,cACjBH,KAAMV,EAASW,YACfK,KAAMhB,EAASgB,MAEnB,OAAO,IAAIzL,MAAM+H,QAAQQ,KAAKkC,EAASiB,QAASjB,EAASO,MAAOjJ,EACpE,EAEA2I,UAAW,SAASD,GAShB,IAPA,IAAI1I,EAAU,CACVkJ,UAAWrK,KAAKsK,WAAWT,EAASQ,WACpCI,OAAQZ,EAASa,cACjBH,KAAMV,EAASW,aAEfO,EAAO,IAAI5D,EAAQK,UAAUrG,GAExByI,EAAI,EAAGA,EAAIC,EAASmB,MAAM3H,OAAQuG,IAAK,CAC5C,IAAIqB,EAAUpB,EAASmB,MAAMpB,GAE7B,IAAKqB,EAAQC,SAET,OAGJH,EAAKI,OAAOC,MAAML,EAAME,EAAQb,OAEhC,IAAK,IAAIiB,EAAI,EAAGA,EAAIJ,EAAQC,SAAS7H,OAAQgI,IAAK,CAC9C,IAAIC,EAAUL,EAAQC,SAASG,IACY,IAA1BC,EAAQC,OAAOlI,OAAe0H,EAAKS,OAAST,EAAKU,SACvDL,MAAML,EAAMO,EAAQC,OACnC,CAEIN,EAAQS,QACRX,EAAKY,OAEb,CAEA,OAAOZ,CACX,EAEAT,WAAY,SAASD,GACjB,IAAIuB,EAASC,OAAOC,OAAO1M,MAAMyK,SAASkC,OAAOC,WAEjD,OADA5M,MAAMyK,SAASkC,OAAOX,MAAMQ,EAAQvB,GAC7BuB,CACX,IAGJhL,EAAOxB,MAAM4E,UAAUC,IAAK,CACxBqD,cAAeA,EACfM,KAAMoB,IAEVpI,EAAOxB,MAAM4E,UAAW,CACpB0E,UAAWA,GAElB,CA5PD,CA4PG1H,OAAO5B,MAAM+E,QAEhB,SAAUzD,GACN,IAAItB,EAAQ4B,OAAO5B,MACfwB,EAASF,EAAEE,OAEXE,GADYwB,KAAKC,MACNnD,EAAMmF,GAAGzD,UACpBH,EAAQvB,EAAMuB,MACdI,EAAe3B,EAAM4E,UAAUjD,aAK/BkL,EAAUtL,EAAMC,OAAO,CACvBM,KAAM,SAASC,GACXnB,KAAKmB,QAAUA,EACfnB,KAAKoB,OAASD,EAAQC,OACtBpB,KAAK4B,cAAgB5B,KAAKoB,OAAOD,QAAQU,SAASD,aACtD,IAGAsK,EAAcD,EAAQrL,OAAO,CAC7BM,KAAM,SAASC,GACX8K,EAAQE,GAAGjL,KAAKkL,KAAKpM,KAAMmB,GAC3BnB,KAAK4I,cAAgB,IAAI7H,EAAaf,KAAKoB,OAC/C,EACAiL,KAAM,WACFrM,KAAKoB,OAAOyH,QAAU7I,KAAKoB,OAAOyH,SAAW7I,KAAK4I,cAAcpE,cAChExE,KAAKoB,OAAOyH,QAAQf,QAAQwE,OAChC,IAGAC,EAAoBN,EAAQrL,OAAO,CACnCyL,KAAM,WACF,IAEIG,EAAS5I,EAFT6I,EAAazM,KAAKmB,QAAQuL,MAC1BtL,EAASpB,KAAKoB,OAGlB,GAAIuL,MAAMF,GAIN,OAHAD,EAAUpL,EAAOwL,SACjBhJ,EAAQxC,EAAO6B,SAASW,OAASxC,EAAO6B,SAAS4J,SAEzCJ,GACJ,IAAK,QAASA,EAAa,EACvB,MACJ,IAAK,OAAQA,EAAaD,EAAU,EAAIA,EAAU,EAAI,EAClD,MACJ,IAAK,OAAQC,EAAaD,EAAU5I,EAAQ4I,EAAU,EAAI5I,EACtD,MACJ,IAAK,OAAQ6I,EAAa7I,OAI9B6I,EAAaK,OAAOL,GAGxBrL,EAAO2C,aAAa0I,GAAY,EACpC,IAGAM,EAAkBd,EAAQrL,OAAO,CACjCyL,KAAM,WACF,MAAMhL,EAAOrB,KACb,IAAKqB,EAAKD,OAAO6B,SAIb,YAHA5B,EAAKD,OAAOsB,cAAc,CACtBE,QAASvB,EAAKO,cAAcoL,WAKpC,MAAMzJ,EAAYlC,EAAKD,OAAO6B,SAASgK,MAAQ5L,EAAKD,OAAO6B,SAASgK,KAAKC,OACzE7L,EAAKD,OAAOD,QAAQU,SAASsL,gBAEzB9L,EAAKD,OAAOgM,kBACZ/L,EAAKD,OAAO8C,UAAUZ,aAAaC,GAEnC9C,EAAmC4M,EAC/B,CAAEC,IAAKtN,KAAKoB,OAAO6B,SAAUT,MAAQsD,IAAQzE,EAAKD,OAAOsB,cAAc,CAAEE,QAASkD,EAAElD,SAAU,GAC9FW,EACA,CAAC,GACD,CAACgK,EAAMhK,EAAUiK,KAAgB,GAG7C,IAGAC,EAAgBxB,EAAQrL,OAAO,CAC/BM,KAAM,SAASC,GACXA,EAAUT,EAAEE,OAAOO,EAASnB,KAAKmB,SACjC8K,EAAQE,GAAGjL,KAAKkL,KAAKpM,KAAMmB,EAC/B,EACAkL,KAAM,WACF,IAAIqB,EAAU1N,KAAKoB,OAAOuM,aAAe3N,KAAK4N,cAE9CF,EAAOG,aAAa,CAChBC,WAAa9N,KAAKoB,OAAO6B,UAAYjD,KAAKoB,OAAO6B,SAASW,OAAU,EACpEZ,KAAMhD,KAAKoB,OAAOD,QAAQ6B,OAG9B0K,EAAOK,MACX,EACA3C,MAAO,SAAS4C,GACZ,IAAIzH,EAAYyH,EAAUzH,UAER,SAAdA,EACAvG,KAAKoB,OAAO6M,YAAYD,GACH,SAAdzH,GACPvG,KAAKoB,OAAO8M,UAAUF,EAE9B,EACAJ,YAAa,WAMT,OALA5N,KAAKoB,OAAOuM,YAAc,IAAIvO,EAAM4E,UAAUmK,QAAQC,eAAe,CACjEhD,MAAOpL,KAAKoL,MAAMtG,KAAK9E,MACvB8N,WAAa9N,KAAKoB,OAAO6B,UAAYjD,KAAKoB,OAAO6B,SAASW,OAAU,EACpE/B,SAAU7B,KAAKoB,OAAOD,QAAQU,WAE3B7B,KAAKoB,OAAOuM,WACvB,IAGAU,EAAyBpC,EAAQrL,OAAO,CACxCyL,KAAM,WACSrM,KACOoB,OAEPkN,kBAAiB,EAChC,IAGAC,EAAmBtC,EAAQrL,OAAO,CAClCyL,KAAM,WACSrM,KACOoB,OAEPkN,kBAAiB,EAChC,IAGJ,MAAME,EAAoBvC,EAAQrL,OAAO,CACrCM,KAAM,SAASC,GACX,MAAME,EAAOrB,KAEbqB,EAAKD,OAASD,EAAQC,OAEjBC,EAAKD,OAAOqN,eACbpN,EAAKD,OAAOqN,aAAe,IAAIrP,EAAM4E,UAAUmK,QAAQO,aAAa,CAChE7I,cAAexE,EAAKD,OAAOuN,qBAC3BC,SAAU,CACNC,IAAKxN,EAAKD,OAAOyE,cAAciJ,SAASD,IACxCE,KAAM1N,EAAKD,OAAOyE,cAAciJ,SAASC,MAE7ClN,SAAUR,EAAKD,OAAOD,QAAQU,SAASsM,QAAQa,OAC/CjB,KAAM1M,EAAK4N,MAAMnK,KAAKzD,GACtB6N,KAAM7N,EAAK8N,MAAMrK,KAAKzD,GACtB+N,KAAM/N,EAAKgO,MAAMvK,KAAKzD,GACtBsK,MAAOtK,EAAKiO,OAAOxK,KAAKzD,MAIhC4K,EAAQE,GAAGjL,KAAKkL,KAAK/K,EAAMF,EAC/B,EACAkL,KAAM,WACWrM,KAERoB,OAAOqN,aAAaV,MAC7B,EACAkB,MAAO,WACH,MAAM5N,EAAOrB,KAERqB,EAAKkO,eACNC,QAAQC,IAAIpO,EAAKD,OAAOsO,iBAAiBnG,MAAK,KAE1ClI,EAAKkO,cAAgB,IAAI9O,EAAmCkP,EAAE,CAC1DC,eAAgBvO,EAAKD,OAAOyE,cAAciD,KAAK,iBAAiB+G,OAAS,KAG7ExO,EAAKyO,cAAgBzO,EAAK0O,QAAQjL,KAAKzD,GACvCA,EAAKD,OAAOqN,aAAauB,YAAYlL,KAAK,SAAUzD,EAAKyO,cAAc,GAGnF,EACAR,OAAQ,WACJ,MAAMjO,EAAOrB,KACbqB,EAAKkO,cAAc/G,UACnBnH,EAAKkO,cAAgB,KACrBlO,EAAKD,OAAO6O,QAAQnI,QAAQgB,KAAK,gBAAgBzC,QAAQ,SACzDhF,EAAKD,OAAOqN,aAAauB,YAAYE,OAAO,SAAU7O,EAAKyO,eAC3DzO,EAAK8O,QAAU,GACf9O,EAAK+O,WAAa,KAClB/O,EAAKgP,oBACT,EACAN,QAAS,SAASO,GACd,MAAMjP,EAAOrB,KACTuQ,EAAOlP,EAAKD,OAAOqN,aAAauB,YAAwB,WACxDQ,EAAYnP,EAAKD,OAAOqN,aAAauB,YAAuB,UAE/C,eAAbM,EAAGG,OAAuC,cAAbH,EAAGG,QAChCpP,EAAK8O,QAAU9O,EAAKkO,cAAcP,OAAO,CAAEuB,KAAMA,EAAMC,UAAWA,IAClEnP,EAAK+O,WAAa/O,EAAK8O,QAAQ9M,OAAS,EAAI,EAC5ChC,EAAKgP,qBAEb,EACAlB,MAAO,WACH,MAAM9N,EAAOrB,KACT0Q,EAAcrP,EAAKD,OAAOsP,YAE9BjQ,EAAmCkQ,EAAE,CAAE3B,OAAQ3N,EAAKkO,cAAeqB,SAAUF,IAC7ErP,EAAK+O,WAAa/O,EAAK+O,WAAa,EAAI/O,EAAK8O,QAAQ9M,OAAS,EAAIhC,EAAK+O,WAAa,EACpF/O,EAAKgP,oBACT,EACAhB,MAAO,WACH,MAAMhO,EAAOrB,KACT0Q,EAAcrP,EAAKD,OAAOsP,YAE9BjQ,EAAmCoQ,EAAE,CAAE7B,OAAQ3N,EAAKkO,cAAeqB,SAAUF,IAC7ErP,EAAK+O,WAAa/O,EAAK+O,WAAa,EAAI,EAAI/O,EAAK8O,QAAQ9M,OAAShC,EAAK+O,WAAa,EACpF/O,EAAKgP,oBACT,EACAA,mBAAoB,WAChB,MAAMhP,EAAOrB,KACT8Q,EAAQzP,EAAKD,OAAOqN,aAAauB,YAEjC3O,EAAK8O,SAAW9O,EAAK8O,QAAQ9M,QAC7ByN,EAAMC,IAAI,UAAW1P,EAAK8O,QAAQ9M,QAClCyN,EAAMC,IAAI,aAAc1P,EAAK+O,cAE7BU,EAAMC,IAAI,aAAc,IACxBD,EAAMC,IAAI,UAAW,GACrBD,EAAMC,IAAI,aAAc,GAEhC,EACAC,aAAc,WACGhR,KACRoB,OAAOqN,aAAa9C,OAC7B,IAGJ,IAAIsF,EAAchF,EAAQrL,OAAO,CAC7ByL,KAAM,WACF,MAAMhL,EAAOrB,KACTmB,EAAUE,EAAKF,QACfC,EAASC,EAAKD,OAClB,IAAI8P,EAAQ/P,EAAQuL,OAASvL,EAAQ+P,MAER,QAAzB9P,EAAO+P,gBAIXD,EAAQ7P,EAAK+P,iBAERF,IAIL9P,EAAOiQ,UAAYH,EAEnB9P,EAAOkQ,6BAA6BJ,GAEhC7P,EAAKD,OAAO6B,UACZxC,EAAmC8Q,EAAE,CACjCC,OAAQpQ,EAAO6B,SACfwO,KAAMP,EACNQ,IAAKtQ,EAAOyE,cAAc,GAC1B8L,YAAavQ,EAAO0G,QAAQ,GAC5B8J,cAAc,EACdC,KAAOC,IACH,MAAMC,EAAmBtR,EAAmCuR,EAAE5Q,EAAO0G,QAAQ,IAC7E1G,EAAO6Q,mBAAmBH,EAASC,IAAmB,GACtD1Q,EAAK6Q,gBAAgBhB,EAAM,EAE/B1O,MAAQsD,IACJzE,EAAK6Q,gBAAgBhB,EAAM,KAI3C,EAEAE,eAAgB,WACZ,IAMIe,EANAhR,EAAUnB,KAAKmB,QACfC,EAASpB,KAAKoB,OACdgR,EAAgBhR,EAAOD,QACvB0E,EAAgBzE,EAAOyE,cACvBqL,EAAQ/P,EAAQuL,OAASvL,EAAQ+P,MACjCmB,EAAanB,EA0BjB,GAvBA9P,EAAOkR,cAAe,EACtBlR,EAAOmR,UAAW,EAEdpR,EAAQqR,OACRH,EAAanB,EAAQ9P,EAAOiQ,UAAYe,EAAcK,SAC/CtR,EAAQuR,QACfL,EAAanB,EAAQ9P,EAAOiQ,UAAYe,EAAcK,SACrC,SAAVvB,GACP9P,EAAOkR,cAAe,EACtBD,EAAajR,EAAOuR,gBACI,iBAAVzB,GAAuB9R,EAAMwT,WAAW1B,GAE/CA,GAASA,EAAM2B,WAAWC,MAAM,cAEvCT,EADAnB,EAAQ6B,SAAS7B,EAAM8B,QAAQ,IAAK,IAAK,IAAM,IAG/Cb,EAAcxF,MAAMuE,GALpBmB,EAAa5R,EAAmCwS,EAAE,EAAG/B,EAAO9P,EAAOiQ,UAAWxL,EAAc,IAQ3FsM,IACDA,EAAcjB,EAAQkB,EAAcc,SAAWhC,EAAQkB,EAAce,UAGrEhB,IAAe/Q,EAAOiF,QA3SlB,YA2SqC,CAAE6K,MAAOA,IAStD,OALI/P,EAAQiS,gBAAkBhS,EAAO6O,SAEjC7O,EAAOiS,oBAAoBnC,GAGxBmB,CACX,EAEAH,gBAAiB,SAAShB,GACXlR,KACOoB,OAEXiF,QA1TD,UA0TkB,CAAE6K,MAAOA,GACrC,IAGAoC,EAAerH,EAAQrL,OAAO,CAC9BM,KAAM,SAASC,GACX8K,EAAQE,GAAGjL,KAAKkL,KAAKpM,KAAMmB,EAC/B,EACAkL,KAAM,WACF,MAAMhL,EAAOrB,KAEPqB,EAAKD,OAAO6B,UAOlBnC,EAASO,EAAKD,OAAOyE,eAAe,GACpC2J,QAAQC,IAAIpO,EAAKD,OAAOsO,iBAAiBnG,MAAK,KAE1C9I,EAAmC8S,EAAElS,EAAKD,OAAO8B,MAAO7B,EAAKmS,gBAAgB1O,KAAKzD,GAAOA,EAAKoS,aAAa3O,KAAKzD,GAAM,KATtHA,EAAKD,OAAOsB,cAAc,CACtBE,QAAS5C,KAAK4B,cAAcoL,UAUxC,EACAwG,gBAAiB,WAEb1S,EADad,KACCoB,OAAOyE,eAAe,EACxC,EACA4N,aAAc,WACV,MAAMpS,EAAOrB,KACbc,EAASO,EAAKD,OAAOyE,eAAe,GAEpCxE,EAAKD,OAAOsB,cAAc,CACtBE,QAASvB,EAAKO,cAAc8R,cAEpC,IAGJ9S,EAAOxB,EAAM4E,UAAW,CACpBkI,YAAaA,EACbK,kBAAmBA,EACnBQ,gBAAiBA,EACjBsB,uBAAwBA,EACxBE,iBAAkBA,EAClBd,cAAeA,EACf6F,aAAcA,EACd9E,kBAAmBA,EACnByC,YAAaA,GAGpB,CArXD,CAqXGjQ,OAAO5B,MAAM+E,QAEhB,SAAUzD,GACN,IAAItB,EAAQ4B,OAAO5B,MACfuU,EAASvU,EAAMwU,WACfhT,EAASF,EAAEE,OACXD,EAAQvB,EAAMuB,MACdkT,EAAYzU,EAAMmF,GAAGsP,UACrBC,EAAa1U,EAAM2U,YACnBC,EACS,OADTA,EAES,OAETC,EAAO7U,EAAM6U,KAEbC,EAAcvT,EAAMC,OAAO,CAC3BM,KAAM,SAASC,GACXnB,KAAKmB,QAAUP,EAAOO,EAAS,CAC3BgT,QAAS,CAAC,CACN5D,KAAMpP,EAAQU,SAASsM,QAAQiG,WAGvCpU,KAAKqU,QAAU3T,EAAE,WACR4T,YAAYtU,KAAKmB,SACjBoT,gBACb,EACAxG,KAAM,WACF/N,KAAKqU,QAAQG,SAASzG,MAC1B,IAGAK,EAAiBzN,EAAMC,OAAO,CAC9BM,KAAM,SAASC,GAeX,OAdAnB,KAAKmB,QAAUP,EAAOO,EAASnB,KAAKmB,QAAS,CACzCsT,YAAa,CAAC,CACVC,YAAavT,EAAQU,SAASsM,QAAQwG,eAAeC,IACrDrO,UAAWyN,GACZ,CACCU,YAAavT,EAAQU,SAASsM,QAAQwG,eAAeE,IACrDtO,UAAWyN,IAEf9G,MAAO/L,EAAQU,SAASsM,QAAQwG,eAAezH,MAC/Ca,KAAM,WACF/N,KAAKwU,QACT,IAEJxU,KAAK8U,oBACE9U,IACX,EACAmB,QAAS,CACLoF,UAAWyN,EACXe,WAAW,EACXC,WAAW,EACXC,MAAO,CACHC,eAAe,GAEnBjN,MAAO,MACPkN,SAAU,IACVC,SAAU,EAAGvT,WAAU+B,WACnB,oCAAoC+P,EAAO9R,EAAS8S,eAAeU,OAAO9R,qOAKlCoQ,EAAO9R,EAAS8S,eAAeU,OAAOC,iRAQ1C3B,EAAO9R,EAAS8S,eAAeU,OAAOrS,2HAEO2Q,EAAO/P,2MAG4D+P,EAAO9R,EAAS0T,kKACnB5B,EAAO9R,EAAS2T,iCAGzK3H,aAAc,SAAS1M,GACfA,EAAQ2M,YACR9N,KAAKgO,UAAU+C,IAAI,aAAc5P,EAAQ2M,YAEzC3M,EAAQ6B,MACRhD,KAAKgO,UAAU+C,IAAI,OAAQ5P,EAAQ6B,KAE3C,EACA8R,kBAAmB,WACf,IAAIzT,EAAOrB,KACPmB,EAAUE,EAAKF,QACfsU,EAAiBtU,EAAQU,SAASsM,QAClCT,EAAShN,EAAE,yEACNwJ,OAAO9K,EAAMgW,SAASjU,EAAQiU,SAAvBhW,CAAiC,CACrCwE,MAAOzC,EAAQ2M,WACfjM,SAAU4T,KAEbC,YAAYvU,GACZwU,iBAkBT,OAhBAtU,EAAK2M,UAAY5O,EAAMwW,WAAW,CAC9B1I,MAAOuI,EAAed,eAAezH,MACrC2I,KAAMJ,EAAed,eAAexH,gBACpC5G,UAAWpF,EAAQoF,UACnBkO,YAAatT,EAAQsT,YACrB3G,WAAY3M,EAAQ2M,WACpB9K,KAAM,EACNoI,MAAO/J,EAAK+J,MAAMtG,KAAK9E,MACvB2L,MAAO,WACH+B,EAAO/B,OACX,IAGJtK,EAAKgT,QAAU3G,EAEftO,EAAM0F,KAAK4I,EAAO5F,QAASzG,EAAK2M,WACzBN,CACX,EACAK,KAAM,WACF/N,KAAKqU,QAAQG,SAASzG,MAC1B,EACA3C,MAAO,WACHpL,KAAKqU,QAAQ1I,QACb3L,KAAKmB,QAAQiK,MAAM,CACf7H,SAAUvD,KAAKgO,UAAU6H,KAAO7V,KAAKgO,UAAUzH,UAC/CA,UAAWvG,KAAKgO,UAAUzH,UAC1BvD,KAAMhD,KAAKgO,UAAUhL,MAE7B,IAGA0L,EAAe/N,EAAMC,OAAO,CAC5BM,KAAM,SAASC,GACAnB,KACNmB,QAAUP,EAAO,CAAC,EAAGO,EADfnB,KAC6BmB,QAC5C,EACAA,QAAS,CACL6T,WAAW,EACXI,SAAU,EAAGvT,cACC,6EAAuB8R,EAAO9R,EAASiU,oIAAoI1W,EAAMmF,GAAGwR,KAAK,CAAEA,KAAM,cAAeC,UAAW,4OAE3ErC,EAAQ9R,EAASoU,uBAAuBtC,EAAO9R,EAASoU,oQACiDtC,EAAO9R,EAAS2O,sBAAsBmD,EAAO9R,EAAS2O,eAAepR,EAAMmF,GAAGwR,KAAK,CAAEA,KAAM,oBAAqBC,UAAW,qHAEvSrC,EAAO9R,EAASqU,0LAC2CvC,EAAO9R,EAASsU,qBAAqBxC,EAAO9R,EAASsU,cAAc/W,EAAMmF,GAAGwR,KAAK,CAAEA,KAAM,WAAYC,UAAW,kKAChHrC,EAAO9R,EAASqN,iBAAiByE,EAAO9R,EAASqN,UAAU9P,EAAMmF,GAAGwR,KAAK,CAAEA,KAAM,aAAcC,UAAW,mKACzGrC,EAAO9R,EAAS8J,kBAAkBgI,EAAO9R,EAAS8J,WAAWvM,EAAMmF,GAAGwR,KAAK,CAAEA,KAAM,IAAKC,UAAW,oCAG9PjI,KAAM,WACF,IAAI1M,EAAOrB,KAENqB,EAAKqM,QACNrM,EAAKyT,oBAGTzT,EAAKF,QAAQ4M,OACb1M,EAAK+U,mBACT,EACAzK,MAAO,WACQ3L,KACNmB,QAAQwK,QADF3L,KAENqW,mBACT,EACAD,kBAAmB,WACf,IAAI/U,EAAOrB,KAEXqB,EAAKqM,OAAO4I,IAAI,OAAWjV,EAAKF,QAAQ0E,cAAc0Q,aAAe,EAAMzC,EAAWzS,EAAKqM,QAAQ,GAAQ,EAApF,MAEvBrM,EAAKqM,OAAO8I,YAAYC,aAAa,CACjCC,QAAS,CAAEjF,KAAM,CAAEkF,UAAW,MAAQC,KAAM,CAAED,UAAW,OACzDE,SAAU,IACV5R,SAAU,SAASqL,GACfjP,EAAKqM,OAAO5E,KAAK,0BAA0BzC,QAAQ,QACvD,GAER,EACAgQ,kBAAmB,WACJrW,KAEN0N,OAAO8I,YAAYC,aAAa,CACjCC,QAAS,CAAEjF,KAAM,CAAEkF,UAAW,MAAOG,WAAY,CAAE5F,MAAO,KAAS0F,KAAM,CAAED,UAAW,QACtFE,SAAU,IACVE,MAAM,GAEd,EACAjC,kBAAmB,WACf,IAAIzT,EAAOrB,KACPoV,EAAWhW,EAAMgW,SAAS/T,EAAKF,QAAQiU,UACvC4B,EAAYtW,EAAE0U,EAAS,CACvBvT,SAAUR,EAAKF,QAAQU,YAG3BR,EAAKF,QAAQ0E,cAAcoR,QAAQD,GACnC3V,EAAKqM,OAASsJ,EAEd3V,EAAK6V,WAAa,IAAIrD,EAAUmD,EAAW,CACvCG,OAAQ,8BACRC,KAAM,IACNC,UAAW,SAASvR,GAChB,IAAIwR,EAAMjW,EAAKqM,OACX6J,EAAclW,EAAKF,QAAQ0E,cAM/B,GAJAyR,EAAIE,cAAgB,CAChBzI,KAAMjJ,EAAE2R,EAAEC,OAAStY,EAAMuY,UAAUL,EAAK,YAAYvI,OAGnDwI,EACD,OAAO,KAGXA,EAAYK,YAAcL,EAAYhB,aAElCxD,SAASwE,EAAYK,YAAa,IAAML,EAAY,GAAGM,cACvDN,EAAYK,aAAexY,EAAM0Y,QAAQC,aAG7CT,EAAIU,QAAUT,EAAYK,YAAc9D,EAAWwD,GAAK,EAC5D,EACAW,KAAM,SAASnS,GACX,IAEIiJ,EAFAuI,EAAMjW,EAAKqM,OACXkB,EAAW,CAAC,GAGhBG,EAAOjJ,EAAE2R,EAAEC,OAASJ,EAAIE,cAAczI,OAE1BpC,MAAMoC,IAASA,EAAK8D,WAAWqF,QAAQ,MAAQ,EACvDtJ,EAASG,KAAOA,EAEhBH,EAASG,KAAO1G,KAAK8P,IACjB9P,KAAKC,IAAIyK,SAAShE,EAAM,IAAKgE,SAASuE,EAAIU,QAAS,KACnD,GAIRV,EAAIhB,IAAI1H,EACZ,IAGJvN,EAAK6V,WAAWkB,WAAWC,iBAAkB,EAE7ChX,EAAK2O,YAAc5Q,EAAMwW,WAAW,CAChC0C,WAAY,GACZC,WAAY,GACZ/H,WAAW,EACXJ,WAAY,EACZD,QAAS,EACTqI,eAAgB,WACZxY,KAAK+Q,IAAI,aAAc/Q,KAAKwQ,UAChC,EACAtB,KAAM7N,EAAKF,QAAQ+N,KACnBE,KAAM/N,EAAKF,QAAQiO,KACnBzD,MAAO,WACH3L,KAAK+Q,IAAI,aAAc,IACvB1P,EAAKsK,OACT,EACA8M,QAAS,SAASnI,GACd,IAAIoI,EAAMpI,EAAGqI,QACTC,EAAetI,EAAGuI,SAAW7Y,KAAKoP,KAAOpP,KAAKkP,KAE9CwJ,IAAQzE,EAAK6E,OACbF,IACAtI,EAAGyI,kBACIL,GAAOzE,EAAK+E,KACnBhZ,KAAK2L,OAEb,EACAsN,QAAS,SAAS3I,GACdtQ,KAAK+Q,IAAI,aAAcT,EAAG1J,OAAO8F,MACrC,IAGJtN,EAAM0F,KAAKkS,EAAW3V,EAAK2O,YAC/B,IAGJpP,EAAOxB,EAAM4E,UAAW,CACpBmK,QAAS,CACL+F,YAAaA,EACb9F,eAAgBA,EAChBM,aAAcA,IAGzB,CA3RD,CA2RG1N,OAAO5B,MAAM+E,SAUhB,SAAUzD,GACN,IAMIkH,EANAsR,EAAK,kBACL9Z,EAAQ4B,OAAO5B,MACfmF,EAAKnF,EAAMmF,GACX3D,EAASF,EAAEE,OACXuG,EAAU/H,EAAM+H,QAChB8M,EAAOvT,EAAEE,OAAO,CAAEuY,KAAM,IAAKC,MAAO,IAAKC,KAAM,GAAIC,YAAa,IAAMla,EAAM6U,MAE5EvL,EAAYtJ,EAAM4E,UAAU0E,UAC5B6Q,EAAShV,EAAGgV,OACZzY,EAAW1B,EAAMmF,GAAGzD,SACpB0Y,EAAS,SACTC,EAAS,SAETC,EAAQ,QACRC,EAAU,UAAYT,EACtBU,EAAa,iBAAmBV,EAAK,cAAgBA,EACrDW,EAAS,SACTC,EAAc,aAGdC,EAAc,cAIdC,EAAS,SAETC,EAAW,aACXC,EACW,QADXA,EAES,MAETC,EACY,eADZA,EAEc,8DAFdA,EAGyB,uBAHzBA,EAImB,mBAKnBC,EACU,OADVA,EAEY,cAFZA,EAGgB,aAHhBA,EAIe,YAGfC,EAAYd,EAAO3Y,OAAO,CAC1BM,KAAM,SAAS4G,EAAS3G,GACpB,IAAIE,EAAOrB,KAEXuZ,EAAOpN,GAAGjL,KAAKkL,KAAK/K,EAAMyG,EAAS1I,EAAMkb,WAAW,CAAC,EAAGta,KAAKmB,QAASA,IAEtEE,EAAKkZ,mBAELlZ,EAAKmZ,WAEDnZ,EAAKF,QAAQ8O,SACb5O,EAAKoZ,iBAGTpZ,EAAKqZ,eAAevZ,GAAW,CAAC,GAChCE,EAAKsZ,uBAEDtZ,EAAK+L,kBACL/L,EAAKuZ,mBAELvZ,EAAKwZ,qBAGTzb,EAAM0b,OAAOzZ,EAAMjC,EAAMmF,IAErBlD,EAAK0Z,uBACL1Z,EAAK0Z,sBAAsB1Z,EAAK2Z,QAAQ,GAEhD,EAEAC,OAAQ,CACJxB,EAlEG,OAoEHC,EA9DQ,YACF,WAkEVvY,QAAS,CACL0U,KAAM,YACNnM,KAAM,CACF3H,KAAM,UAEVmZ,gBAAiB,CACb5U,KAAM,KACNsL,cAAc,GAElBuJ,cAAe,CACX7Z,KAAM,CACFU,IAAK,KACLD,KAAM,MACNE,SAAU,OACVkB,UAAW,cAEf5B,OAAQ,CACJS,IAAK,KACL0D,UAAW,QAEflE,SAAU,CACNQ,IAAK,MAET4P,cAAc,GAElB3B,QAAS,CACLmL,MAAO,IAEXnT,MAAO,IACPC,OAAQ,KACRlF,KAAM,EACNqY,gBAAiB,CACbpT,MAAO,IACPC,OAAQ,MAEZgJ,MAAO,KACPgC,QAAS,GACTC,QAAS,EACTV,SAAU,IACV5Q,SAAU,CACNsL,gBAAiB,WACjB8C,QAAS,CACLwB,KAAM,CACF6J,UAAW,aACX5I,QAAS,WACTF,OAAQ,UACR+I,YAAa,eACbC,UAAW,kBACXC,WAAY,eACZC,UAAW,eAEf3N,KAAM,OACN4N,SAAU,SACVna,SAAU,WACVoa,MAAO,QACPC,gBAAiB,mBACjBC,UAAW,iBACX9M,OAAQ,UAEZpN,cAAe,CACXsE,aAAc,0BACdrD,WAAY,6BACZmK,SAAU,qBACV0G,aAAc,qBAElBvF,QAAS,CACLwG,eAAgB,CACZzH,MAAO,YACPC,gBAAiB,WACjBG,IAAK,kCACLsH,IAAK,mCACLC,IAAK,kCACLQ,OAAQ,CACJ9R,SAAU,YACV+R,WAAY,UACZtS,KAAM,SAGdoR,OAAQ,KACRmB,KAAM,OACNC,OAAQ,SACRxG,OAAQ,CACJiH,WAAY,cACZzF,UAAW,aACXtB,KAAM,aACNiH,SAAU,iBACVxK,MAAO,QACPuK,GAAI,KACJJ,WAAY,kBAM5BiG,aAAc,CACVC,MAAO,CACHja,KAAM,YACN8T,KAAM,QACNoG,SAAU,QACVC,UAAW,QACXpU,QAAS,cACTqU,iBAAkB,CACdC,aAAa,EACbC,gBAAgB,IAGxBC,OAAQ,CAAEva,KAAM,UAChBwa,UAAW,CACPxa,KAAM,cACNya,SAAU,OACVC,QAAS,CACL,CAAE1a,KAAM,SAAUgU,KAAM,WAAYF,KAAM,UAAW6G,QAAS,cAAeC,SAAU,WAAYxb,QAAS,8CAAmDqb,SAAU,QACzK,CAAEza,KAAM,SAAUgU,KAAM,UAAWF,KAAM,SAAU6G,QAAS,cAAeC,SAAU,WAAYxb,QAAS,6CAAkDqb,SAAU,UAG9K/K,KAAM,CACF1P,KAAM,YACN8T,KAAM,OACN6G,QAAS,cACTT,SAAU,QACVC,UAAW,WACX/Z,KAAM,CAAC,GAAI,IAAK,IAAK,IAAK,IAAK,KAC/Bga,iBAAkB,CACdS,QAAQ,EACRC,cAAe,OACfC,eAAgB,UAChBC,gBAAgB,EAChBC,eAAe,EACfC,UAAW,SACXT,SAAU,SAGlBX,gBAAiB,CACb9Z,KAAM,cACNya,SAAU,OACVC,QAAS,CACL,CACIS,WAAW,EACXR,QAAS,yBACT3G,KAAM,UACN4G,SAAU,WACV9G,KAAM,kBACN3M,MAAO,aACPsT,SAAU,QACX,CACCU,WAAW,EACXR,QAAS,mBACT3G,KAAM,OACN4G,SAAU,WACV9G,KAAM,YACN3M,MAAO,aACPiU,UAAU,EACVX,SAAU,UAItBY,QAAS,CAAErb,KAAM,UACjBiN,OAAQ,CACJjN,KAAM,SACN2a,QAAS,oBACT3G,KAAM,SACNF,KAAM,SACN8G,SAAU,WACVC,QAAQ,EACRJ,SAAU,QAEdzO,KAAM,CACFhM,KAAM,SACN4a,SAAU,WACV9G,KAAM,OACNE,KAAM,cACN2G,QAAS,cACTF,SAAU,QAEdhb,SAAU,CACNO,KAAM,SACN4a,SAAU,WACV9G,KAAM,WACNE,KAAM,WACN2G,QAAS,kBACTE,QAAQ,EACRJ,SAAU,QAEdZ,MAAO,CACH7Z,KAAM,SACN4a,SAAU,WACV9G,KAAM,QACNE,KAAM,QACN2G,QAAS,eACTE,QAAQ,EACRJ,SAAU,SAIlBa,aAAc,CACV1B,SAAU,CAAE5Z,KAAM,SAAU4a,SAAU,WAAY9G,KAAM,WAAYE,KAAM,eAAgB2G,QAAS,gBAAiBF,SAAU,SAIlIjC,iBAAkB,WACd,IACI9I,EADWzR,KAAKmB,QAAQU,SAASoO,QACjBwB,KAEhB/Q,EAAEsF,cAAcyL,KAChBzR,KAAKmB,QAAQU,SAASoO,QAAUvP,EAAEE,OAAO,CAAC,EAAGZ,KAAKmB,QAAQU,SAASoO,QAASwB,GAC5EzR,KAAKmB,QAAQU,SAASoO,QAAQwB,KAAOA,EAAK6J,WAAatb,KAAKmB,QAAQU,SAASoO,QAAQwB,KAE7F,EAEA+I,SAAU,WACN,IAAInZ,EAAOrB,KACPmB,EAAUE,EAAKF,QAEnBE,EAAK2Z,QAAU3Z,EAAKyG,QAEpBzG,EAAK2Z,QACI/S,MAAM9G,EAAQ8G,OACdC,OAAO/G,EAAQ+G,QACfoV,SAASnD,GACToD,GAAG5D,EAAStY,EAAKmc,SAAS1Y,KAAKzD,IAExCA,EAAKiR,aAAsC,OAAvBjR,EAAKF,QAAQ+P,MACjC7P,EAAKsR,eAAiBlS,EAAmCgd,EACzDpc,EAAKgQ,UAAYhQ,EAAKF,QAAQ+P,OAAS7P,EAAKsR,eAE5CtR,EAAKqc,eAAiBte,EAAMue,UAAS,WACjCtc,EAAKyC,QACT,IAEAzC,EAAKuL,SAAWvL,EAAKF,QAAQ6B,IACjC,EAEAwa,SAAU,SAAS1X,GACf,IAAI8X,EAAgB,CAAC3J,EAAKkF,KAAMlF,EAAK4J,aACjCC,EAAiB,CAAC7J,EAAKmF,MAAOnF,EAAK8J,cACnCC,EAAgB,CAAC/J,EAAKoF,KAAMpF,EAAKqF,aACjC2E,GAAgB,EAChBC,EAAO,CACHxB,QAAS3C,EACT5Y,QAAS,CAAEiS,gBAAgB,IAG9BtN,EAAEqY,UAAWne,KAAKoe,YAAcpe,KAAKmR,gBAAkB+I,IAIxD0D,EAAcS,SAASvY,EAAE6S,UACzBuF,EAAK/c,QAAQqR,QAAS,EACtByL,GAAgB,GACTH,EAAeO,SAASvY,EAAE6S,UACjCuF,EAAK/c,QAAQuR,SAAU,EACvBuL,GAAgB,GACTD,EAAcK,SAASvY,EAAE6S,WAChCuF,EAAK/c,QAAQuL,MAAQjM,EAAmCgd,EACxDQ,GAAgB,GAGhBA,IACAje,KAAKse,QAAQJ,GACbpY,EAAEiT,kBAEV,EAEAwF,uBAAwB,SAASC,GAC7B,MAAMnd,EAAOrB,KAERqB,EAAKod,wBACNze,KAAK+D,aAAaya,EAAME,OAAO,GAC/Brd,EAAKsd,gCAGFtd,EAAKod,qBAChB,EAEAE,sBAAuB,WACnB,MACMC,EADO5e,KACcgc,MAAMlU,QAAQgB,KAAK,kBAAkB+V,WAChE,GAAID,EAAe,CACf,MAAMvJ,EAASuJ,EAAcE,GAAG,GAAGC,IAAIH,EAAcE,GAAG,IAEnDpe,EAAE2U,GAAQ2J,GAAG,aACd3J,EAAO4J,MAEf,CACJ,EAEAC,aAAc,WACV,MAAM7d,EAAOrB,KAEb,IAAKqB,EAAK2a,QAAU3a,EAAK2a,MAAM7a,QAAQge,WACnC,OAGJ,MAAMC,EAAahgB,EAAM2U,YAAY1S,EAAK2a,MAAMlU,SAC1CuX,EAAsBC,MAAMC,KAAKle,EAAK4O,QAAQnI,QAAQ+W,SAAS,wCAC/DW,EAAiBpgB,EAAM2U,YAAY1S,EAAKyG,SAE9C,IAAI2X,EAAoB,EAExB,MACMC,EAAM5S,OAAOzL,EAAK4O,QAAQnI,QAAQwO,IAAI,OAAOtD,QADnC,sDACmD,KAEnE,GAAIqM,EAAoBhc,OAAS,EAAG,CAChC,IAAIsc,EAAO,EACX,IAAK,IAAI/V,EAAI,EAAGA,EAAIyV,EAAoBhc,OAAQuG,IAC5C+V,GAAQvgB,EAAM2U,YAAYsL,EAAoBzV,IAAM8V,EAEpDC,IACAF,EAAoBE,EAE5B,CAEA,MAAMC,EAAmBve,EAAK2a,MAAMlU,QAAQgB,KAAK,gBAEjD,GAAKsW,EAAaK,EAAoBC,EAAOF,EAEzC,IAAK,IAAI5V,EAAIgW,EAAiBvc,OAAS,EAAGuG,GAAK,EAAGA,IAAK,CACnCgW,EAAiBd,GAAGlV,GACxB0T,SAAS,WACzB,CAGJ,GAAK8B,EAAaK,EAAoBC,EAAOF,EAAgB,CACzD,MAAMK,EAASxe,EAAK2a,MAAMlU,QAAQgB,KAAK,aAEvC,IAASc,EAAI,EAAGA,EAAIiW,EAAOxc,OAAQuG,IAAK,CACdiW,EAAOf,GAAGlV,GAElBkW,YAAY,WAC9B,CACJ,CAEIze,EAAK2a,MAAM7a,QAAQ4e,OACnB1e,EAAKsd,uBAEb,EAEAjE,eAAgB,SAASvZ,GACrB,IACI6e,EADA3e,EAAOrB,KAGXggB,EAAoB7e,EAAQga,cAAgB9Z,EAAKF,QAAQga,cAAgB9Z,EAAKF,QAAQ+Z,gBACtF7Z,EAAK8P,cAAgBhQ,EAAQga,cAAgBjB,EAAiBA,EAE1D7Y,EAAK+L,mBACL/L,EAAK6C,UAAY,IAAI9E,EAAM4E,UAAU3C,EAAK8P,eAAejN,UAAU8b,EAAmB3e,GACtFuG,EAAOxI,EAAM4E,UAAU3C,EAAK8P,eAAevJ,MAt8ClD5G,OAAOsD,SAKPtD,OAAOsD,UAAU2b,qBAAqBC,WAAclf,OAAOmf,aAC5DC,SAAS5d,MAAM,8dALf4d,SAAS5d,MAAM,wKAy8Cf,EAEA4K,gBAAiB,WACb,OAAOpN,KAAKmR,gBAAkB+I,CAClC,EAEAmG,cAAe,SAASC,GACpB,IACI5B,EADA6B,GAAW,EAGf,IAAK,IAAI3W,EAAI,EAAGA,EAAI0W,EAAMjd,OAAQuG,IAAK,CACnC,MAAM4W,EAAOF,EAAM1W,GAiBnB,GAhBoB,iBAAT4W,GACPD,EAAkC,UAAvBC,EAAKha,cAChBkY,EAAQ9U,GAEJ4W,EAAKze,MACLwe,EAAuC,UAA5BC,EAAKze,KAAKyE,cACrBkY,EAAQ9U,GACD4W,EAAK3K,OACZ0K,EAAuC,UAA5BC,EAAK3K,KAAKrP,cACjB+Z,UACOC,EAAK3K,KAEhB6I,EAAQ9U,GAIZ2W,EACA,KAER,CAEA,MAAO,CACHA,WACA7B,QAER,EAEAjE,eAAgB,WACZ,IAAIpZ,EAAOrB,KACPmB,EAAUE,EAAKF,QACfsf,EAAiB7f,EAAO,CAAC,EAAGO,EAAQ8O,SACpCqQ,EAAQG,EAAerF,OAASqF,EAAerF,MAAM/X,OAASod,EAAerF,MAAQvP,OAAOoI,KAAK5S,EAAK0a,cAG1G,MAAMwE,SAAEA,EAAQ7B,MAAEA,GAAUrd,EAAKgf,cAAcC,GAK/C,GAFAA,EAAQjf,EAAKqf,cAAcJ,GAEvBC,EAAU,CACV,IAAII,EAAgBtf,EAAKF,QAAQU,SAASoO,QAAQ+L,MAE9C2E,GACIA,EAAczK,KACdyK,EAAczK,GAAK,GAAGyK,EAAczK,SAChCyK,EAAczd,QACdyd,EAAczK,GAAKyK,EAAczK,GAAK,IAAMyK,EAAczd,aACnDyd,EAAczd,QAIjC7B,EAAK0a,aAAaC,MAAMG,iBAAiBta,SAAW8e,EACpDxf,EAAQU,SAASoO,QAAQ+L,MAAQ,QAEjC,MAAM4E,EAAsBvf,EAAK0a,aAAaC,MAAMG,iBACxB,iBAAjBmE,EAAM5B,KACbrd,EAAK0a,aAAaC,MAAMG,iBAAmBzb,EAAEE,OAAO0f,EAAM5B,GAAQkC,GAElEN,EAAM5B,GAASrd,EAAK0a,aAAaC,MAEzC,CAEAyE,EAAiB,CACb1E,aAAcrb,EAAEE,OAAO,CAAC,EAAGS,EAAK0a,aAAc1a,EAAKgc,cACnDwD,eAAgB1f,EAAQU,SAASoO,QACjCqQ,MAAOA,EACPtL,WAAW,EACXwH,SAAU,QAGd,IAAIsE,EAAiBpgB,EAAE,WAsBvB,OApBAogB,EAAeC,SAAS1f,EAAKyG,SAC7BzG,EAAK4O,QAAU,IAAI7Q,EAAMmF,GAAGyc,QAAQF,EAAgBL,GACpDpf,EAAKF,QAAQ8O,QAAU5O,EAAK4O,QAAQ9O,QAEpCE,EAAK4O,QAAQnL,KAlfR,SAkfqBzD,EAAK4f,cAAcnc,KAAKzD,IAClDA,EAAK4O,QAAQnL,KArfT,QAqfqBzD,EAAK4f,cAAcnc,KAAKzD,IACjDA,EAAK4O,QAAQnL,KAAKkV,EAAQ3Y,EAAK4f,cAAcnc,KAAKzD,IAE9Ckf,IACAlf,EAAK2a,MAAQ3a,EAAK4O,QAAQnI,QAAQgB,KAAK,YACnCzH,EAAK2a,MAAM3Y,OAAS,IACpBhC,EAAK2a,MAAQ3a,EAAK2a,MAAM7Z,KAAK,eAEjCd,EAAK2a,MAAMlX,KAAKkV,EAAQ3Y,EAAKkd,uBAAuBzZ,KAAKzD,KAG7DA,EAAKyD,KAAK,CACNoc,OAAQ7f,EAAK8f,eAAerc,KAAKzD,KAG9BA,EAAK4O,OAChB,EAEAyQ,cAAe,SAASJ,GACpB,IAAIjf,EAAOrB,KACP6B,EAAWR,EAAKF,QAAQU,SAASoO,QAoCrC,OAlCAqQ,EAAQA,EAAMc,SAAQC,IAKlB,GAJU,SAANA,IACAA,EAAIhgB,EAAK0a,aAAatK,MAGX,SAAX4P,EAAExL,KAAiB,CACnBwL,EAAI3gB,EAAEE,OAAO,CAAC,EAAGS,EAAK0a,aAAatK,KAAM4P,GAEzC,IAAIC,EAAa,CAAC,CACdC,QAASnH,EACT7J,KAAM1O,EAAS2Z,WAChB,CACC+F,QAASnH,EACT7J,KAAM1O,EAAS0Z,aAChB,CACCgG,QAASnH,EACT7J,KAAM1O,EAAS4Z,YAChB,CACC8F,QAASnH,EACT7J,KAAM1O,EAAS6Z,YAIf8F,EAAeH,EAAElf,KAAKsf,KAAI7X,IAAc,CAAE2X,QAAS3X,EAAG2G,KAAM3G,EAAI,QAChE8C,EAAQrL,EAAKF,QAAQ+P,MAA6B,IAArB7P,EAAKF,QAAQ+P,MAAc,IAAM,OAElEoQ,EAAaA,EAAWI,OAAOF,GAC/BH,EAAElF,iBAAiBwF,WAAaL,EAChCD,EAAElF,iBAAiBzP,MAAQA,CAC/B,CAEA,OAAO2U,CAAC,GAIhB,EAEAF,eAAgB,SAASrb,GACrB,IAAI8b,EAAc,CACV5e,KAAM8C,EAAE9C,MAAQ,EAChBY,MAAOkC,EAAElC,OAAS,GAEtBqM,EAAUjQ,KAAKiQ,QACf4R,EAAY5R,EAAQnI,QACpBga,EAAYD,EAAU/Y,KAAK,kDAAkD3G,KAAK,iBAClF4f,EAAUF,EAAU/Y,KAAK,YAEN,IAAnBiZ,EAAQ1e,QAGe,KAFvB0e,EAAUF,EAAU/Y,KAAK,gBAAgBkZ,SAE7B3e,SACR0e,EAAU9R,EAAQgS,eAAeD,SAIrCF,IACAA,EAAUlF,QAAQ9W,EAAEoc,SACH,SAAbpc,EAAEqc,QACFniB,KAAKqT,oBAAoBvN,EAAE2L,QAIhB,eAAb3L,EAAEqc,SAA6C,IAAlBrc,EAAEsc,aAA0Btc,EAAEoc,UAAYliB,KAAKgc,QAC1ElW,EAAEsc,cACFR,EAAYQ,aAAc,GAG1Btc,EAAEuc,uBACFT,EAAYS,sBAAuB,GAGvCriB,KAAKsiB,aAAaV,IAGtB5hB,KAAKuiB,eAAezc,EAAEoc,SAEtBjS,EAAQuS,eAAeT,EAC3B,EAEAQ,eAAgB,SAASL,GACrB,IAAIjS,EAAUjQ,KAAKiQ,QACf4R,EAAY5R,EAAQnI,QAExBmI,EAAQ2M,OAAOiF,EAAU/Y,KAAK,yCAAyC2Z,UAAWP,GAClFjS,EAAQ2M,OAAOiF,EAAU/Y,KAAK,2CAA2C2Z,UAAWP,GAEpFjS,EAAQ2M,OAAOiF,EAAU/Y,KAAK,uCAAwCoZ,GACtEjS,EAAQ2M,OAAOiF,EAAU/Y,KAAK,qCAAsCoZ,GACpEjS,EAAQ2M,OAAOiF,EAAU/Y,KAAK,kCAAmCoZ,EACrE,EAEAI,aAAc,SAASnhB,GACnB,MAAME,EAAOrB,KACb,GAAImB,EAAQihB,YAAa,CACrB,MAEMjgB,EAFwC,QAAvBd,EAAK8P,cAEG9P,EAAK4B,UAAY5B,EAAK4B,SAASC,MAAQ7B,EAAK4B,SAASC,MAAQ,GAAM7B,EAAK6B,OAAS,GAE1Gwf,EAAkB,IAAItjB,EAAM+C,KAAKwgB,WAAW,CAClDxgB,KAAMA,GAAQ,GACdygB,SAAU,IAEVvhB,EAAK2a,MAAM6G,cAAcH,GACzBrhB,EAAK6d,cACT,KAAO,CACa7d,EAAK2a,MAAMhZ,SAEX7B,EAAQ6B,OAChB7B,EAAQkhB,uBACRhhB,EAAKod,uBAAwB,GAEjCpd,EAAK2a,MAAMhZ,KAAK7B,EAAQ6B,MAEhC,CACA3B,EAAKsd,wBACLtd,EAAKyhB,2BACT,EAEAA,0BAA2B,WACvB,MACM9G,EADOhc,KACMgc,MAEfA,EAAM+G,cAAgB,EACtB/G,EAAMlU,QAAQwV,SAASrD,GAChB+B,EAAMlU,QAAQkb,SAAS/I,IAC9B+B,EAAMlU,QAAQgY,YAAY7F,EAElC,EAEA5G,oBAAqB,SAAS3G,GAC1B,IAAIuW,EAAevW,IAAU0N,GACzB1N,IAAU0N,GACV1N,IAAU0N,GACV1N,IAAU0N,EACV0H,EAAY9hB,KAAKiQ,QAAQnI,QAAQgB,KAAK,kDAAkD3G,KAAK,iBAE5F8gB,IACDvW,EAAQrE,KAAK6a,MAAc,IAARxW,GAAe,KAGlCoV,GACAA,EAAUpV,MAAMA,EAExB,EAEAuU,cAAe,SAAS3Q,GACpB,IAAI1J,EAASlG,EAAE4P,EAAG1J,QACd8V,EAAU9V,EAAOzE,KAAK,WACtBhB,EAAUyF,EAAOzE,KAAK,WAErBua,GAAYvb,IACbyF,EAASlG,EAAE4P,EAAG6S,eACdzG,EAAU9V,EAAOzE,KAAK,WACtBhB,EAAUyF,EAAOzE,KAAK,YAG1BhB,EAAUP,EAAO,CAAC,EAAG,CAAE8L,MAAO9F,EAAOwc,OAASjiB,GAEzCub,GAIL1c,KAAKse,QAAQ,CACT5B,QAASA,EACTvb,QAASA,GAEjB,EAEAkiB,iBAAkB,SAASliB,GACvB,IAAIE,EAAOrB,KAEX,IAAKqB,EAAKiiB,aAAc,CACpBniB,EAAUP,EAAOO,EAAS,CACtBU,SAAUR,EAAKF,QAAQU,WAE3B,IAAI0hB,EAAiB,IAAInkB,EAAM4E,UAAUmK,QAAQ+F,YAAY/S,GAC7DE,EAAKiiB,aAAeC,EAAelP,OACvC,CACA,OAAOhT,EAAKiiB,YAChB,EAEA3I,qBAAsB,WAClB,IAAItZ,EAAOrB,KAENqB,EAAKwE,gBACNxE,EAAKsN,qBAAuBjO,EAAE,WAC9BW,EAAKsN,qBAAqB2O,SAASnD,GAEnC9Y,EAAKwE,cAAgBnF,EAAE,sCACvBW,EAAKwE,cAAc,GAAG2d,MAAMC,YAAY,iBAAkBpiB,EAAKgQ,WAC/DhQ,EAAKwE,cAAckC,KA1sBhB,WA0sB+B,GAElC1G,EAAKsN,qBAAqBzE,OAAO7I,EAAKwE,eACtCxE,EAAK2Z,QAAQ9Q,OAAO7I,EAAKsN,sBAEjC,EAEA,4BAAA2C,CAA6BJ,GACdlR,KAEF6F,eAFE7F,KAGF6F,cAAc,GAAG2d,MAAMC,YAAY,iBAAkBvS,EAElE,EAEAxO,cAAe,SAASvB,GACpB,IAAIuM,EAAS1N,KAAKqjB,mBAClBziB,EAAOO,EAAS,CACZuM,OAAQA,IAER1N,KAAK6F,eACL/E,EAASd,KAAK6F,eAAe,GAG7B7F,KAAKqG,QAAQqT,EAAOvY,IAKxBuM,EAAOK,OAAOjD,QAAQ3J,EAAQyB,QAClC,EAEAiB,aAAc,WACV,IAEI6f,EAFAriB,EAAOrB,KACPiD,EAAW5B,EAAK4B,SAKpB,GAFA5B,EAAK6B,MAAQ,GAERD,GAAaA,EAASW,MAA3B,CAKA8f,EAAYzgB,EAASC,MAErB,IAAK,IAAI0G,EAAI,EAAGA,GAAK3G,EAASW,MAAOgG,IAAK,CACtC,IAAI+Z,EACAC,EAAW,CACP1f,UAAW7C,EAAK6C,UAChBnB,OAAQ6G,GAGZ8Z,GAAaA,EAAUrgB,SACvBugB,EAAWhjB,EAAOgjB,EAAUF,EAAU9Z,EAAI,KAG9C+Z,EAAa,IAAI/b,EAAKgc,EAAUviB,GAChCA,EAAK6B,MAAM2gB,KAAKF,GAChBtiB,EAAKwE,cAAcqE,OAAOyZ,EAAW7b,QACzC,CAEAzG,EAAKyiB,yBACLziB,EAAK0iB,wBACL1iB,EAAKihB,aAAa,CAAEF,aAAa,GAtBjC,MAFI/gB,EAAK2iB,kBAyBb,EAEAA,iBAAkB,WACdhkB,KAAKoe,WAAa,IAAI1V,EAAU1I,KAAKmB,QAAQka,gBAAiBrb,MAE9DA,KAAK6F,cAAcqE,OAAOlK,KAAKoe,WAAWtW,SAE1C9H,KAAKoe,WAAW5Z,cAChBxE,KAAKqG,QAAQwT,EAAQ,CAAEqI,SAAS,GACpC,EAEA+B,QAAS,WACL,IAEI9b,EAFA9G,EAAOrB,KAINqB,EAAKiR,eAILjR,EAAK6B,OAAU7B,EAAK6B,MAAMG,QAQ3BhC,EAAK4O,SACL5O,EAAK4O,QAAQnM,QAAO,GAIpBzC,EAAKqc,gBACLwG,aAAa7iB,EAAKqc,gBAEtBrc,EAAKqc,eAAiByG,WAAW9iB,EAAK+iB,aAAatf,KAAKzD,GAAO,MAfvDA,EAAK+c,aACLjW,EATJqX,UAS6Bne,EAAK+c,WAAWtW,QAAQG,QACjD5G,EAAK+c,WAAWta,OAAOqE,IAcnC,EAEAic,aAAc,WACV,MAAM/iB,EAAOrB,KACTwf,EAAiBne,EAAKwE,cAAc,GAAGgS,YAC3C,IAAI1P,EAAQ,EAEZ9G,EAAK6B,MAAMmhB,SAAQ,SAASrhB,GACxB,MAAMshB,EAAYthB,EAAK8E,QAAU9E,EAAK8E,QAAQG,QAAUvH,EAAEsC,EAAKuhB,UAAUC,UAAUpc,aAAaH,QAC1Fwc,EAAejF,EAAiB8E,EAElCG,EAAetc,IACfA,EAAQsc,EAEhB,IAGIpjB,EAAKkR,SACLlR,EAAKoQ,KAAKpQ,EAAKkR,UAAU,IAI7BpK,EAAQE,KAAKC,IAAID,KAAK8P,IAAIhQ,EAAO9G,EAAKF,QAAQ+R,SAAUzS,EAAmCgd,GACvFtV,GAAS9G,EAAKgQ,YACdhQ,EAAKoQ,KAAKtJ,GAAO,GACjB9G,EAAKgQ,UAAYlJ,EACjB9G,EAAKiR,cAAe,GAGpBjR,EAAK2a,OAAS3a,EAAK2a,MAAMlU,SACzBzG,EAAK6d,eAEb,EAEA4E,uBAAwB,WACpB,IAAIziB,EAAOrB,KAEXqB,EAAKqjB,OAAStlB,EAAMulB,SAChBtjB,EAAKqjB,OAAO5f,KAAKzD,GACjB,KAGAA,EAAK8P,gBAAkB+I,GACvB7Y,EAAKwE,cAAc0X,GAAG3D,GAAY,SAAS9T,GAClCA,EAAEqY,UAIHlb,SAAS2hB,gBAAkBvjB,EAAKwE,cAAc,IAC9CxE,EAAKwE,cAAcQ,QAAQ,SAG/BhF,EAAKqjB,OAAO5e,GACZA,EAAEiT,iBACN,IAGJ1X,EAAKwE,cAAcyX,SAASnD,GACxB9Y,EAAK+L,kBACL/L,EAAKsN,qBAAqB7J,KAAK0U,EAAQnY,EAAKwjB,QAAQ/f,KAAKzD,IAEzDA,EAAKsN,qBAAqB7J,KAAK0U,EAAQnY,EAAKyjB,gBAAgBhgB,KAAKzD,GAEzE,EAEAwjB,QAAS,SAAS/e,GACd,IAKIif,EALA1jB,EAAOrB,KACPglB,EAAkB3jB,EAAKsN,qBAAqBzG,SAC5CtE,EAAQvC,EAAK6B,MAAMG,OACnB4hB,EAAU5jB,EAAKuL,SACfsY,EAAYD,EAAU,EAKtB,GAAI5jB,EAAK8jB,iBAAmBvhB,EAExB,YADAvC,EAAK8jB,gBAAiB,GAI1B9jB,EAAK+jB,mBAAoB,EACzB,MAAMC,EAAgB5kB,EAAmCuR,EAAE3Q,EAAKyG,QAAQ,IAIxE,GAHgBzG,EAAK6B,MAAMgiB,GAGvBD,KAFJF,EAAgBE,EAAUI,EAAgBH,IAETH,GAAiB,GAAKA,GAAiBnhB,EAAO,CAG3E,GAFavC,EAAK6B,MAAM6hB,EAAgB,GAAGjd,QAE5BgH,SAASD,IAAMmW,EAC1B,OAGJ3jB,EAAKuL,SAAWmY,EAChB1jB,EAAKikB,oBAELjkB,EAAKgF,QAAQwT,EAAQ,CAAEsI,OAAQrI,EAAa9W,KAAM+hB,EAAenhB,MAAOA,EAAOye,sBAAsB,GACzG,CACR,EAEAyC,gBAAiB,SAAShf,GACtB,MAAMzE,EAAOrB,KACT+R,EAAmBtR,EAAmCuR,EAAE3Q,EAAKyG,QAAQ,IAAM,EAI/EzG,EAAKkkB,SAASxT,GACd1Q,EAAKkkB,SAASxT,EAAmB,GACjC1Q,EAAKkkB,SAASxT,EAAmB,GAEjC1Q,EAAKgF,QAAQwT,EAAQ,CAAEsI,OAAQrI,EAAa9W,KAAM+O,EAAkBnO,MAAOvC,EAAK6B,MAAMG,OAAQgf,sBAAsB,GACxH,EAEAqC,OAAQ,SAAS5e,GACb,IAAI0f,EAAgB1f,EAAE0f,cAElBhT,GADQgT,EAAcC,YAAcD,EAAcC,WAAaD,EAAcE,QAC5D,EAErB1lB,KAAKse,QAAQ,CACT5B,QAAS3C,EACT5Y,QAAS,CACLqR,OAAQA,EACRE,SAAUF,EACVY,gBAAgB,KAIxBtN,EAAEiT,gBACN,EAEAtH,KAAM,SAASP,EAAOyU,GAElB,OAAKzU,EADMlR,KAKCse,QAAQ,CAChB5B,QAAS3C,EACT5Y,QAAS,CACLuL,MAAOwE,EACPkC,gBAAiBuS,KATd3lB,KAEKqR,SAUpB,EAEAiN,QAAS,SAASnd,GACd,IAAIykB,EAAiBhlB,EAAO,CAAEQ,OAAQpB,MAAQmB,EAAQA,SAEtD,OADc,IAAI/B,EAAM4E,UAAU7C,EAAQub,SAASkJ,GACpCvZ,MACnB,EAEAuO,iBAAkB,WACd,IAAIvZ,EAAOrB,KACPgD,EAAO3B,EAAKF,QAAQ6B,KAExBlC,EAASO,EAAKwE,eAAe,GAC7BxE,EAAK6C,UAAUzC,gBAAgBoQ,MAAK,SAAS5O,GACzC5B,EAAKsC,cACLtC,EAAK4B,SAAWA,EAEhB5B,EAAKwC,eACLxC,EAAKyC,QAAO,GACRb,IACAD,EAAOA,GAAQ,GAAKA,GAAQC,EAASW,MAAQZ,EAAO,EACpD3B,EAAK0C,aAAaf,GAAM,IAGxB3B,EAAKqP,aACLrP,EAAKqP,YAAYlI,UAGrBnH,EAAKqP,YAAc,IAAIjQ,EAAmCqF,EAAEzE,EAAKwE,cAAc,GAAGggB,WAAY,CAC1F1O,OAAQ,UACR8D,OAAQ,CAAC,IAGb5Z,EAAKqP,YAAYoV,0BAEjBhlB,EAASO,EAAKwE,eAAe,EACjC,GACJ,EAEAgV,mBAAoB,SAAS1Y,GACzB,MAAMd,EAAOrB,KACPmB,EAAUE,EAAKF,QACf6B,EAAO7B,EAAQ6B,KACrB,IAAIsD,EAGAA,EADAnE,GAGOhB,EAAQ+Z,gBAAgB5U,KAG9BA,GAKe,iBAATA,EACPA,EAAO,CACHtE,IAAKsE,GAEFA,aAAgByf,cACvBzf,EAAO,CACH0f,YAAa1f,IAIrBxF,EAASO,EAAKwE,eAAe,GAC7BpF,EAAmCwlB,EAAEvlB,EAAEE,OAAO,CAAC,EAAG,CAC9C+Q,YAAatQ,EAAKyG,QAAQ,GAC1B4J,IAAKrQ,EAAKwE,cAAc,GACxB4L,KAAMpQ,EAAKgQ,UACX6U,qBAAsB,EACtBrU,KAAO/L,IACHzE,EAAK4B,SAAW6C,EAAE0L,OAClBnQ,EAAK6B,MAAQ4C,EAAEgM,SAEXzQ,EAAKqP,aACLrP,EAAKqP,YAAYlI,UAGrBnH,EAAKqP,YAAc,IAAIjQ,EAAmCqF,EAAEzE,EAAKwE,cAAc,GAAGggB,WAAY,CAC1F1O,OAAQ,UACR8D,OAAQ,CAAC,IAGb5Z,EAAKyiB,yBAELziB,EAAKqP,YAAYoV,0BACjBzkB,EAAK4Q,mBAAmB5Q,EAAK6B,MAAM,IACnC7B,EAAK0C,aAAaf,GAAM,GAExB3B,EAAKgF,QAAQwT,GACb/Y,EAASO,EAAKwE,eAAe,EAAM,EAEvCrD,MAAQsD,IACJ,MAAMqgB,EAAgBrgB,EAAE+P,KAAKwI,SAAS,WAClCxc,EAAWR,EAAKF,QAAQU,SAASD,cACjCwkB,EAAeD,EAAgBtkB,EAASmL,SAAWnL,EAASgB,WAEhExB,EAAKqB,cAAc,CACfF,MAAOsD,EAAElD,QACTA,QAASwjB,GACX,EAENxU,aAAcvQ,EAAKF,QAAQ+Z,gBAAgBtJ,cAC5CtL,KArDCjF,EAAK2iB,kBAsDb,EAEAqC,yBAA0B,WACTrmB,KAER6F,cAAciD,KAAK,WAAWwd,MAAK,CAAC1c,EAAG2c,KACxC7lB,EAAE6lB,GAAIxe,KAAK3I,EAAM2I,KAAK,UAAW6B,EAAI,EAAE,GAE/C,EAEAqI,mBAAoB,SAASjP,EAAMwjB,GAC/B,MAAMnlB,EAAOrB,KACb,OAAO,IAAIwP,SAAQnN,IACf,MAAMokB,EAAaC,aAAY,KACzB1jB,EAAKuhB,UAAUoC,WAAa3jB,EAAKuhB,UAAUqC,mBAC7CC,cAAcJ,GACdplB,EAAKglB,2BACAG,GACDnlB,EAAKgF,QAAQoT,EAAQ,CAAEzW,SAE3BX,IACF,GACC,IAAI,GAEf,EAEAkjB,SAAU,SAASxiB,GACf,MAAM1B,EAAOrB,KACT6B,EAAWR,EAAKF,QAAQU,SAASD,cACjCoB,EAAO3B,EAAK6B,OAAS7B,EAAK6B,MAAMH,EAAS,GAE7C,GAAKC,EAIL,OAAI3B,EAAK+L,kBACEpK,EAAKqG,KAAKhI,EAAKgQ,WACdrO,EAAKuhB,UAAUoC,UAAa3jB,EAAKuhB,UAAUqC,iBAWhDpX,QAAQnN,WAVX5B,EAAmCqmB,EAAE9jB,EAAMA,EAAKuhB,UAAUC,WAAY1e,IAClEzE,EAAKqB,cAAc,CACfF,MAAOsD,EAAElD,QACTA,QAASf,EAASgB,YACpB,IAGCxB,EAAK4Q,mBAAmBjP,GAIvC,EAEAe,aAAc,SAAShB,EAAQqf,GAC3B,MAAM/gB,EAAOrB,KACFqB,EAAK6B,OAAS7B,EAAK6B,MAAMH,EAAS,KAM7C1B,EAAKuL,SAAW7J,EAEZ1B,EAAK+L,mBACL/L,EAAKikB,oBACLjkB,EAAK0lB,uBAAuBhkB,EAAQqf,IAEpC/gB,EAAKkkB,SAASxiB,GAAQwG,MAAK,KACvBlI,EAAK0lB,uBAAuBhkB,EAAQqf,EAAY,IAG5D,EAEA2E,uBAAwB,SAAShkB,EAAQqf,GACrC,MAAM/gB,EAAOrB,KACT6F,EAAgBxE,EAAKsN,qBAEzBtN,EAAK8jB,gBAAiB,EACtB1kB,EAAmCumB,EAAEnhB,EAAc,GAAI9C,EAAS,GAChE1B,EAAKgF,QAAQwT,EAAQ,CAAEsI,OAAQrI,EAAa9W,KAAMD,EAAQa,MAAOvC,EAAK6B,MAAMG,OAAQ+e,YAAaA,GACrG,EAEA2B,sBAAuB,WAOnB,IANA,IAAI1iB,EAAOrB,KACPinB,EAAoB,EACpBC,EAA2B,EAC3BlC,EAAkB3jB,EAAKwE,cAAc,GAAGshB,aACxCzI,EAAQ,EAELuI,GAAqBjC,GAAmBtG,EAAQrd,EAAK6B,MAAMG,QAE9D4jB,GAAqB5lB,EAAK6B,MAAMwb,GAAO5W,QAAQI,SAC/Cgf,IACAxI,IAGJrd,EAAK+lB,mBAAqBF,CAC9B,EAEA5B,kBAAmB,WACf,IAAIxX,EAAa9N,KAAKkD,OAASlD,KAAKkD,MAAMG,OACtCgkB,EAAoBhf,KAAK8P,IAAInY,KAAK4M,SAAW5M,KAAKonB,mBAAoB,GACtEE,EAAoBjf,KAAKC,IAAItI,KAAK4M,SAAW5M,KAAKonB,mBAAoBtZ,GAE1E9N,KAAKunB,cAAgBvnB,KAAKkD,MAAMskB,MAAMH,EAAoB,EAAGC,GAE7D,IAAK,IAAI1d,EAAIyd,EAAmBzd,GAAK0d,EAAmB1d,IAEpD5J,KAAKulB,SAAS3b,EAEtB,EAEA8F,cAAe,WACX,MAAM5B,EAAa9N,KAAKkD,OAASlD,KAAKkD,MAAMG,OACtCokB,EAAW,GAEjB,IAAK,IAAI7d,EAAI,EAAGA,GAAKkE,EAAYlE,IAE7B6d,EAAS5D,KAAK7jB,KAAKulB,SAAS3b,IAGhC,OAAO6d,CACX,EAEA3gB,SAAU,SAASR,GACf,MAAMjF,EAAOrB,KACTqB,EAAK+L,mBACL/L,EAAKgQ,UAAYhQ,EAAKF,QAAQ+P,OAASzQ,EAAmCgd,EAC1Epc,EAAKoQ,KAAKpQ,EAAKgQ,WAAW,GAC1BhQ,EAAKgF,QAAQwT,EAAQ,CAAEsI,OAAQ,OAAQ1Q,KAAMpQ,EAAKF,QAAQ+P,OAAS,SAEnE7P,EAAK6C,UAAUwjB,gBAAgBphB,GAC/BjF,EAAKuZ,oBAELvZ,EAAKwZ,mBAAmBvU,EAEhC,EAEA2H,YAAa,SAAS9M,GAClB,IAAIE,EAAOrB,KACP6H,EAAa1G,EAAQ6B,KACrBA,EAAO3B,EAAK6B,MAAM2E,EAAa,IAAMxG,EAAK+c,WAC1CuJ,EAAY,IAAIxgB,EAAQC,MAE5BpE,EAAKqG,OAEL,IAAIue,EAAaxoB,EAAM+H,QAAQI,KAAKsgB,SAAS,IAAIzoB,EAAMyK,SAASpC,KAAK,CAAC,EAAG,GAAI,CAACzE,EAAKiF,MAAOjF,EAAKkF,SAAU,CACrGqC,KAAM,CACFud,MA3rCC,WA6rCLrd,OAAQ,OAGZ3J,EAASO,EAAKwE,eAAe,GAC7B8hB,EAAUzd,OAAO0d,EAAY5kB,EAAKkG,OAElC/B,EAAQ8G,YAAY0Z,GAAW9V,MAAK,SAAS1P,GACzCrB,EAASO,EAAKwE,eAAe,GAC7BzG,EAAM2oB,OAAO,CACTC,QAAS7lB,EACToB,SAAUpC,EAAQoC,SAClB0kB,SAAU9mB,EAAQ8mB,UAAY,GAC9BC,WAAY/mB,EAAQ+mB,WACpBC,YAAahnB,EAAQgnB,aAE7B,GACJ,EAEAja,UAAW,SAAS/M,GAChB,IAAIE,EAAOrB,KACP6H,EAAa1G,EAAQ6B,KACrBA,EAAO3B,EAAK6B,MAAM2E,EAAa,IAAMxG,EAAK+c,WAE9Ctd,EAASO,EAAKwE,eAAe,GAE7B7C,EAAKqG,OAELlC,EAAQ+G,UAAUlL,EAAKkG,OAAO2I,MAAK,SAAS1P,GACxCrB,EAASO,EAAKwE,eAAe,GAC7BzG,EAAM2oB,OAAO,CACTC,QAAS7lB,EACToB,SAAUpC,EAAQoC,SAClB0kB,SAAU9mB,EAAQ8mB,UAAY,GAC9BC,WAAY/mB,EAAQ+mB,WACpBC,YAAahnB,EAAQgnB,aAE7B,GACJ,EAEAC,WAAY,SAASjnB,GAEjB,IAAIE,EAAOrB,MAEPmB,EAAQ+Z,iBAAmB/Z,EAAQga,gBACnC9Z,EAAKqZ,eAAevZ,GAAW,CAAC,GAGpCA,EAAUT,EAAEE,OAAOS,EAAKF,QAASA,GAEjCoY,EAAOpN,GAAGic,WAAWhc,KAAK/K,EAAMF,GAE5BA,EAAQ6B,OACR3B,EAAKuL,SAAWzL,EAAQ6B,KACxB3B,EAAK0C,aAAa5C,EAAQ6B,MAAM,IAGhC7B,EAAQ8G,OACR5G,EAAKyG,QAAQG,MAAM9G,EAAQ8G,OAG3B9G,EAAQ+G,QACR7G,EAAKyG,QAAQI,OAAO/G,EAAQ+G,OAEpC,EAEAM,QAAS,WAEDxI,KAAK0d,gBAELte,EAAMipB,aAAaroB,KAAK0d,gBAIxB1d,KAAKsjB,cACLtjB,KAAKsjB,aAAa9a,UAGlBxI,KAAK2N,aACL3N,KAAK2N,YAAYnF,UAGjBxI,KAAK6I,SACL7I,KAAK6I,QAAQL,UAGbxI,KAAKgc,OACLhc,KAAKgc,MAAMxT,UAGXxI,KAAKiQ,UACLjQ,KAAKiQ,QAAQC,SACblQ,KAAKiQ,QAAQzH,UACbxI,KAAKiQ,QAAU,MAGfjQ,KAAKkD,OAASlD,KAAKkD,MAAMG,QAAUrD,KAAKoN,oBACxCpN,KAAKkD,MAAMmhB,SAAQ,SAASrhB,GACxBA,EAAKwF,SACT,IACAxI,KAAKkD,MAAQ,IAGblD,KAAK0Q,aACL1Q,KAAK0Q,YAAYlI,UAErBxI,KAAK6F,cAAcyiB,IAAIpP,GACvBlZ,KAAK2O,qBAAqB2Z,IAAIpP,GAE9BK,EAAOpN,GAAG3D,QAAQ4D,KAAKpM,KAC3B,EAEA2D,YAAa,WACT3D,KAAKkD,MAAQ,GACblD,KAAKiD,SAAW,KAChBjD,KAAK4M,SAAW,EAEhB5M,KAAK6F,cAAcyiB,IAAIpP,GACvBlZ,KAAK6F,cAAc0iB,QAEfvoB,KAAK0Q,aAEL1Q,KAAK0Q,YAAYlI,SAEzB,EAEA8F,iBAAkB,SAASsO,GACvB,IAAIvb,EAAOrB,KAj1CvB,YAm1CgB4c,IACAA,GAAS,GAGTvb,EAAKqP,cACLkM,EAASvb,EAAKqP,YAAY8X,2BAA6BnnB,EAAKqP,YAAYoV,2BAG5EzkB,EAAKwE,cAAc4iB,YAAYtO,EAA4ByC,GAC3Dvb,EAAKwE,cAAc4iB,YAAYtO,GAAuByC,EAC1D,IAGJrY,EAAGmkB,OAAOrO,EACb,CAj2CD,CAi2CGrZ,OAAO5B,MAAM+E,QAChB,IAAIwkB,EAAUvpB,MAEdP,EAAQ+pB,SA52CS,CACbC,GAAI,YACJhT,KAAM,YACNiT,SAAU,MACVpU,YAAa,2CACbqU,QAAS,CAAC,OAAQ,SAAU,SAAU,UAAW,cAAe,SAAU,WAAY,UAAW,SAAU,eAAgB,iBAAkB,UAAW,QAAS,+BAw2CrKlqB,EAAQmqB,QAAUL,EAElB9c,OAAOod,eAAepqB,EAAS,aAAc,CAAE6N,OAAO,GAEzD","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.mobile.scroller.js'), require('kendo.toolbar.js'), require('kendo.pager.js'), require('kendo.combobox.js'), require('kendo.textbox.js'), require('kendo.core.js'), require('kendo.drawing.js'), require('kendo.upload.js'), require('kendo.pdfviewer-common.cmn.chunk.js'), require('kendo.dialog.js'), require('kendo.window.js'), require('kendo.binder.js'), require('kendo.numerictextbox.js'), require('kendo.dropdownlist.js'), require('kendo.icons.js'), require('kendo.draganddrop.js'), require('kendo.pdfjs.loader.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.mobile.scroller', 'kendo.toolbar', 'kendo.pager', 'kendo.combobox', 'kendo.textbox', 'kendo.core', 'kendo.drawing', 'kendo.upload', 'kendo.pdfviewer-common.cmn.chunk', 'kendo.dialog', 'kendo.window', 'kendo.binder', 'kendo.numerictextbox', 'kendo.dropdownlist', 'kendo.icons', 'kendo.draganddrop', 'kendo.pdfjs.loader'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.Pdfviewer = {}), global.kendo._globals.MobileScroller, global.kendo._globals.Toolbar, global.kendo._globals.Pager, global.kendo._globals.Combobox, global.kendo._globals.Textbox, global.kendo._globals.Core, global.kendo._globals.Drawing, global.kendo._globals.Upload, global.kendo._globals.PdfviewerCommonCmnChunk));\n})(this, (function (exports, kendo_mobile_scroller_js, kendo_toolbar_js, kendo_pager_js, kendo_combobox_js, kendo_textbox_js, kendo_core_js, kendo_drawing_js, kendo_upload_js, kendo_pdfviewerCommon_cmn_chunk_js) {\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            extend = $.extend,\n            Class = kendo.Class;\n\n        var DPLProcessor = Class.extend({\n            init: function(options, viewer) {\n                var that = this;\n\n                that.options = options;\n                that.read = options.read;\n                that.upload = options.upload;\n                that.download = options.download;\n\n                that.viewer = viewer;\n            },\n            fetchDocument: function() {\n                var that = this,\n                    deferred = $.Deferred(),\n                    errorMessages = that.viewer.options.messages.errorMessages;\n\n                if (!that.read) {\n                    return deferred.resolve();\n                }\n\n                $.ajax({\n                    type: that.read.type,\n                    url: that.read.url,\n                    dataType: that.read.dataType,\n                    success: function(data) {\n                        if (typeof data != \"string\") {\n                            data = kendo.stringify(data);\n                        }\n                        deferred.resolve(JSON.parse(data));\n                    },\n                    error: function(xhr) {\n                        that.viewer._triggerError({\n                            error: xhr.responseText,\n                            message: errorMessages.parseError\n                        });\n                    }\n                });\n\n                return deferred;\n            },\n            fetchPageData: function(number) {\n                var that = this;\n                var deferred = $.Deferred();\n                var page = that.viewer.document.pages[number - 1];\n                var data = {};\n                data[that.read.pageField] = number;\n\n                if (!page.geometries.length) {\n                    $.ajax({\n                        type: that.read.type,\n                        url: that.read.url,\n                        data: data,\n                        success: function(data) {\n                            deferred.resolve(JSON.parse(data));\n                        },\n                        error: function(xhr) {\n                            that.viewer._triggerError({\n                                error: xhr.responseText,\n                                message: that.viewer.options.messages.errorMessages.parseError\n                            });\n                        }\n                    });\n                } else {\n                    deferred.resolve(page);\n                }\n\n                return deferred;\n            },\n            downloadFile: function(fileName) {\n                window.location = this.download.url + \"?file=\" + fileName;\n            },\n\n            fromJSON: function(json)\n            {\n                var viewer = this.viewer;\n                viewer._clearPages();\n\n                viewer.document = json;\n                viewer.document.total = viewer.document.pages.length;\n\n                viewer._renderPages();\n                viewer.resize(true);\n\n                viewer.activatePage(1);\n            }\n        });\n\n        extend(kendo, {\n            pdfviewer: {\n                dpl: {\n                    processor: DPLProcessor\n                }\n            }\n        });\n    })(window.kendo.jQuery);\n\n    /* eslint no-console: [\"error\", { allow: [\"warn\", \"error\"] }] */\n\n    function isLoaded() {\n        if (!window.pdfjsLib) {\n            console?.error(`PDF.JS library is required. Make sure that it is properly loaded <script src=\"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.mjs\" type=\"module\"></script>`);\n            return false;\n        }\n\n        if (!window.pdfjsLib?.GlobalWorkerOptions?.workerSrc && !window.pdfjsWorker) {\n            console?.error(`The pdf.worker.mjs script is not loaded. The PDF.JS library will not work correctly.\n    Either load the script:\n    \n    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.worker.mjs\" type=\"module\"></script>\n    \n    Or set it to the GlobalWorkerOptions.workerSrc property:\n    \n    <script type=\"module\">\n        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.3.136/pdf.worker.mjs';\n    </script>`);\n        return false;\n        }\n\n        return true;\n    }\n\n    kendo.pdfviewer.pdfjs = { lib: window.pdfjsLib };\n\n    (function($, undefined$1) {\n        var Class = kendo.Class,\n            extend = $.extend,\n            parseJSON = JSON.parse,\n            progress = kendo.ui.progress,\n            Class = kendo.Class,\n            OPEN = \"open\";\n\n        var UploadHelper = Class.extend({\n            init: function(viewer) {\n                this.viewer = viewer;\n                this.errorMessages = this.viewer.options.messages.errorMessages;\n                this.upload = this.viewer.processor && this.viewer.processor.upload;\n            },\n            _initUpload: function(uploadElement, extendUploadOptions) {\n                var uploadOptions = extend({\n                    select: this._onSelect.bind(this),\n                    success: this._onSuccess.bind(this),\n                    error: this._onError.bind(this),\n                    complete: this._onComplete.bind(this),\n                    showFileList: false,\n                    multiple: false,\n                    validation: {\n                        allowedExtensions: [\".pdf\"]\n                    }\n                }, extendUploadOptions || {});\n\n                if (this.upload) {\n                    extend(uploadOptions, {\n                        async: {\n                            saveUrl: this.upload.url,\n                            autoUpload: true,\n                            saveField: this.upload.saveField\n                        }\n                    });\n                }\n\n                var upload = (uploadElement || $('<input name=\"files\" accept=\".pdf\" type=\"file\" />')).kendoUpload(uploadOptions).getKendoUpload();\n\n                return upload;\n            },\n            _onComplete: function() {\n                progress(this.viewer.pageContainer, false);\n            },\n            _onSuccess: function(e) {\n                var json = parseJSON(e.response);\n\n                if ($.isPlainObject(json)) {\n                    this.viewer.processor.fromJSON(json);\n                }\n                else {\n                    this.viewer._triggerError({\n                        error: json,\n                        message: this.errorMessages.parseError\n                    });\n                }\n            },\n            _onError: function(e) {\n                this.viewer._triggerError({\n                    error: e.XMLHttpRequest.responseText,\n                    message: this.errorMessages.notSupported\n                });\n            },\n            _onSelect: function(e) {\n                var that = this;\n                var fileToUpload = e.files[0];\n\n                progress(that.viewer.pageContainer, true);\n\n                if (that.viewer.trigger(OPEN, { file: fileToUpload }) || that.upload) {\n                    return;\n                } else if (fileToUpload.extension.toLowerCase() !== \".pdf\") {\n                    that.viewer._triggerError({\n                        error: fileToUpload,\n                        message: that.errorMessages.notSupported\n                    });\n                    return;\n                }\n\n                var reader = new FileReader();\n                reader.onload = function(e) {\n                    var document = e.target.result;\n                    that.viewer.fromFile(document);\n                };\n                reader.onerror = function() {\n                    that.viewer._triggerError({\n                        error: fileToUpload,\n                        message: that.errorMessages.parseError\n                    });\n                };\n\n                reader.readAsArrayBuffer(fileToUpload.rawFile);\n            }\n        });\n\n        extend(kendo.pdfviewer, {\n            UploadHelper: UploadHelper\n        });\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1) {\n        var extend = $.extend,\n            noop = $.noop,\n            drawing = kendo.drawing,\n            Group = drawing.Group,\n            Surface = drawing.Surface,\n            RENDER = \"render\",\n            Class = kendo.Class,\n            UploadHelper = kendo.pdfviewer.UploadHelper,\n\n            DEFAULT_DPR = 2;\n\n        var geometryTypes = {\n            Path: \"path\",\n            MultiPath: \"multipath\",\n            Rect: \"rect\",\n            Image: \"image\",\n            Text: \"text\"\n        };\n\n        var BLANK_PAGE_TEMPLATE = (dropzoneId) => `<div class=\"k-page k-blank-page\">\n        <div id=\"${dropzoneId}\" class=\"k-external-dropzone\">\n            <div class=\"k-dropzone-inner\">\n                <span class=\"k-dropzone-icon k-icon k-svg-icon k-icon-xxxl k-svg-i-upload\">\n                    <svg aria-hidden=\"true\" focusable=\"false\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\">\n                        <path d=\"M32 384v96h448v-96H32zm192-64h64V192h96L256 32 128 192h96v128z\"></path>\n                    </svg>\n                </span>\n                <span class=\"k-dropzone-hint\">Drag and drop files here to upload</span>\n            </div>\n        </div>\n        <input name=\"files\" accept=\".pdf\" type=\"file\" ref-pdfviewer-blank-page-upload>\n    </div>`;\n\n        var Page = Class.extend({\n            init: function(options, viewer) {\n                this.viewer = viewer;\n                this.processor = options.processor;\n                this.options = options;\n                this.pageNumber = options.number;\n\n                this.element = $(\"<div class='k-page' />\");\n                this.element.attr(kendo.attr(\"number\"), this.pageNumber);\n\n                this._updatePageSize(options);\n                this.width = options.width;\n                this.height = options.height;\n            },\n            resize: function(ratio) {\n                var pageElement = this.element;\n\n                this._updatePageSize({\n                    width: Math.min(pageElement.width() * ratio, this.width),\n                    height: Math.min(pageElement.height() * ratio, this.height)\n                });\n            },\n            _updatePageSize: function(size) {\n                this.element\n                        .width(size.width)\n                        .height(size.height);\n            },\n            destroy: function() {\n                kendo.destroy(this.element);\n            },\n            render: noop\n        });\n\n        var BlankPage = Page.extend({\n            init: function(options, viewer) {\n                this.viewer = viewer;\n                this.options = options;\n                this._externalDropZoneId = `${viewer.element.attr(\"id\")}-external-dropzone`;\n                this.element = $(BLANK_PAGE_TEMPLATE(this._externalDropZoneId));\n                this._uploadHelper = new UploadHelper(viewer);\n            },\n            _initUpload: function() {\n                this._upload = this._uploadHelper._initUpload(this.element.find(\"input[ref-pdfviewer-blank-page-upload]\"), {\n                    dropZone: `#${this._externalDropZoneId}`,\n                    showFileList: false,\n                    async: {\n                        autoUpload: false,\n                        saveUrl: \"save\"\n                    }\n                });\n            },\n            resize: noop,\n            _updatePageSize: noop,\n            destroy: function() {\n                if (this._upload) {\n                    this._upload.destroy();\n                }\n\n                kendo.destroy(this.element);\n            },\n            render: noop\n        });\n\n        var DPLPage = Page.extend({\n            draw: function() {\n                var that = this,\n                    geometries = that.options.geometries;\n\n                that.group = new Group();\n                that.surface.draw(that.group);\n\n                that._drawGeometries(geometries);\n\n                that.viewer.trigger(RENDER, { page: this });\n                kendo.ui.progress(that.element, false);\n            },\n            load: function() {\n                var that = this;\n\n                if (that.loaded || !that.processor)\n                {\n                    return;\n                }\n\n                that.processor.fetchPageData(that.pageNumber).then(function(data) {\n                    that.options = data;\n                    that._initSurface();\n                    that.draw();\n                });\n\n                that.loaded = true;\n            },\n            _initSurface: function() {\n                var size = {\n                    width: this.element.width(),\n                    height: this.element.height()\n                };\n                var surfaceOptions = extend({ width: this.width, height: this.height }, this.viewer.options.view);\n                this.surface = new Surface(this.element, surfaceOptions);\n                this._updatePageSize(size);\n            },\n            _drawGeometries: function(geometries) {\n                var that = this,\n                    kGeometry;\n\n                if (!geometries) {\n                    return;\n                }\n\n                for (var i = 0; i <= geometries.length; i++) {\n                    var geometry = geometries[i];\n\n                    if (!geometry) {\n                        continue;\n                    }\n\n                    switch (geometry.type) {\n                        case geometryTypes.Path:\n                        case geometryTypes.MultiPath:\n                            kGeometry = that._drawPath(geometry);\n                            break;\n                        case geometryTypes.Rect:\n                            kGeometry = that._drawRect(geometry);\n                            break;\n                        case geometryTypes.Image:\n                            kGeometry = that._drawImage(geometry);\n                            break;\n                        case geometryTypes.Text:\n                            kGeometry = that._drawText(geometry);\n                            break;\n                        default:\n                            kGeometry = null;\n                            break;\n                    }\n\n                    if (kGeometry)\n                    {\n                        that.group.append(kGeometry);\n                    }\n                }\n            },\n            _drawRect: function(geometry)\n            {\n                var rectGeo = new kendo.geometry.Rect(geometry.point, geometry.size);\n\n                return new drawing.Rect(rectGeo, {\n                    transform: this._getMatrix(geometry.transform),\n                    fill: geometry.fillOptions,\n                    stroke: geometry.strokeOptions\n                });\n            },\n\n            _drawImage: function(geometry)\n            {\n                var imageRect = new kendo.geometry.Rect(geometry.point, geometry.size);\n                return new drawing.Image(geometry.src, imageRect, {\n                    transform: this._getMatrix(geometry.transform)\n                });\n            },\n\n            _drawText: function(geometry)\n            {\n                var options = {\n                    transform: this._getMatrix(geometry.transform),\n                    stroke: geometry.strokeOptions,\n                    fill: geometry.fillOptions,\n                    font: geometry.font\n                };\n                return new kendo.drawing.Text(geometry.content, geometry.point, options);\n            },\n\n            _drawPath: function(geometry)\n            {\n                var options = {\n                    transform: this._getMatrix(geometry.transform),\n                    stroke: geometry.strokeOptions,\n                    fill: geometry.fillOptions\n                };\n                var path = new drawing.MultiPath(options);\n\n                for (var i = 0; i < geometry.paths.length; i++) {\n                    var subPath = geometry.paths[i];\n\n                    if (!subPath.segments)\n                    {\n                        return;\n                    }\n\n                    path.moveTo.apply(path, subPath.point);\n\n                    for (var j = 0; j < subPath.segments.length; j++) {\n                        var segment = subPath.segments[j];\n                        var drawAction = segment.points.length === 1 ? path.lineTo : path.curveTo;\n                        drawAction.apply(path, segment.points);\n                    }\n\n                    if (subPath.closed) {\n                        path.close();\n                    }\n                }\n\n                return path;\n            },\n\n            _getMatrix: function(transform) {\n                var matrix = Object.create(kendo.geometry.Matrix.prototype);\n                kendo.geometry.Matrix.apply(matrix, transform);\n                return matrix;\n            }\n        });\n\n        extend(kendo.pdfviewer.dpl, {\n            geometryTypes: geometryTypes,\n            Page: DPLPage\n        });\n        extend(kendo.pdfviewer, {\n            BlankPage: BlankPage\n        });\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            extend = $.extend,\n            parseJSON = JSON.parse,\n            progress = kendo.ui.progress,\n            Class = kendo.Class,\n            UploadHelper = kendo.pdfviewer.UploadHelper,\n            OPEN = \"open\",\n            ZOOMSTART = \"zoomStart\",\n            ZOOMEND = \"zoomEnd\";\n\n        var Command = Class.extend({\n            init: function(options) {\n                this.options = options;\n                this.viewer = options.viewer;\n                this.errorMessages = this.viewer.options.messages.errorMessages;\n            }\n        });\n\n        var OpenCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n                this._uploadHelper = new UploadHelper(this.viewer);\n            },\n            exec: function() {\n                this.viewer._upload = this.viewer._upload || this._uploadHelper._initUpload();\n                this.viewer._upload.element.click();\n            },\n        });\n\n        var PageChangeCommand = Command.extend({\n            exec: function() {\n                var targetPage = this.options.value,\n                    viewer = this.viewer,\n                    current, total;\n\n                if (isNaN(targetPage)) {\n                    current = viewer._pageNum;\n                    total = viewer.document.total || viewer.document.numPages;\n\n                    switch (targetPage) {\n                        case \"first\": targetPage = 1;\n                            break;\n                        case \"prev\": targetPage = current > 1 ? current - 1 : 1;\n                            break;\n                        case \"next\": targetPage = current < total ? current + 1 : total;\n                            break;\n                        case \"last\": targetPage = total;\n                            break;\n                    }\n                } else {\n                    targetPage = Number(targetPage);\n                }\n\n                viewer.activatePage(targetPage, false);\n            }\n        });\n\n        var DownloadCommand = Command.extend({\n            exec: function() {\n                const that = this;\n                if (!that.viewer.document) {\n                    that.viewer._triggerError({\n                        message: that.errorMessages.notFound\n                    });\n                    return;\n                }\n\n                const fileName = (that.viewer.document.info && that.viewer.document.info.title) ||\n                that.viewer.options.messages.defaultFileName;\n\n                if (that.viewer._isDPLProcessor()) {\n                    that.viewer.processor.downloadFile(fileName);\n                } else {\n                    kendo_pdfviewerCommon_cmn_chunk_js.d(\n                        { pdf: this.viewer.document, error: (e) => { that.viewer._triggerError({ message: e.message }); } },\n                        fileName,\n                        {},\n                        (blob, fileName, saveOptions) => false\n                    );\n                }\n            }\n        });\n\n        var ExportCommand = Command.extend({\n            init: function(options) {\n                options = $.extend(options, this.options);\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                var dialog = (this.viewer._saveDialog || this._initDialog());\n\n                dialog._updateModel({\n                    pagesCount: (this.viewer.document && this.viewer.document.total) || 1,\n                    page: this.viewer.options.page\n                });\n\n                dialog.open();\n            },\n            apply: function(viewModel) {\n                var extension = viewModel.extension;\n\n                if (extension === \".png\") {\n                    this.viewer.exportImage(viewModel);\n                } else if (extension === \".svg\") {\n                    this.viewer.exportSVG(viewModel);\n                }\n            },\n            _initDialog: function() {\n                this.viewer._saveDialog = new kendo.pdfviewer.dialogs.ExportAsDialog({\n                    apply: this.apply.bind(this),\n                    pagesCount: (this.viewer.document && this.viewer.document.total) || 1,\n                    messages: this.viewer.options.messages\n                });\n                return this.viewer._saveDialog;\n            }\n        });\n\n        var EnableSelectionCommand = Command.extend({\n            exec: function() {\n                var that = this,\n                    viewer = that.viewer;\n\n                    viewer._toggleSelection(true);\n            }\n        });\n\n        var EnablePanCommand = Command.extend({\n            exec: function() {\n                var that = this,\n                    viewer = that.viewer;\n\n                    viewer._toggleSelection(false);\n            }\n        });\n\n        const OpenSearchCommand = Command.extend({\n            init: function(options) {\n                const that = this;\n\n                that.viewer = options.viewer;\n\n                if (!that.viewer.searchDialog) {\n                    that.viewer.searchDialog = new kendo.pdfviewer.dialogs.SearchDialog({\n                        pageContainer: that.viewer.pageContainerWrapper,\n                        position: {\n                            top: that.viewer.pageContainer.offset().top,\n                            left: that.viewer.pageContainer.offset().left\n                        },\n                        messages: that.viewer.options.messages.dialogs.search,\n                        open: that._open.bind(that),\n                        next: that._next.bind(that),\n                        prev: that._prev.bind(that),\n                        close: that._close.bind(that)\n                    });\n                }\n\n                Command.fn.init.call(that, options);\n            },\n            exec: function() {\n                const that = this;\n\n                that.viewer.searchDialog.open();\n            },\n            _open: function() {\n                const that = this;\n\n                if (!that.searchService) {\n                    Promise.all(that.viewer._loadAllPages()).then(() => {\n                        // Pages, On success, On error\n                        that.searchService = new kendo_pdfviewerCommon_cmn_chunk_js.S({\n                            textContainers: that.viewer.pageContainer.find('.k-text-layer').get() || []\n                        });\n\n                        that.changeHandler = that._change.bind(that);\n                        that.viewer.searchDialog.searchModel.bind(\"change\", that.changeHandler);\n                    });\n                }\n            },\n            _close: function() {\n                const that = this;\n                that.searchService.destroy();\n                that.searchService = null;\n                that.viewer.toolbar.element.find(\"[tabindex=0]\").trigger(\"focus\");\n                that.viewer.searchDialog.searchModel.unbind(\"change\", that.changeHandler);\n                that.matches = [];\n                that.matchIndex = null;\n                that._updateSearchModel();\n            },\n            _change: function(ev) {\n                const that = this,\n                    text = that.viewer.searchDialog.searchModel[\"searchText\"],\n                    matchCase = that.viewer.searchDialog.searchModel[\"matchCase\"];\n\n                if (ev.field === \"searchText\" || ev.field === \"matchCase\") {\n                    that.matches = that.searchService.search({ text: text, matchCase: matchCase });\n                    that.matchIndex = that.matches.length ? 1 : 0;\n                    that._updateSearchModel();\n                }\n            },\n            _next: function() {\n                const that = this,\n                    pdfScroller = that.viewer.pdfScroller;\n\n                kendo_pdfviewerCommon_cmn_chunk_js.g({ search: that.searchService, scroller: pdfScroller });\n                that.matchIndex = that.matchIndex + 1 > that.matches.length ? 1 : that.matchIndex + 1;\n                that._updateSearchModel();\n            },\n            _prev: function() {\n                const that = this,\n                    pdfScroller = that.viewer.pdfScroller;\n\n                kendo_pdfviewerCommon_cmn_chunk_js.a({ search: that.searchService, scroller: pdfScroller });\n                that.matchIndex = that.matchIndex - 1 < 1 ? that.matches.length : that.matchIndex - 1;\n                that._updateSearchModel();\n            },\n            _updateSearchModel: function() {\n                const that = this,\n                    model = that.viewer.searchDialog.searchModel;\n\n                if (that.matches && that.matches.length) {\n                    model.set(\"matches\", that.matches.length);\n                    model.set(\"matchIndex\", that.matchIndex);\n                } else {\n                    model.set(\"searchText\", \"\");\n                    model.set(\"matches\", 0);\n                    model.set(\"matchIndex\", 0);\n                }\n            },\n            _closeDialog: function() {\n                const that = this;\n                that.viewer.searchDialog.close();\n            }\n        });\n\n        var ZoomCommand = Command.extend({\n            exec: function() {\n                const that = this,\n                    options = that.options,\n                    viewer = that.viewer;\n                let scale = options.value || options.scale;\n\n                if (viewer.processingLib === \"dpl\") {\n                    return;\n                }\n\n                scale = that._calculateZoom();\n\n                if (!scale) {\n                    return;\n                }\n\n                viewer.zoomScale = scale;\n\n                viewer._setPageContainerScaleFactor(scale);\n\n                if (that.viewer.document) {\n                    kendo_pdfviewerCommon_cmn_chunk_js.r({\n                        pdfDoc: viewer.document,\n                        zoom: scale,\n                        dom: viewer.pageContainer[0],\n                        rootElement: viewer.element[0],\n                        loadOnDemand: true,\n                        done: (pdfPages) => {\n                            const currentPageIndex = kendo_pdfviewerCommon_cmn_chunk_js.c(viewer.element[0]);\n                            viewer._pageRenderPromise(pdfPages[currentPageIndex], true);\n                            that._triggerZoomEnd(scale);\n                        },\n                        error: (e) => {\n                            that._triggerZoomEnd(scale);\n                        }\n                    });\n                }\n            },\n\n            _calculateZoom: function() {\n                var options = this.options,\n                    viewer = this.viewer,\n                    viewerOptions = viewer.options,\n                    pageContainer = viewer.pageContainer,\n                    scale = options.value || options.scale,\n                    scaleValue = scale,\n                    preventZoom;\n\n                viewer._allowResize = false;\n                viewer._autoFit = false;\n\n                if (options.zoomIn) {\n                    scaleValue = scale = viewer.zoomScale + viewerOptions.zoomRate;\n                } else if (options.zoomOut) {\n                    scaleValue = scale = viewer.zoomScale - viewerOptions.zoomRate;\n                } else if (scale === \"auto\") {\n                    viewer._allowResize = true;\n                    scaleValue = viewer._autoZoomScale;\n                } else if (typeof scale === \"string\" && !kendo.parseFloat(scale)) {\n                    scaleValue = kendo_pdfviewerCommon_cmn_chunk_js.b(0, scale, viewer.zoomScale, pageContainer[0]);\n                } else if (scale && scale.toString().match(/^[0-9]+%?$/)) {\n                    scale = parseInt(scale.replace('%', ''), 10) / 100;\n                    scaleValue = scale;\n                } else {\n                    preventZoom = isNaN(scale);\n                }\n\n                if (!preventZoom) {\n                    preventZoom = scale < viewerOptions.zoomMin || scale > viewerOptions.zoomMax;\n                }\n\n                if (preventZoom || viewer.trigger(ZOOMSTART, { scale: scale })) {\n                    return;\n                }\n\n                if (options.updateComboBox && viewer.toolbar)\n                {\n                    viewer._updateZoomComboBox(scale);\n                }\n\n                return scaleValue;\n            },\n\n            _triggerZoomEnd: function(scale) {\n                var that = this,\n                    viewer = that.viewer;\n\n                viewer.trigger(ZOOMEND, { scale: scale });\n            }\n        });\n\n        var PrintCommand = Command.extend({\n            init: function(options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function() {\n                const that = this;\n\n                 if (!that.viewer.document) {\n                    that.viewer._triggerError({\n                        message: this.errorMessages.notFound\n                    });\n                    return;\n                }\n\n                progress(that.viewer.pageContainer, true);\n                Promise.all(that.viewer._loadAllPages()).then(() => {\n                    // Pages, On success, On error\n                    kendo_pdfviewerCommon_cmn_chunk_js.p(that.viewer.pages, that.onPrintComplete.bind(that), that.onPrintError.bind(that));\n                });\n            },\n            onPrintComplete: function() {\n                const that = this;\n                progress(that.viewer.pageContainer, false);\n            },\n            onPrintError: function() {\n                const that = this;\n                progress(that.viewer.pageContainer, false);\n\n                that.viewer._triggerError({\n                    message: that.errorMessages.popupBlocked\n                });\n            }\n        });\n\n        extend(kendo.pdfviewer, {\n            OpenCommand: OpenCommand,\n            PageChangeCommand: PageChangeCommand,\n            DownloadCommand: DownloadCommand,\n            EnableSelectionCommand: EnableSelectionCommand,\n            EnablePanCommand: EnablePanCommand,\n            ExportCommand: ExportCommand,\n            PrintCommand: PrintCommand,\n            OpenSearchCommand: OpenSearchCommand,\n            ZoomCommand: ZoomCommand\n        });\n\n    })(window.kendo.jQuery);\n\n    (function($, undefined$1) {\n        var kendo = window.kendo,\n            encode = kendo.htmlEncode,\n            extend = $.extend,\n            Class = kendo.Class,\n            Draggable = kendo.ui.Draggable,\n            outerWidth = kendo._outerWidth,\n            EXTENSIONS = {\n                svg: \".svg\",\n                png: \".png\"\n            },\n            keys = kendo.keys;\n\n        var ErrorDialog = Class.extend({\n            init: function(options) {\n                this.options = extend(options, {\n                    actions: [{\n                        text: options.messages.dialogs.okText\n                    }]\n                });\n                this._dialog = $(\"<div />\")\n                        .kendoDialog(this.options)\n                        .getKendoDialog();\n            },\n            open: function() {\n                this._dialog.center().open();\n            }\n        });\n\n        var ExportAsDialog = Class.extend({\n            init: function(options) {\n                this.options = extend(options, this.options, {\n                    fileFormats: [{\n                        description: options.messages.dialogs.exportAsDialog.png,\n                        extension: EXTENSIONS.png\n                    }, {\n                        description: options.messages.dialogs.exportAsDialog.svg,\n                        extension: EXTENSIONS.svg\n                    }],\n                    title: options.messages.dialogs.exportAsDialog.title,\n                    open: function() {\n                        this.center();\n                    }\n                });\n                this._initializeDialog();\n                return this;\n            },\n            options: {\n                extension: EXTENSIONS.png,\n                autoFocus: true,\n                resizable: false,\n                modal: {\n                    preventScroll: true\n                },\n                width: \"90%\",\n                maxWidth: 520,\n                template: ({ messages, total }) =>\n                    `<div class='k-edit-label'><label>${encode(messages.exportAsDialog.labels.fileName)}:</label></div>` +\n                    \"<div class='k-edit-field'>\" +\n                        \"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'><input class='k-input-inner' data-bind='value: name' /></span>\" +\n                    \"</div>\" +\n                    \"<div>\" +\n                        `<div class='k-edit-label'><label>${encode(messages.exportAsDialog.labels.saveAsType)}:</label></div>` +\n                        \"<div class='k-edit-field'>\" +\n                        \"<select data-role='dropdownlist' class='k-file-format' \" +\n                            \"data-text-field='description' \" +\n                            \"data-value-field='extension' \" +\n                            \"data-bind='value: extension, source: fileFormats'></select>\" +\n                        \"</div>\" +\n                    \"</div>\" +\n                    `<div class='k-edit-label'><label>${encode(messages.exportAsDialog.labels.page)}:</label></div>` +\n                    \"<div class='k-edit-field'>\" +\n                        `<input data-role='numerictextbox' data-format='n0' data-min='1' data-max='${encode(total)}' data-bind='value: page' />` +\n                    \"</div>\" +\n                    \"<div class='k-actions'>\" +\n                        `<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-primary' data-bind='click: apply'><span class='k-button-text'>${encode(messages.save)}</span></button>` +\n                        `<button class='k-button k-button-md k-rounded-md k-button-solid k-button-solid-base' data-bind='click: close'><span class='k-button-text'>${encode(messages.cancel)}</span></button>` +\n                    \"</div>\"\n            },\n            _updateModel: function(options) {\n                if (options.pagesCount) {\n                    this.viewModel.set(\"pagesCount\", options.pagesCount);\n                }\n                if (options.page) {\n                    this.viewModel.set(\"page\", options.page);\n                }\n            },\n            _initializeDialog: function() {\n                var that = this;\n                var options = that.options;\n                var dialogMessages = options.messages.dialogs;\n                var dialog = $(\"<div class='k-pdf-viewer-window k-action-window k-popup-edit-form' />\")\n                        .append(kendo.template(options.template)({\n                            total: options.pagesCount,\n                            messages: dialogMessages\n                        }))\n                        .kendoWindow(options)\n                        .getKendoWindow();\n\n                that.viewModel = kendo.observable({\n                    title: dialogMessages.exportAsDialog.title,\n                    name: dialogMessages.exportAsDialog.defaultFileName,\n                    extension: options.extension,\n                    fileFormats: options.fileFormats,\n                    pagesCount: options.pagesCount,\n                    page: 1,\n                    apply: that.apply.bind(this),\n                    close: function() {\n                        dialog.close();\n                    }\n                });\n\n                that._dialog = dialog;\n\n                kendo.bind(dialog.element, that.viewModel);\n                return dialog;\n            },\n            open: function() {\n                this._dialog.center().open();\n            },\n            apply: function() {\n                this._dialog.close();\n                this.options.apply({\n                    fileName: this.viewModel.name + this.viewModel.extension,\n                    extension: this.viewModel.extension,\n                    page: this.viewModel.page\n                });\n            }\n        });\n\n        var SearchDialog = Class.extend({\n            init: function(options) {\n                var that = this;\n                that.options = extend({}, options, that.options);\n            },\n            options: {\n                resizable: false,\n                template: ({ messages }) => '<div class=\"k-search-panel k-pos-sticky k-top-center\">' +\n                              `<button aria-label='${encode(messages.dragHandle)}' class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-search-dialog-draghandle'>${kendo.ui.icon({ icon: \"handle-drag\", iconClass: \"k-button-icon\" })}</button>` +\n                              \"<span class='k-textbox k-input k-input-md k-rounded-md k-input-solid'>\" +\n                                  `<input class='k-search-dialog-input k-input-inner' data-bind='value: boundValue, events: { keyup: onKeyup, input: onInput }' aria-label='${encode( messages.inputLabel)}' title='${encode(messages.inputLabel)}' />` +\n                                  `<span class='k-input-suffix'><button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button k-match-case-button k-match-case-button' data-bind='css: {k-selected: matchCase}, click: matchCaseClick' aria-label='${encode(messages.matchCase)}' title='${encode(messages.matchCase)}'>${kendo.ui.icon({ icon: \"convert-lowercase\", iconClass: \"k-button-icon\" })}</button></span>` +\n                              \"</span>\" +\n                              `<span class='k-search-matches'><span data-bind='text: matchIndex'></span> ${encode(messages.of)} <span data-bind='text: matches'></span></span>` +\n                              `<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: prev' aria-label='${encode(messages.previous)}' title='${encode(messages.previous)}'>${kendo.ui.icon({ icon: \"arrow-up\", iconClass: \"k-button-icon\" })}</button>` +\n                              `<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: next' aria-label='${encode(messages.next)}' title='${encode(messages.next)}'>${kendo.ui.icon({ icon: \"arrow-down\", iconClass: \"k-button-icon\" })}</button>` +\n                              `<button class='k-button k-button-md k-rounded-md k-button-flat k-button-flat-base k-icon-button' data-bind='click: close' aria-label='${encode(messages.close)}' title='${encode(messages.close)}'>${kendo.ui.icon({ icon: \"x\", iconClass: \"k-button-icon\" })}</button>` +\n                          \"</div>\"\n            },\n            open: function() {\n                var that = this;\n\n                if (!that.dialog) {\n                    that._initializeDialog();\n                }\n\n                that.options.open();\n                that._showSearchDialog();\n            },\n            close: function() {\n                var that = this;\n                that.options.close();\n                that._hideSearchDialog();\n            },\n            _showSearchDialog: function() {\n                var that = this;\n\n                that.dialog.css(\"left\",`${(that.options.pageContainer.innerWidth() / 2) - (outerWidth(that.dialog, true) / 2)}px`);\n\n                that.dialog.kendoStop().kendoAnimate({\n                    effects: { zoom: { direction: \"in\" }, fade: { direction: \"in\" } },\n                    duration: 350,\n                    complete: function(ev) {\n                        that.dialog.find(\".k-search-dialog-input\").trigger(\"focus\");\n                    }\n                });\n            },\n            _hideSearchDialog: function() {\n                var that = this;\n\n                that.dialog.kendoStop().kendoAnimate({\n                    effects: { zoom: { direction: \"out\", properties: { scale: 0.7 } }, fade: { direction: \"out\" } },\n                    duration: 350,\n                    hide: true\n                });\n            },\n            _initializeDialog: function() {\n                var that = this;\n                var template = kendo.template(that.options.template);\n                var dialogElm = $(template({\n                    messages: that.options.messages\n                }));\n\n                that.options.pageContainer.prepend(dialogElm);\n                that.dialog = dialogElm;\n\n                that._draggable = new Draggable(dialogElm, {\n                    filter: \".k-search-dialog-draghandle\",\n                    axis: \"x\",\n                    dragstart: function(e) {\n                        var wnd = that.dialog;\n                        var containment = that.options.pageContainer;\n\n                        wnd.startPosition = {\n                            left: e.x.client - kendo.getOffset(wnd, \"position\").left,\n                        };\n\n                        if (!containment) {\n                            return null;\n                        }\n\n                        containment._innerWidth = containment.innerWidth();\n\n                        if (parseInt(containment._innerWidth, 10) > containment[0].clientWidth) {\n                            containment._innerWidth -= kendo.support.scrollbar();\n                        }\n\n                        wnd.maxLeft = containment._innerWidth - outerWidth(wnd, true);\n                    },\n                    drag: function(e) {\n                        var wnd = that.dialog;\n                        var position = {};\n                        var left;\n\n                        left = e.x.client - wnd.startPosition.left;\n\n                        if (left && isNaN(left) && left.toString().indexOf(\"px\") < 0) {\n                            position.left = left;\n                        } else {\n                            position.left = Math.max(\n                                Math.min(parseInt(left, 10), parseInt(wnd.maxLeft, 10)),\n                                0\n                            );\n                        }\n\n                        wnd.css(position);\n                    },\n                });\n\n                that._draggable.userEvents.stopPropagation = false;\n\n                that.searchModel = kendo.observable({\n                    boundValue: \"\",\n                    searchText: \"\",\n                    matchCase: false,\n                    matchIndex: 0,\n                    matches: 0,\n                    matchCaseClick: function() {\n                        this.set(\"matchCase\", !this.matchCase);\n                    },\n                    next: that.options.next,\n                    prev: that.options.prev,\n                    close: function() {\n                        this.set(\"boundValue\", \"\");\n                        that.close();\n                    },\n                    onKeyup: function(ev) {\n                        var key = ev.keyCode;\n                        var navigationFn = ev.shiftKey ? this.prev : this.next;\n\n                        if (key === keys.ENTER) {\n                            navigationFn();\n                            ev.preventDefault();\n                        } else if (key == keys.ESC) {\n                            this.close();\n                        }\n                    },\n                    onInput: function(ev) {\n                        this.set(\"searchText\", ev.target.value);\n                    }\n                });\n\n                kendo.bind(dialogElm, that.searchModel);\n            }\n        });\n\n        extend(kendo.pdfviewer, {\n            dialogs: {\n                ErrorDialog: ErrorDialog,\n                ExportAsDialog: ExportAsDialog,\n                SearchDialog: SearchDialog\n            }\n        });\n    })(window.kendo.jQuery);\n\n    const __meta__ = {\n        id: \"pdfviewer\",\n        name: \"PDFViewer\",\n        category: \"web\",\n        description: \"PDFViewer to display pdfs in the browser\",\n        depends: [\"core\", \"window\", \"dialog\", \"toolbar\", \"draganddrop\", \"upload\", \"combobox\", \"drawing\", \"binder\", \"dropdownlist\", \"numerictextbox\", \"textbox\", \"pager\", \"pdfviewer-common.cmn.chunk\"]\n    };\n\n    (function($, undefined$1) {\n        var NS = \".kendoPDFViewer\",\n            kendo = window.kendo,\n            ui = kendo.ui,\n            extend = $.extend,\n            drawing = kendo.drawing,\n            keys = $.extend({ PLUS: 187, MINUS: 189, ZERO: 48, NUMPAD_ZERO: 96 }, kendo.keys),\n            Page,\n            BlankPage = kendo.pdfviewer.BlankPage,\n            Widget = ui.Widget,\n            progress = kendo.ui.progress,\n            SCROLL = \"scroll\",\n            RENDER = \"render\",\n            OPEN = \"open\",\n            ERROR = \"error\",\n            KEYDOWN = \"keydown\" + NS,\n            MOUSEWHEEL = \"DOMMouseScroll\" + NS + \" mousewheel\" + NS,\n            UPDATE = \"update\",\n            PAGE_CHANGE = \"pagechange\",\n            ZOOMSTART = \"zoomStart\",\n            ZOOMEND = \"zoomEnd\",\n            ZOOMCOMMAND = \"ZoomCommand\",\n            WHITECOLOR = \"#ffffff\",\n            TABINDEX = \"tabindex\",\n            CLICK = \"click\",\n            CHANGE = \"change\",\n            TOGGLE = \"toggle\",\n            DISABLED = 'k-disabled',\n            PROCESSORS = {\n                pdfjs: \"pdfjs\",\n                dpl: \"dpl\"\n            },\n            styles = {\n                viewer: \"k-pdf-viewer\",\n                scroller: \"k-canvas k-pdf-viewer-canvas k-pos-relative k-overflow-auto\",\n                enableTextSelection: \"k-enable-text-select\",\n                enablePanning: \"k-enable-panning\",\n                highlightClass: \"k-search-highlight\",\n                highlightMarkClass: \"k-search-highlight-mark\",\n                charClass: \"k-text-char\"\n            },\n            PREDEFINED_ZOOM_VALUES = {\n                auto: \"auto\",\n                actual: \"ActualWidth\",\n                fitToWidth: \"FitToWidth\",\n                fitToPage: \"FitToPage\"\n            };\n\n        var PDFViewer = Widget.extend({\n            init: function(element, options) {\n                var that = this;\n\n                Widget.fn.init.call(that, element, kendo.deepExtend({}, this.options, options));\n\n                that._processMessages();\n\n                that._wrapper();\n\n                if (that.options.toolbar) {\n                    that._renderToolbar();\n                }\n\n                that._initProcessor(options || {});\n                that._renderPageContainer();\n\n                if (that._isDPLProcessor()) {\n                    that._loadDPLDocument();\n                } else {\n                    that._loadPdfJSDocument();\n                }\n\n                kendo.notify(that, kendo.ui);\n\n                if (that._showWatermarkOverlay) {\n                    that._showWatermarkOverlay(that.wrapper[0]);\n                }\n            },\n\n            events: [\n                RENDER,\n                OPEN,\n                ERROR,\n                ZOOMSTART,\n                ZOOMEND\n            ],\n\n            options: {\n                name: \"PDFViewer\",\n                view: {\n                    type: \"canvas\"\n                },\n                pdfjsProcessing: {\n                    file: null,\n                    loadOnDemand: true\n                },\n                dplProcessing: {\n                    read: {\n                        url: null,\n                        type: \"GET\",\n                        dataType: \"json\",\n                        pageField: \"pageNumber\"\n                    },\n                    upload: {\n                        url: null,\n                        saveField: \"file\"\n                    },\n                    download: {\n                        url: null\n                    },\n                    loadOnDemand: false\n                },\n                toolbar: {\n                    items: []\n                },\n                width: 1000,\n                height: 1200,\n                page: 1,\n                defaultPageSize: {\n                    width: 794,\n                    height: 1123\n                },\n                scale: null,\n                zoomMin: 0.5,\n                zoomMax: 4,\n                zoomRate: 0.25,\n                messages: {\n                    defaultFileName: \"Document\",\n                    toolbar: {\n                        zoom: {\n                            zoomLevel: \"zoom level\",\n                            zoomOut: \"Zoom Out\",\n                            zoomIn: \"Zoom In\",\n                            actualWidth: \"Actual Width\",\n                            autoWidth: \"Automatic Width\",\n                            fitToWidth: \"Fit to Width\",\n                            fitToPage: \"Fit to Page\"\n                        },\n                        open: \"Open\",\n                        exportAs: \"Export\",\n                        download: \"Download\",\n                        print: \"Print\",\n                        toggleSelection: \"Enable Selection\",\n                        togglePan: \"Enable Panning\",\n                        search: \"Search\"\n                    },\n                    errorMessages: {\n                        notSupported: \"Only pdf files allowed.\",\n                        parseError: \"PDF file fails to process.\",\n                        notFound: \"File is not found.\",\n                        popupBlocked: \"Popup is blocked.\"\n                    },\n                    dialogs: {\n                        exportAsDialog: {\n                            title: \"Export...\",\n                            defaultFileName: \"Document\",\n                            pdf: \"Portable Document Format (.pdf)\",\n                            png: \"Portable Network Graphics (.png)\",\n                            svg: \"Scalable Vector Graphics (.svg)\",\n                            labels: {\n                                fileName: \"File name\",\n                                saveAsType: \"Save as\",\n                                page: \"Page\"\n                            }\n                        },\n                        okText: \"OK\",\n                        save: \"Save\",\n                        cancel: \"Cancel\",\n                        search: {\n                            inputLabel: \"Search Text\",\n                            matchCase: \"Match Case\",\n                            next: \"Next Match\",\n                            previous: \"Previous Match\",\n                            close: \"Close\",\n                            of: \"of\",\n                            dragHandle: \"Drag search\"\n                        }\n                    }\n                }\n            },\n\n            defaultTools: {\n                pager: {\n                    type: \"component\",\n                    name: \"pager\",\n                    overflow: \"never\",\n                    component: \"Pager\",\n                    element: '<div></div>',\n                    componentOptions: {\n                        navigatable: true,\n                        _isToolbarItem: true,\n                    }\n                },\n                spacer: { type: \"spacer\" },\n                zoomInOut: {\n                    type: \"buttonGroup\",\n                    fillMode: \"flat\",\n                    buttons: [\n                        { type: \"button\", icon: \"zoom-out\", name: \"zoomOut\", command: \"ZoomCommand\", showText: \"overflow\", options: \"{ \\\"zoomOut\\\": true, \\\"updateComboBox\\\": true }\", fillMode: \"flat\" },\n                        { type: \"button\", icon: \"zoom-in\", name: \"zoomIn\", command: \"ZoomCommand\", showText: \"overflow\", options: \"{ \\\"zoomIn\\\": true, \\\"updateComboBox\\\": true }\", fillMode: \"flat\" },\n                    ]\n                },\n                zoom: {\n                    type: \"component\",\n                    name: \"zoom\",\n                    command: \"ZoomCommand\",\n                    overflow: \"never\",\n                    component: \"ComboBox\",\n                    data: [50, 100, 150, 200, 300, 400],\n                    componentOptions: {\n                        enable: false,\n                        dataTextField: \"text\",\n                        dataValueField: \"percent\",\n                        valuePrimitive: true,\n                        clearOnEscape: false,\n                        commandOn: \"change\",\n                        fillMode: 'flat',\n                    }\n                },\n                toggleSelection: {\n                    type: \"buttonGroup\",\n                    fillMode: \"flat\",\n                    buttons: [\n                        {\n                            togglable: true,\n                            command: \"EnableSelectionCommand\",\n                            icon: \"pointer\",\n                            showText: \"overflow\",\n                            name: \"toggleSelection\",\n                            group: \"toggle-pan\",\n                            fillMode: \"flat\"\n                        }, {\n                            togglable: true,\n                            command: \"EnablePanCommand\",\n                            icon: \"hand\",\n                            showText: \"overflow\",\n                            name: \"togglePan\",\n                            group: \"toggle-pan\",\n                            selected: true,\n                            fillMode: \"flat\"\n                        }\n                    ]\n                },\n                spacer2: { type: \"spacer\" },\n                search: {\n                    type: \"button\",\n                    command: \"OpenSearchCommand\",\n                    icon: \"search\",\n                    name: \"search\",\n                    showText: \"overflow\",\n                    enable: false,\n                    fillMode: \"flat\"\n                },\n                open: {\n                    type: \"button\",\n                    showText: \"overflow\",\n                    name: \"open\",\n                    icon: \"folder-open\",\n                    command: \"OpenCommand\",\n                    fillMode: \"flat\"\n                },\n                download: {\n                    type: \"button\",\n                    showText: \"overflow\",\n                    name: \"download\",\n                    icon: \"download\",\n                    command: \"DownloadCommand\",\n                    enable: false,\n                    fillMode: \"flat\"\n                },\n                print: {\n                    type: \"button\",\n                    showText: \"overflow\",\n                    name: \"print\",\n                    icon: \"print\",\n                    command: \"PrintCommand\",\n                    enable: false,\n                    fillMode: \"flat\"\n                }\n            },\n\n            exportAsTool: {\n                exportAs: { type: \"button\", showText: \"overflow\", name: \"exportAs\", icon: \"image-export\", command: \"ExportCommand\", fillMode: \"flat\" }\n            },\n\n\n            _processMessages: function() {\n                var messages = this.options.messages.toolbar,\n                    zoom = messages.zoom;\n\n                if ($.isPlainObject(zoom)) {\n                    this.options.messages.toolbar = $.extend({}, this.options.messages.toolbar, zoom);\n                    this.options.messages.toolbar.zoom = zoom.zoomLevel || this.options.messages.toolbar.zoom;\n                }\n            },\n\n            _wrapper: function() {\n                var that = this,\n                    options = that.options;\n\n                that.wrapper = that.element;\n\n                that.wrapper\n                        .width(options.width)\n                        .height(options.height)\n                        .addClass(styles.viewer)\n                        .on(KEYDOWN, that._keydown.bind(that));\n\n                that._allowResize = that.options.scale === null;\n                that._autoZoomScale = kendo_pdfviewerCommon_cmn_chunk_js.D;\n                that.zoomScale = that.options.scale || that._autoZoomScale;\n\n                that._resizeHandler = kendo.onResize(function() {\n                    that.resize();\n                });\n\n                that._pageNum = that.options.page;\n            },\n\n            _keydown: function(e) {\n                var plusShortcuts = [keys.PLUS, keys.NUMPAD_PLUS],\n                    minusShortcuts = [keys.MINUS, keys.NUMPAD_MINUS],\n                    zeroShortcuts = [keys.ZERO, keys.NUMPAD_ZERO],\n                    shouldExecute = false,\n                    args = {\n                        command: ZOOMCOMMAND,\n                        options: { updateComboBox: true }\n                    };\n\n                if (!e.ctrlKey || this._blankPage || this.processingLib === PROCESSORS.dpl) {\n                    return;\n                }\n\n                if (plusShortcuts.includes(e.keyCode)) {\n                    args.options.zoomIn = true;\n                    shouldExecute = true;\n                } else if (minusShortcuts.includes(e.keyCode)) {\n                    args.options.zoomOut = true;\n                    shouldExecute = true;\n                } else if (zeroShortcuts.includes(e.keyCode)) {\n                    args.options.value = kendo_pdfviewerCommon_cmn_chunk_js.D;\n                    shouldExecute = true;\n                }\n\n                if (shouldExecute) {\n                    this.execute(args);\n                    e.preventDefault();\n                }\n            },\n\n            _handlePageChangeEvent: function(event) {\n                const that = this;\n\n                if (!that._pageChangeFromScroll) {\n                    this.activatePage(event.index, false);\n                    that._showPagerInputLabels();\n                }\n\n                delete that._pageChangeFromScroll;\n            },\n\n            _showPagerInputLabels: function() {\n                const that = this;\n                const inputElements = that.pager.element.find(\".k-pager-input\").children();\n                if (inputElements) {\n                    const labels = inputElements.eq(0).add(inputElements.eq(2));\n\n                    if (!$(labels).is(\":visible\")) {\n                        labels.show();\n                    }\n                }\n            },\n\n            _resizePager: function() {\n                const that = this;\n\n                if (!that.pager || !that.pager.options.responsive) {\n                    return;\n                }\n\n                const pagerWidth = kendo._outerWidth(that.pager.element);\n                const visibleToolbarItems = Array.from(that.toolbar.element.children(':not(.k-hidden):not(:has(.k-pager))'));\n                const containerWidth = kendo._outerWidth(that.element);\n\n                let visibleToolsWidth = 0;\n\n                const pattern = /(em|ex|%|px|cm|mm|in|pt|pc|ch|rem|vh|vw|vmin|vmax)$/;\n                const gap = Number(that.toolbar.element.css(\"gap\").replace(pattern,''));\n\n                if (visibleToolbarItems.length > 0) {\n                    let temp = 0;\n                    for (let i = 0; i < visibleToolbarItems.length; i++) {\n                        temp += kendo._outerWidth(visibleToolbarItems[i]) + gap;\n                    }\n                    if (temp) {\n                        visibleToolsWidth = temp;\n                    }\n                }\n\n                const elementsToShrink = that.pager.element.find(\".k-pager-nav\");\n\n                if ((pagerWidth + visibleToolsWidth + gap) > containerWidth) {\n\n                    for (var i = elementsToShrink.length - 1; i >= 0; i--) {\n                        const element = elementsToShrink.eq(i);\n                            element.addClass(\"k-hidden\");\n                    }\n                }\n\n                if ((pagerWidth + visibleToolsWidth + gap) < containerWidth) {\n                    const hidden = that.pager.element.find(\".k-hidden\");\n\n                    for (var i = 0; i < hidden.length; i++) {\n                        const hiddenElement = hidden.eq(i);\n\n                        hiddenElement.removeClass('k-hidden');\n                    }\n                }\n\n                if (that.pager.options.input) {\n                    that._showPagerInputLabels();\n                }\n            },\n\n            _initProcessor: function(options) {\n                var that = this,\n                    processingOptions;\n\n                processingOptions = options.dplProcessing ? that.options.dplProcessing : that.options.pdfjsProcessing;\n                that.processingLib = options.dplProcessing ? PROCESSORS.dpl : PROCESSORS.pdfjs;\n\n                if (that._isDPLProcessor()) {\n                    that.processor = new kendo.pdfviewer[that.processingLib].processor(processingOptions, that);\n                    Page = kendo.pdfviewer[that.processingLib].Page;\n                } else {\n                    isLoaded();\n                }\n            },\n\n            _isDPLProcessor: function() {\n                return this.processingLib === PROCESSORS.dpl;\n            },\n\n            _hasPagerTool: function(tools) {\n                let hasPager = false;\n                let index;\n\n                for (let i = 0; i < tools.length; i++) {\n                    const tool = tools[i];\n                    if (typeof tool === 'string') {\n                        hasPager = tool.toLowerCase() === 'pager';\n                        index = i;\n                    } else {\n                        if (tool.type) {\n                            hasPager = tool.type.toLowerCase() === 'pager';\n                            index = i;\n                        } else if (tool.name) {\n                            hasPager = tool.name.toLowerCase() === 'pager';\n                            if (hasPager) {\n                                delete tool.name;\n                            }\n                            index = i;\n                        }\n                    }\n\n                    if (hasPager) {\n                        break;\n                    }\n                }\n\n                return {\n                    hasPager,\n                    index\n                };\n            },\n\n            _renderToolbar: function() {\n                var that = this,\n                    options = that.options,\n                    toolbarOptions = extend({}, options.toolbar),\n                    tools = toolbarOptions.items && toolbarOptions.items.length ? toolbarOptions.items : Object.keys(that.defaultTools);\n\n\n                const { hasPager, index } = that._hasPagerTool(tools);\n\n\n                tools = that._processTools(tools);\n\n                if (hasPager) {\n                    let pagerMessages = that.options.messages.toolbar.pager;\n\n                    if (pagerMessages) {\n                        if (pagerMessages.of) {\n                            pagerMessages.of = `${pagerMessages.of} {0}`;\n                            if (pagerMessages.pages) {\n                                pagerMessages.of = pagerMessages.of + ' ' + pagerMessages.pages;\n                                delete pagerMessages.pages;\n                            }\n                        }\n                    }\n                    that.defaultTools.pager.componentOptions.messages = pagerMessages;\n                    options.messages.toolbar.pager = \"Pager\";\n\n                    const currentPagerOptions = that.defaultTools.pager.componentOptions;\n                    if (typeof tools[index] !== 'string') {\n                        that.defaultTools.pager.componentOptions = $.extend(tools[index], currentPagerOptions);\n\n                        tools[index] = that.defaultTools.pager;\n                    }\n                }\n\n                toolbarOptions = {\n                    defaultTools: $.extend({}, that.defaultTools, that.exportAsTool),\n                    parentMessages: options.messages.toolbar,\n                    tools: tools,\n                    resizable: true,\n                    fillMode: 'flat'\n                };\n\n                var toolbarElement = $(\"<div />\");\n\n                toolbarElement.appendTo(that.element);\n                that.toolbar = new kendo.ui.ToolBar(toolbarElement, toolbarOptions);\n                that.options.toolbar = that.toolbar.options;\n\n                that.toolbar.bind(TOGGLE, that._toolbarClick.bind(that));\n                that.toolbar.bind(CLICK, that._toolbarClick.bind(that));\n                that.toolbar.bind(CHANGE, that._toolbarClick.bind(that));\n\n                if (hasPager) {\n                    that.pager = that.toolbar.element.find('.k-pager');\n                    if (that.pager.length > 0) {\n                        that.pager = that.pager.data('kendoPager');\n                    }\n                    that.pager.bind(CHANGE, that._handlePageChangeEvent.bind(that));\n                }\n\n                that.bind({\n                    update: that._updateToolbar.bind(that)\n                });\n\n                return that.toolbar;\n            },\n\n            _processTools: function(tools) {\n                var that = this,\n                    messages = that.options.messages.toolbar;\n\n                tools = tools.flatMap(t => {\n                    if (t === \"zoom\") {\n                        t = that.defaultTools.zoom;\n                    }\n\n                    if (t.name === \"zoom\") {\n                        t = $.extend({}, that.defaultTools.zoom, t);\n\n                        var zoomLevels = [{\n                            percent: PREDEFINED_ZOOM_VALUES.auto,\n                            text: messages.autoWidth\n                        }, {\n                            percent: PREDEFINED_ZOOM_VALUES.actual,\n                            text: messages.actualWidth\n                        }, {\n                            percent: PREDEFINED_ZOOM_VALUES.fitToWidth,\n                            text: messages.fitToWidth\n                        }, {\n                            percent: PREDEFINED_ZOOM_VALUES.fitToPage,\n                            text: messages.fitToPage\n                        }];\n\n                        // eslint-disable-next-line\n                        var comboOptions = t.data.map(i => { return { percent: i, text: i + \"%\" } });\n                        var value = that.options.scale ? that.options.scale * 100 + \"%\" : \"auto\";\n\n                        zoomLevels = zoomLevels.concat(comboOptions);\n                        t.componentOptions.dataSource = zoomLevels;\n                        t.componentOptions.value = value;\n                    }\n\n                    return t;\n                });\n\n                return tools;\n            },\n\n            _updateToolbar: function(e) {\n                var pageOptions = {\n                        page: e.page || 1,\n                        total: e.total || 1\n                    },\n                    toolbar = this.toolbar,\n                    toolbarEl = toolbar.element,\n                    zoomCombo = toolbarEl.find(\"[data-command=ZoomCommand][data-role=combobox]\").data(\"kendoComboBox\"),\n                    toFocus = toolbarEl.find(\".k-focus\");\n\n                if (toFocus.length === 0) {\n                    toFocus = toolbarEl.find(\"[tabindex=0]\").first();\n\n                    if (toFocus.length === 0) {\n                        toFocus = toolbar._getAllItems().first();\n                    }\n                }\n\n                if (zoomCombo) {\n                    zoomCombo.enable(!e.isBlank);\n                    if (e.action === \"zoom\") {\n                        this._updateZoomComboBox(e.zoom);\n                    }\n                }\n\n                if (((e.action === \"pagechange\" && e.updatePager !== false) || e.isBlank) && this.pager) {\n                    if (e.updatePager) {\n                        pageOptions.updatePager = true;\n                    }\n\n                    if (e.pageChangeFromScroll) {\n                        pageOptions.pageChangeFromScroll = true;\n                    }\n\n                    this._updatePager(pageOptions);\n                }\n\n                this._updateOnBlank(e.isBlank);\n\n                toolbar._resetTabIndex(toFocus);\n            },\n\n            _updateOnBlank: function(isBlank) {\n                var toolbar = this.toolbar,\n                    toolbarEl = toolbar.element;\n\n                toolbar.enable(toolbarEl.find(\"[data-command=EnableSelectionCommand]\").parent(), !isBlank);\n                toolbar.enable(toolbarEl.find(\"[data-command=ZoomCommand][role=button]\").parent(), !isBlank);\n\n                toolbar.enable(toolbarEl.find(\"[data-command='OpenSearchCommand']\"), !isBlank);\n                toolbar.enable(toolbarEl.find(\"[data-command='DownloadCommand']\"), !isBlank);\n                toolbar.enable(toolbarEl.find(\"[data-command='PrintCommand']\"), !isBlank);\n            },\n\n            _updatePager: function(options) {\n                const that = this;\n                if (options.updatePager) {\n                    const isDPLProcessed = that.processingLib === 'dpl';\n\n                    const data = isDPLProcessed ? (that.document && that.document.pages ? that.document.pages : []) : that.pages ?? [];\n\n                    const pagerDataSource = new kendo.data.DataSource({\n                    data: data ?? [],\n                    pageSize: 1\n                });\n                    that.pager.setDataSource(pagerDataSource);\n                    that._resizePager();\n                } else {\n                    const current = that.pager.page();\n\n                    if (current !== options.page) {\n                        if (options.pageChangeFromScroll) {\n                            that._pageChangeFromScroll = true;\n                        }\n                        that.pager.page(options.page);\n                    }\n                }\n                that._showPagerInputLabels();\n                that._togglePagerDisabledClass();\n            },\n\n            _togglePagerDisabledClass: function() {\n                const that = this;\n                const pager = that.pager;\n\n                if (pager.totalPages() <= 1 ) {\n                    pager.element.addClass(DISABLED);\n                } else if (pager.element.hasClass(DISABLED)) {\n                    pager.element.removeClass(DISABLED);\n                }\n            },\n\n            _updateZoomComboBox: function(value) {\n                var isPredefined = value === PREDEFINED_ZOOM_VALUES.auto ||\n                    value === PREDEFINED_ZOOM_VALUES.actual ||\n                    value === PREDEFINED_ZOOM_VALUES.fitToPage ||\n                    value === PREDEFINED_ZOOM_VALUES.fitToWidth,\n                    zoomCombo = this.toolbar.element.find(\"[data-command=ZoomCommand][data-role=combobox]\").data(\"kendoComboBox\");\n\n                if (!isPredefined) {\n                    value = Math.round(value * 100) + '%';\n                }\n\n                if (zoomCombo) {\n                    zoomCombo.value(value);\n                }\n            },\n\n            _toolbarClick: function(ev) {\n                let target = $(ev.target),\n                    command = target.data(\"command\"),\n                    options = target.data(\"options\");\n\n                if (!command && !options) {\n                    target = $(ev.currentTarget);\n                    command = target.data(\"command\");\n                    options = target.data(\"options\");\n                }\n\n                options = extend({}, { value: target.val() }, options);\n\n                if (!command) {\n                    return;\n                }\n\n                this.execute({\n                    command: command,\n                    options: options\n                });\n            },\n\n            _initErrorDialog: function(options) {\n                var that = this;\n\n                if (!that._errorDialog) {\n                    options = extend(options, {\n                        messages: that.options.messages\n                    });\n                    var dialogInstance = new kendo.pdfviewer.dialogs.ErrorDialog(options);\n                    that._errorDialog = dialogInstance._dialog;\n                }\n                return that._errorDialog;\n            },\n\n            _renderPageContainer: function() {\n                var that = this;\n\n                if (!that.pageContainer) {\n                    that.pageContainerWrapper = $(\"<div />\");\n                    that.pageContainerWrapper.addClass(styles.scroller);\n\n                    that.pageContainer = $(`<div class=\"k-pdf-viewer-pages\" />`);\n                    that.pageContainer[0].style.setProperty(\"--scale-factor\", that.zoomScale);\n                    that.pageContainer.attr(TABINDEX, 0);\n\n                    that.pageContainerWrapper.append(that.pageContainer);\n                    that.wrapper.append(that.pageContainerWrapper);\n                }\n            },\n\n            _setPageContainerScaleFactor(scale) {\n                var that = this;\n\n                if (that.pageContainer) {\n                    that.pageContainer[0].style.setProperty(\"--scale-factor\", scale);\n                }\n            },\n\n            _triggerError: function(options) {\n                var dialog = this._initErrorDialog();\n                extend(options, {\n                    dialog: dialog\n                });\n                if (this.pageContainer) {\n                    progress(this.pageContainer, false);\n                }\n\n                if (this.trigger(ERROR, options))\n                {\n                    return;\n                }\n\n                dialog.open().content(options.message);\n            },\n\n            _renderPages: function() {\n                var that = this,\n                    document = that.document,\n                    pagesData;\n\n                that.pages = [];\n\n                if (!document || !document.total) {\n                    that._renderBlankPage();\n                    return;\n                }\n\n                pagesData = document.pages;\n\n                for (var i = 1; i <= document.total; i++) {\n                    var viewerPage,\n                        pageData = {\n                            processor: that.processor,\n                            number: i\n                        };\n\n                    if (pagesData && pagesData.length) {\n                        pageData = extend(pageData, pagesData[i - 1]);\n                    }\n\n                    viewerPage = new Page(pageData, that);\n                    that.pages.push(viewerPage);\n                    that.pageContainer.append(viewerPage.element);\n                }\n\n                that._attachContainerEvents();\n                that._getVisiblePagesCount();\n                that._updatePager({ updatePager: true });\n            },\n\n            _renderBlankPage: function() {\n                this._blankPage = new BlankPage(this.options.defaultPageSize, this);\n\n                this.pageContainer.append(this._blankPage.element);\n\n                this._blankPage._initUpload();\n                this.trigger(UPDATE, { isBlank: true });\n            },\n\n            _resize: function() {\n                var that = this,\n                    containerWidth,\n                    ratio;\n\n                if (!that._allowResize) {\n                    return;\n                }\n\n                if (!that.pages || !that.pages.length) {\n                    if (that._blankPage) {\n                        ratio = containerWidth / that._blankPage.element.width();\n                        that._blankPage.resize(ratio);\n                    }\n                    return;\n                }\n\n                if (that.toolbar) {\n                    that.toolbar.resize(true);\n                }\n\n\n                if (that._resizeHandler) {\n                    clearTimeout(that._resizeHandler);\n                }\n                that._resizeHandler = setTimeout(that._resizePages.bind(that), 100);\n            },\n\n            _resizePages: function() {\n                const that = this,\n                    containerWidth = that.pageContainer[0].clientWidth;\n                let ratio = 0;\n\n                that.pages.forEach(function(page) {\n                    const pageWidth = page.element ? page.element.width() : $(page._pageInfo.emptyPage.pageElement).width();\n                    const currentRatio = containerWidth / pageWidth;\n\n                    if (currentRatio > ratio) {\n                        ratio = currentRatio;\n                    }\n                });\n\n\n                if (that._autoFit) {\n                    that.zoom(that._autoFit, true);\n                    return;\n                }\n\n                ratio = Math.min(Math.max(ratio, that.options.zoomMin), kendo_pdfviewerCommon_cmn_chunk_js.D);\n                if (ratio != that.zoomScale) {\n                    that.zoom(ratio, true);\n                    that.zoomScale = ratio;\n                    that._allowResize = true;\n                }\n\n                if (that.pager && that.pager.element) {\n                    that._resizePager();\n                }\n            },\n\n            _attachContainerEvents: function() {\n                var that = this;\n\n                that._wheel = kendo.throttle(\n                    that._wheel.bind(that),\n                    300\n                );\n\n                if (that.processingLib !== PROCESSORS.dpl) {\n                    that.pageContainer.on(MOUSEWHEEL, function(e) {\n                        if (!e.ctrlKey) {\n                            return;\n                        }\n\n                        if (document.activeElement !== that.pageContainer[0]) {\n                            that.pageContainer.trigger(\"focus\");\n                        }\n\n                        that._wheel(e);\n                        e.preventDefault();\n                    });\n                }\n\n                that.pageContainer.addClass(styles.enablePanning);\n                if (that._isDPLProcessor()) {\n                    that.pageContainerWrapper.bind(SCROLL, that._scroll.bind(that));\n                } else {\n                    that.pageContainerWrapper.bind(SCROLL, that._onDemandScroll.bind(that));\n                }\n            },\n\n            _scroll: function(e) {\n                var that = this,\n                    containerHeight = that.pageContainerWrapper.height(),\n                    total = that.pages.length,\n                    pageNum = that._pageNum,\n                    pageIndex = pageNum - 1,\n                    pageToLoadNum = pageNum,\n                    pageToLoad,\n                    currentPage$1;\n\n                    if (that._preventScroll || !total) {\n                        that._preventScroll = false;\n                        return;\n                    }\n\n                    that._scrollingStarted = true;\n                    const nextPageIndex = kendo_pdfviewerCommon_cmn_chunk_js.c(that.element[0]);\n                    currentPage$1 = that.pages[pageIndex];\n                    pageToLoadNum = pageNum + nextPageIndex - pageIndex;\n\n                    if (pageNum !== pageToLoadNum && pageToLoadNum >= 1 && pageToLoadNum <= total) {\n                        pageToLoad = that.pages[pageToLoadNum - 1].element;\n\n                        if (pageToLoad.offset().top > containerHeight) {\n                            return;\n                        }\n\n                        that._pageNum = pageToLoadNum;\n                        that._loadVisiblePages();\n\n                        that.trigger(UPDATE, { action: PAGE_CHANGE, page: pageToLoadNum, total: total, pageChangeFromScroll: true });\n                    }\n            },\n\n            _onDemandScroll: function(e) {\n                const that = this,\n                    currentPageIndex = kendo_pdfviewerCommon_cmn_chunk_js.c(that.element[0]) + 1;\n\n                // Render the current and surrounding pages if they have not been rendered already.\n                // We are using +1/-1 twice because the loadPage method treats the parameter as a page number, not page index.\n                that.loadPage(currentPageIndex);\n                that.loadPage(currentPageIndex + 1);\n                that.loadPage(currentPageIndex - 1);\n\n                that.trigger(UPDATE, { action: PAGE_CHANGE, page: currentPageIndex, total: that.pages.length, pageChangeFromScroll: true });\n            },\n\n            _wheel: function(e) {\n                var originalEvent = e.originalEvent,\n                    delta = originalEvent.wheelDelta ? -originalEvent.wheelDelta : originalEvent.detail,\n                    zoomIn = delta < 0;\n\n                this.execute({\n                    command: ZOOMCOMMAND,\n                    options: {\n                        zoomIn: zoomIn,\n                        zoomOut: !zoomIn,\n                        updateComboBox: true\n                    }\n                });\n\n                e.preventDefault();\n            },\n\n            zoom: function(scale, preventComboBoxChange) {\n                var that = this;\n                if (!scale) {\n                    return that.zoomScale;\n                }\n\n                return that.execute({\n                    command: ZOOMCOMMAND,\n                    options: {\n                        value: scale,\n                        updateComboBox: !preventComboBoxChange\n                    }\n                });\n            },\n\n            execute: function(options) {\n                var commandOptions = extend({ viewer: this }, options.options);\n                var command = new kendo.pdfviewer[options.command](commandOptions);\n                return command.exec();\n            },\n\n            _loadDPLDocument: function() {\n                var that = this;\n                var page = that.options.page;\n\n                progress(that.pageContainer, true);\n                that.processor.fetchDocument().done(function(document) {\n                    that._clearPages();\n                    that.document = document;\n\n                    that._renderPages();\n                    that.resize(true);\n                    if (document) {\n                        page = page >= 1 && page <= document.total ? page : 1;\n                        that.activatePage(page, true);\n                    }\n\n                    if (that.pdfScroller) {\n                        that.pdfScroller.destroy();\n                    }\n\n                    that.pdfScroller = new kendo_pdfviewerCommon_cmn_chunk_js.e(that.pageContainer[0].parentNode, {\n                        filter: '.k-page',\n                        events: {}\n                    });\n\n                    that.pdfScroller.enablePanEventsTracking();\n\n                    progress(that.pageContainer, false);\n                });\n            },\n\n            _loadPdfJSDocument: function(data) {\n                const that = this;\n                const options = that.options;\n                const page = options.page;\n                let file;\n\n                if (data) {\n                    file = data;\n                } else {\n                    file = options.pdfjsProcessing.file;\n                }\n\n                if (!file) {\n                    that._renderBlankPage();\n                    return;\n                }\n\n                if (typeof file === \"string\") {\n                    file = {\n                        url: file\n                    };\n                } else if (file instanceof ArrayBuffer) {\n                    file = {\n                        arrayBuffer: file\n                    };\n                }\n\n                progress(that.pageContainer, true);\n                kendo_pdfviewerCommon_cmn_chunk_js.l($.extend({}, {\n                    rootElement: that.element[0],\n                    dom: that.pageContainer[0],\n                    zoom: that.zoomScale,\n                    loadOnDemandPageSize: 1,\n                    done: (e) => {\n                        that.document = e.pdfDoc;\n                        that.pages = e.pdfPages;\n\n                        if (that.pdfScroller) {\n                            that.pdfScroller.destroy();\n                        }\n\n                        that.pdfScroller = new kendo_pdfviewerCommon_cmn_chunk_js.e(that.pageContainer[0].parentNode, {\n                            filter: '.k-page',\n                            events: {}\n                        });\n\n                        that._attachContainerEvents();\n\n                        that.pdfScroller.enablePanEventsTracking();\n                        that._pageRenderPromise(that.pages[0]);\n                        that.activatePage(page, true);\n\n                        that.trigger(UPDATE);\n                        progress(that.pageContainer, false);\n                    },\n                    error: (e) => {\n                        const notFoundError = e.name.includes(\"Missing\"),\n                            messages = that.options.messages.errorMessages,\n                            alertMessage = notFoundError ? messages.notFound : messages.parseError;\n\n                        that._triggerError({\n                            error: e.message,\n                            message: alertMessage\n                        });\n                    },\n                    loadOnDemand: that.options.pdfjsProcessing.loadOnDemand\n                }, file));\n            },\n\n            _setPageNumberAttributes: function() {\n                const that = this;\n\n                that.pageContainer.find('.k-page').each((i, el) => {\n                    $(el).attr(kendo.attr(\"number\"), i + 1);\n                });\n            },\n\n            _pageRenderPromise: function(page, preventTrigger) {\n                const that = this;\n                return new Promise(resolve => {\n                    const intervalId = setInterval(() => {\n                      if (page._pageInfo.rendered && !page._pageInfo.renderInProgress) {\n                        clearInterval(intervalId);\n                        that._setPageNumberAttributes();\n                        if (!preventTrigger) {\n                            that.trigger(RENDER, { page });\n                        }\n                        resolve();\n                      }\n                    }, 100);\n                  });\n            },\n\n            loadPage: function(number) {\n                const that = this,\n                    messages = that.options.messages.errorMessages,\n                    page = that.pages && that.pages[number - 1];\n\n                if (!page) {\n                    return;\n                }\n\n                if (that._isDPLProcessor()) {\n                    return page.load(that.zoomScale);\n                } else if (!page._pageInfo.rendered && !page._pageInfo.renderInProgress) {\n                    kendo_pdfviewerCommon_cmn_chunk_js.f(page, page._pageInfo.emptyPage, (e) => {\n                        that._triggerError({\n                            error: e.message,\n                            message: messages.parseError\n                        });\n                    });\n\n                    return that._pageRenderPromise(page);\n                }\n\n                return Promise.resolve();\n            },\n\n            activatePage: function(number, updatePager) {\n                const that = this,\n                    page = that.pages && that.pages[number - 1];\n\n                if (!page) {\n                    return;\n                }\n\n                that._pageNum = number;\n\n                if (that._isDPLProcessor()) {\n                    that._loadVisiblePages();\n                    that._scrollToActivatedPage(number, updatePager);\n                } else {\n                    that.loadPage(number).then(() => {\n                        that._scrollToActivatedPage(number, updatePager);\n                    });\n                }\n            },\n\n            _scrollToActivatedPage: function(number, updatePager) {\n                const that = this,\n                    pageContainer = that.pageContainerWrapper;\n\n                that._preventScroll = true;\n                kendo_pdfviewerCommon_cmn_chunk_js.s(pageContainer[0], number - 1);\n                that.trigger(UPDATE, { action: PAGE_CHANGE, page: number, total: that.pages.length, updatePager: updatePager });\n            },\n\n            _getVisiblePagesCount: function() {\n                var that = this,\n                    loadedPagesHeight = 0,\n                    updatedVisiblePagesCount = 0,\n                    containerHeight = that.pageContainer[0].clientHeight,\n                    index = 0;\n\n                while (loadedPagesHeight <= containerHeight && index < that.pages.length)\n                {\n                    loadedPagesHeight += that.pages[index].element.height();\n                    updatedVisiblePagesCount++;\n                    index++;\n                }\n\n                that._visiblePagesCount = updatedVisiblePagesCount;\n            },\n\n            _loadVisiblePages: function() {\n                var pagesCount = this.pages && this.pages.length,\n                    minVisiblePageNum = Math.max(this._pageNum - this._visiblePagesCount, 1),\n                    maxVisiblePageNum = Math.min(this._pageNum + this._visiblePagesCount, pagesCount);\n\n                this._visiblePages = this.pages.slice(minVisiblePageNum - 1, maxVisiblePageNum);\n\n                for (var i = minVisiblePageNum; i <= maxVisiblePageNum; i++)\n                {\n                    this.loadPage(i);\n                }\n            },\n\n            _loadAllPages: function() {\n                const pagesCount = this.pages && this.pages.length;\n                const promises = [];\n\n                for (var i = 0; i <= pagesCount; i++)\n                {\n                    promises.push(this.loadPage(i));\n                }\n\n                return promises;\n            },\n\n            fromFile: function(file) {\n                const that = this;\n                if (that._isDPLProcessor()) {\n                    that.zoomScale = that.options.scale || kendo_pdfviewerCommon_cmn_chunk_js.D;\n                    that.zoom(that.zoomScale, true);\n                    that.trigger(UPDATE, { action: \"zoom\", zoom: that.options.scale || \"auto\" });\n\n                    that.processor._updateDocument(file);\n                    that._loadDPLDocument();\n                } else {\n                    that._loadPdfJSDocument(file);\n                }\n            },\n\n            exportImage: function(options) {\n                var that = this;\n                var pageNumber = options.page;\n                var page = that.pages[pageNumber - 1] || that._blankPage;\n                var rootGroup = new drawing.Group();\n\n                page.load();\n\n                var background = kendo.drawing.Path.fromRect(new kendo.geometry.Rect([0, 0], [page.width, page.height]), {\n                    fill: {\n                        color: WHITECOLOR\n                    },\n                    stroke: null\n                });\n\n                progress(that.pageContainer, true);\n                rootGroup.append(background, page.group);\n\n                drawing.exportImage(rootGroup).done(function(data) {\n                    progress(that.pageContainer, false);\n                    kendo.saveAs({\n                        dataURI: data,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL || \"\",\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                });\n            },\n\n            exportSVG: function(options) {\n                var that = this;\n                var pageNumber = options.page;\n                var page = that.pages[pageNumber - 1] || that._blankPage;\n\n                progress(that.pageContainer, true);\n\n                page.load();\n\n                drawing.exportSVG(page.group).done(function(data) {\n                    progress(that.pageContainer, false);\n                    kendo.saveAs({\n                        dataURI: data,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL || \"\",\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                });\n            },\n\n            setOptions: function(options)\n            {\n                var that = this;\n\n                if (options.pdfjsProcessing || options.dplProcessing) {\n                    that._initProcessor(options || {});\n                }\n\n                options = $.extend(that.options, options);\n\n                Widget.fn.setOptions.call(that, options);\n\n                if (options.page) {\n                    that._pageNum = options.page;\n                    that.activatePage(options.page, false);\n                }\n\n                if (options.width) {\n                    that.element.width(options.width);\n                }\n\n                if (options.height) {\n                    that.element.height(options.height);\n                }\n            },\n\n            destroy: function()\n            {\n                if (this._resizeHandler)\n                {\n                    kendo.unbindResize(this._resizeHandler);\n                }\n\n                //destroy nested components\n                if (this._errorDialog) {\n                    this._errorDialog.destroy();\n                }\n\n                if (this._saveDialog) {\n                    this._saveDialog.destroy();\n                }\n\n                if (this._upload) {\n                    this._upload.destroy();\n                }\n\n                if (this.pager) {\n                    this.pager.destroy();\n                }\n\n                if (this.toolbar) {\n                    this.toolbar.unbind();\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n\n                if (this.pages && this.pages.length && this._isDPLProcessor()) {\n                    this.pages.forEach(function(page) {\n                        page.destroy();\n                    });\n                    this.pages = [];\n                }\n\n                if (this.pdfScroller) {\n                    this.pdfScroller.destroy();\n                }\n                this.pageContainer.off(NS);\n                this.pageContainerWrapper.off(NS);\n\n                Widget.fn.destroy.call(this);\n            },\n\n            _clearPages: function() {\n                this.pages = [];\n                this.document = null;\n                this._pageNum = 1;\n\n                this.pageContainer.off(NS);\n                this.pageContainer.empty();\n\n                if (this.pdfScroller)\n                {\n                    this.pdfScroller.destroy();\n                }\n            },\n\n            _toggleSelection: function(enable) {\n                var that = this;\n\n                if (enable === undefined$1) {\n                    enable = true;\n                }\n\n                if (that.pdfScroller) {\n                    enable ? that.pdfScroller.disablePanEventsTracking() : that.pdfScroller.enablePanEventsTracking();\n                }\n\n                that.pageContainer.toggleClass(styles.enableTextSelection, enable);\n                that.pageContainer.toggleClass(styles.enablePanning, !enable);\n            },\n        });\n\n        ui.plugin(PDFViewer);\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}