{"version":3,"file":"kendo.scheduler.monthview.min.js","names":["global","factory","exports","module","require","define","amd","globalThis","self","kendo","_globals","SchedulerMonthview","this","$","window","ui","SchedulerView","NS","extend","encode","htmlEncode","getDate","date","MS_PER_DAY","INVERSE_COLOR_CLASS","DAY_TEMPLATE","template","toString","EVENT_WRAPPER_STRING","task","ns","uid","ariaLabel","resources","attr","color","tail","middle","icon","isException","isRecurring","showDelete","messages","destroy","head","resizable","EVENT_TEMPLATE","title","replace","MORE_BUTTON_TEMPLATE","iconClass","MonthGroupedView","Class","init","view","_view","_verticalRowCountForLevel","level","_rowCountForLevel","_horizontalGroupCountForLevel","_columnCountForLevel","_getCalendarRowsLength","cellsPerRow","cellCount","_createRows","start","startIdx","horizontalGroupCount","verticalGroupIndex","isVerticallyGrouped","_isVerticallyGrouped","html","groupIdx","_createRow","_adjustStartDate","addDays","_getContent","content","startDate","_getTimeSlotByPosition","x","y","groupIndex","groups","daySlotByPosition","_nextSlotStartDate","nextDay","_createRowsLayout","rows","groupHeaderTemplate","_createVerticalColumnsLayout","columns","_createColumnsLayout","_verticalGroupCount","_horizontalGroupCount","_columnOffsetForResource","_positionMobileEvent","event","group","range","rangeCount","end","rangeIndex","endDate","occurrence","clone","Date","_createEventElement","_positionEvent","_addDaySlotCollections","groupCount","tableRows","rowMultiplier","rowIndex","collection","addDaySlotCollection","cells","children","cellMultiplier","cellIndex","cell","addDaySlot","_changePeriodGroupIndex","reverse","length","_createResizeHint","left","startSlot","offsetLeft","top","offsetTop","width","innerWidth","height","clientHeight","hint","fn","call","_appendResizeHint","_createMoveHint","endSlot","css","firstChildHeight","options","eventHeight","index","addClass","inverseColor","_appendMoveHint","MonthGroupedByDateView","dateIdx","verticalStart","_groupCount","isLastRow","NUMBER_OF_COLUMNS","cellIdx","_createDateLayout","resource","configuration","data","dataSource","dataIndex","value","getter","dataValueField","obj","text","dataTextField","dataColorField","field","name","className","slice","push","subColumns","startIndex","endIndex","i","currentSlot","_slots","dateRange","daySlotRanges","dateIndex","currentGroupIndex","_daySlotCollections","vertical","selectionGroupIndex","offsetWidth","offsetHeight","slotIdx","slot","isInDateRange","min","max","msValue","scheduler","MonthView","element","that","eventsPerDay","moreButtonHeight","adaptiveSlotHeight","_groupedView","_getGroupedView","isGroupedByDate","_isGroupedByDate","Error","_templates","_editable","_renderLayout","_groups","_updateDirection","selection","ranges","multiple","isSameSlot","isSameCollection","collectionIndex","backward","_changeDate","previous","collections","_getCollections","daySlotCollectionCount","_getNextHorizontalRange","method","horizontalRange","isVertical","_getNextVerticalRange","verticalRange","_changeViewPeriod","newStart","newEnd","pad","_isInRange","events","_continuousSlot","continuousSlot","_changeGroupContinuously","lastGroupIndex","_normalizeHorizontalSelection","_normalizeVerticalSelection","settings","Template","templateSettings","eventTemplate","dayTemplate","dateForTitle","format","selectedDateFormat","_firstDayOfMonth","_lastDayOfMonth","shortDateForTitle","selectedShortDateFormat","mobileDateForTitle","selectedMobileDateFormat","mobileYearForTitle","split","nextDate","previousDate","previousDay","_startDate","_endDate","firstDayOfMonth","lastDayOfMonth","calendarInfo","firstDay","firstVisibleDay","getFullYear","getMonth","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setTime","firstVisibleMonthDay","createLayout","_layout","_content","_initSlotHeight","_initTimesHeight","refreshLayout","_isVirtualized","_tryRenderContent","on","e","offset","currentTarget","_slotByPosition","preventDefault","trigger","_footer","editable","_isMobile","_touchEditable","_mouseEditable","closest","create","resourceInfo","_resourceBySlot","eventInfo","isAllDay","update","threshold","support","mobileOS","android","_addUserEvents","UserEvents","useClickAsTap","browser","edge","filter","tap","_scrolling","target","selectionByElement","columnLevel","columnLevels","rowLevel","rowLevels","verticalGroupCount","groupedView","groupedResources","verticalGroupIdx","_createCalendar","_cachedGroupIndex","find","_virtualContent","append","_calcSlotHeight","dateHeader","eventSpacing","firstCell","firstChild","Math","round","rowHeight","isMobile","table","_sortEventMeta","eventMeta","sort","first","second","order","_adjustSlotHeight","_canAdjustSlotHeight","forEach","week","_events","eventIndex","slots","firstSlot","weekOffsetTop","weekHeight","actualEventCount","slotIndex","meta","adjSlot","adjMeta","indexOf","dirty","slotHeight","firstChildTop","style","more","parentNode","times","isSetHeight","_isSchedulerHeightSet","contentDiv","weekStartDates","_slotIndices","calendarRowsLength","rowIdx","_weekStartDates","classes","isToday","getTime","names","array","idx","concat","shiftArray","days","namesShort","map","inner","resize","eventResources","_formatEventAriaLabel","applyStylesFromKendoAttributes","_isInDateSlot","slotStart","slotEnd","lastSlot","startTime","toUtcTime","endTime","_slotIndex","slotRange","tableEl","contentEl","collidingEvents","createRows","at","container","_isRtl","clientWidth","scrollWidth","appendChild","addEvent","_continuousEvents","eventCount","rightOffset","rowEvents","eventTop","j","eventLength","parseInt","appendTo","_inverseEventColor","_collectionIndex","_startSlotIndex","_startSlot","outerHeight","scrollTop","scrollLeft","ceil","_resizeHint","add","_updateResizeHint","_removeResizeHint","timezone","toLocalDate","last","_updateMoveHint","distance","duration","_removeMoveHint","_moveHint","getElementsByTagName","_addResourceView","MS_PER_HOUR","render","remove","_cachedEvents","Query","dir","toArray","bind","_renderGroups","_renderEvents","_ongoingEvents","slotRanges","rangeStart","rangeEnd","setDate","parentValue","item","itemParentValue","dataParentValueField","itemIdx","_resourceValue","tmp","operator","groupEqFilter","removeClass","off","ongoingEvents","cssClass","enabled","updateInterval","jQuery","kendo$1","__meta__","id","category","description","depends","hidden","default","Object","defineProperty"],"sources":["kendo.scheduler.monthview.js"],"mappings":"CAAA,SAAWA,EAAQC,GACI,iBAAZC,SAA0C,oBAAXC,OAAyBF,EAAQC,QAASE,QAAQ,2BAA4BA,QAAQ,mBAC1G,mBAAXC,QAAyBA,OAAOC,IAAMD,OAAO,CAAC,UAAW,uBAAwB,eAAgBJ,GAC7BA,IAA1ED,EAA+B,oBAAfO,WAA6BA,WAAaP,GAAUQ,MAAsBC,MAAQT,EAAOS,OAAS,CAAC,EAAGT,EAAOS,MAAMC,SAAWV,EAAOS,MAAMC,UAAY,CAAC,EAAGV,EAAOS,MAAMC,SAASC,mBAAqB,CAAC,GAC3N,CAJD,CAIGC,MAAM,SAAWV,IAUhB,SAAUW,GACN,IAAIJ,EAAQK,OAAOL,MACfM,EAAKN,EAAMM,GACXC,EAAgBD,EAAGC,cACnBC,EAAK,kBACLC,EAASL,EAAEK,OACXC,EAASV,EAAMW,WACfC,EAAUZ,EAAMa,KAAKD,QACrBE,EAAad,EAAMa,KAAKC,WAGxBC,EAAsB,kBACtBC,EAAehB,EAAMiB,UAAS,EAAGJ,UAAW,kCAAkCH,EAAOV,EAAMkB,SAASL,EAAM,kBAC1GM,EAAwBC,GACpB,2BAA2BA,EAAKC,UAAUD,EAAKE,oBAAoBZ,EAAOU,EAAKG,gBAC9EH,EAAKI,UAAU,GAAK,GAAGxB,EAAMyB,KAAK,8BAA8BL,EAAKI,UAAU,GAAGE,UAAU1B,EAAMyB,KAAK,0BAA0BL,EAAKI,UAAU,GAAGE,0BAA4B,oBAC5K,iCACI,GAAGN,EAAKO,MAAQP,EAAKQ,OAAS5B,EAAMM,GAAGuB,KAAK,kBAAoB,KAChE,GAAGT,EAAKU,cAAgB9B,EAAMM,GAAGuB,KAAK,oBACrCT,EAAKW,cAAgB/B,EAAMM,GAAGuB,KAAK,mBAAqB,YAE7D,GAAG7B,EAAMiB,SAASG,EAAKH,SAApBjB,CAA8BoB,oCAE1BA,EAAKY,WAAa,oDAAoDZ,EAAKa,SAASC,wBAAwBd,EAAKa,SAASC,YAAYlC,EAAMM,GAAGuB,KAAK,WAAa,IACpK,GAAGT,EAAKe,MAAQf,EAAKQ,OAAS5B,EAAMM,GAAGuB,KAAK,mBAAqB,cAEpET,EAAKgB,WAAchB,EAAKO,MAASP,EAAKQ,OAA8D,GAArD,sDAC/CR,EAAKgB,WAAchB,EAAKe,MAASf,EAAKQ,OAA8D,GAArD,oDACpD,SACJS,EAAiBrC,EAAMiB,UAAS,EAAGqB,WAAY,eAAeA,EAAMC,QAAQ,KAAK,2CACpC7B,EAAO4B,mBAKpDE,EAAuBxC,EAAMiB,UAAS,IACtC,2JAA2JjB,EAAMM,GAAGuB,KAAK,CAAEA,KAAM,kBAAmBY,UAAW,4BAG/MC,EAAmB1C,EAAM2C,MAAMlC,OAAO,CACtCmC,KAAM,SAASC,GACX1C,KAAK2C,MAAQD,CACjB,EAEAE,0BAA2B,SAASC,GAGhC,OAFW7C,KAAK2C,MAEJG,kBAAkBD,EAClC,EAEAE,8BAA+B,SAASF,GAGpC,OAFW7C,KAAK2C,MAEJK,qBAAqBH,EACrC,EAEAI,uBAAwB,SAASC,EAAaC,GAC1C,OAAOA,EAAYD,CACvB,EAEAE,YAAa,SAASC,EAAOC,EAAUC,EAAsBC,GAMzD,IALA,IAAId,EAAO1C,KAAK2C,MAEZc,EAAsBf,EAAKgB,uBAC3BC,EAAO,GAEFC,EAAW,EAAGA,EAAWL,EAAsBK,IACpDD,GAAQjB,EAAKmB,WAAWR,EAAOC,EAzDnB,EAyD0CG,EAAsBD,EAAqBI,GAGrG,OAAOD,CACX,EAEAG,iBAAkB,SAAST,GACvB,OAAOxD,EAAMa,KAAKqD,QAAQV,EAhEV,EAiEpB,EAEAW,YAAa,SAASC,EAASC,EAAW7C,GACtC,OAAO4C,EAAQ,CAAEvD,KAAMwD,EAAW7C,UAAWA,GACjD,EAEA8C,uBAAwB,SAASC,EAAGC,EAAGC,GAGnC,OAFYtE,KAAK2C,MAAM4B,OAAOD,GAEjBE,kBAAkBJ,EAAGC,EACtC,EAEAI,mBAAoB,SAASP,GACzB,OAAOrE,EAAMa,KAAKgE,QAAQR,EAC9B,EAEAS,kBAAmB,SAAStD,EAAWuD,EAAMC,GAGzC,OAFW7E,KAAK2C,MAEJgC,kBAAkBtD,EAAWuD,EAAMC,EACnD,EAEAC,6BAA8B,SAASzD,EAAWuD,EAAMC,EAAqBE,GAEzE,OAAOA,CACX,EAEAC,qBAAsB,SAAS3D,EAAW0D,EAASF,GAG/C,OAFW7E,KAAK2C,MAEJqC,qBAAqB3D,EAAW0D,EAASF,EACzD,EAEAI,oBAAqB,SAASpC,GAG1B,OAFW7C,KAAK2C,MAEJG,kBAAkBD,EAClC,EAEAqC,sBAAuB,SAASrC,GAC5B,IAAIH,EAAO1C,KAAK2C,MAEhB,OAAOD,EAAKM,qBAAqBH,GAASH,EAAKyC,yBAAyBtC,EAC5E,EAEAuC,qBAAsB,SAASC,EAAOC,EAAOC,EAAOC,EAAYnC,EAAOoC,EAAKC,GACxE,IAAIhD,EAAO1C,KAAK2C,MAEZ6C,EAAa,IACM,IAAfE,EACAD,EAAMF,EAAME,IAAIE,UACTD,GAAcF,EAAa,EAClCnC,EAAQkC,EAAMlC,MAAMa,aAEpBb,EAAQkC,EAAMlC,MAAMa,YACpBuB,EAAMF,EAAME,IAAIE,YAIxB,IAAIC,EAAaP,EAAMQ,MAAM,CAAExC,MAAO,IAAIyC,KAAKzC,GAAQoC,IAAK,IAAIK,KAAKL,GAAMzD,KAAMuD,EAAMvD,KAAMR,KAAM+D,EAAM/D,OAEzGkB,EAAK0C,qBAAqBG,EAAO7C,EAAKqD,oBAAoBH,GAAaN,EAC3E,EAEAU,eAAgB,SAASX,EAAOC,EAAOC,EAAOC,EAAYnC,EAAOoC,EAAKC,GAClE,IAAIhD,EAAO1C,KAAK2C,MAEZ6C,EAAa,IACM,IAAfE,EACAD,EAAMF,EAAME,IAAIE,UACTD,GAAcF,EAAa,EAClCnC,EAAQkC,EAAMlC,MAAMa,aAEpBb,EAAQkC,EAAMlC,MAAMa,YACpBuB,EAAMF,EAAME,IAAIE,YAIxB,IAAIC,EAAaP,EAAMQ,MAAM,CAAExC,MAAOA,EAAOoC,IAAKA,EAAKzD,KAAMuD,EAAMvD,KAAMR,KAAM+D,EAAM/D,OAErFkB,EAAKsD,eAAeT,EAAO7C,EAAKqD,oBAAoBH,GAAaN,EACrE,EAEAW,uBAAwB,SAASC,EAAYC,EAAWjC,GAKpD,IAJA,IAAIxB,EAAO1C,KAAK2C,MAIP2B,EAAa,EAAGA,EAAa4B,EAAY5B,IAAc,CAC5D,IAAInB,EAAY,EACZiD,EAAgB,EAEhB1D,EAAKgB,yBACL0C,EAAgB9B,GAGpB,IAAK,IAAI+B,EAlKA,EAkKWD,EAA0BC,EAlKrC,GAkKiDD,EAAgB,GAAeC,IAAY,CACjG,IACIC,EADQ5D,EAAK6B,OAAOD,GACDiC,qBAAqB1G,EAAMa,KAAKqD,QAAQG,EAAWf,GAAYtD,EAAMa,KAAKqD,QAAQG,EAAWf,EAnK5G,IAsKJqD,EADWL,EAAUE,GACJI,SACjBC,EAAiB,EAEhBhE,EAAKgB,yBACNgD,EAAiBpC,GAGrB,IAAK,IAAIqC,EA7KD,EA6KaD,EAA8BC,EA7K3C,GA6KwDD,EAAiB,GAAkBC,IAAa,CAC5G,IAAIC,EAAOJ,EAAMG,GAEjBjE,EAAKmE,WAAWP,EAAYM,EAAM1C,EAAWf,GAC7CA,GACJ,CACJ,CACJ,CACJ,EAEA2D,wBAAyB,SAASC,GAC9B,IAAIrE,EAAO1C,KAAK2C,MAEhB,OAAOoE,EAAUrE,EAAK6B,OAAOyC,OAAS,EAAI,CAC9C,EAEAC,kBAAmB,SAAS1B,GACxB,IAAI7C,EAAO1C,KAAK2C,MACZuE,EAAO3B,EAAM4B,YAAYC,WACzBC,EAAM9B,EAAMlC,MAAMiE,UAClBC,EAAQhC,EAAMiC,aACdC,EAASlC,EAAMlC,MAAMqE,aAAe,EACpCC,EAAOvH,EAAcwH,GAAGX,kBAAkBY,KAAKnF,EAAMwE,EAAMG,EAAKE,EAAOE,GAE3E/E,EAAKoF,kBAAkBH,EAC3B,EAEAI,gBAAiB,SAASxC,EAAOF,GAC7B,IAAI3C,EAAO1C,KAAK2C,MACZwE,EAAY5B,EAAM4B,YAClBa,EAAUzC,EAAMyC,UAChBL,EAAOjF,EAAKqD,oBAAoBV,EAAMQ,MAAM,CAAE7D,KAAMuD,EAAMvD,KAAMR,KAAM+D,EAAM/D,QAEhFmG,EAAKM,IAAI,CACLf,KAAMC,EAAUC,WAAa,EAC7BC,IAAKF,EAAUG,UAAYH,EAAUe,iBACrCT,OAAsC,SAA7B/E,EAAKyF,QAAQC,YAA0B,GAAK1F,EAAKyF,QAAQC,YAClEb,MAAOhC,EAAMiC,cAAgBL,EAAUkB,QAAUL,EAAQK,MAAQ,EAAI,KAGzEV,EAAKW,SAAS,qBAEVjD,EAAMkD,cACNZ,EAAKW,SAAS1H,GAGlB8B,EAAK8F,gBAAgBb,EACzB,IAGAc,EAAyB5I,EAAM2C,MAAMlC,OAAO,CAC5CmC,KAAM,SAASC,GACX1C,KAAK2C,MAAQD,CACjB,EAEAE,0BAA2B,WACvB,OAAO,CACX,EAEAG,8BAA+B,SAASF,GAGpC,OAFW7C,KAAK2C,MAEJK,qBAAqBH,EAAQ,GA3OzB,CA4OpB,EAEAO,YAAa,SAASC,EAAOC,EAAUC,GACnC,IAAIb,EAAO1C,KAAK2C,MAGZgB,EAAO,GACP+E,EAAU,EAEd,GAJ0BhG,EAAKgB,uBAIN,CAGrB,IAFA,IAAIiF,EAAgB,IAAI7C,KAAKzC,GACzB6C,EAAaxD,EAAKkG,cACRF,EAzPL,EAyP+BA,IACpC/E,GAAQjB,EAAKmB,WAAW8E,EAAerF,EAAU4C,EAAYwC,GAE7DC,EAAgB9I,EAAMa,KAAKqD,QAAQ4E,EA3P3B,GA6PZtF,EAAQxD,EAAMa,KAAKgE,QAAQrB,EAC/B,KAAO,CACH,KAAcqF,EA/PF,EA+PyBA,IACjC/E,GAAQjB,EAAKmB,WAAWR,EAAOC,EAAUC,EAAsBmF,GAC/DrF,EAAQxD,EAAMa,KAAKgE,QAAQrB,GAE/BA,EAAQxD,EAAMa,KAAKqD,QAAQV,EAnQf,EAoQhB,CAEA,OAAOM,CACX,EAEAG,iBAAkB,SAAST,EAAOwF,GAI9B,OAHW7I,KAAK2C,MACee,uBAGvBmF,EACOhJ,EAAMa,KAAKqD,QAAQV,EAAOyF,IAE1BjJ,EAAMa,KAAKgE,QAAQrB,GAI3BxD,EAAMa,KAAKqD,QAAQV,EArRV,EAsRpB,EAEAW,YAAa,SAASC,EAASC,EAAW7C,EAAW0H,GACjD,OAAgB,IAAZA,EACO9E,EAAQ,CAAEvD,KAAMwD,EAAW7C,UAAWA,IAE1C,EACX,EAEA8C,uBAAwB,SAASC,EAAGC,EAAGC,GAGnC,OAFYtE,KAAK2C,MAAM4B,OAAOD,GAEjBE,kBAAkBJ,EAAGC,GAAG,EACzC,EAEAI,mBAAoB,SAASP,GACzB,OAAOA,CACX,EAEAjB,uBAAwB,WAIpB,OAHWjD,KAAK2C,MACee,uBA3Sf,EADH,CA+SjB,EAEAiB,kBAAmB,SAAStD,EAAWuD,EAAMC,EAAqBE,GAG9D,OAFW/E,KAAK2C,MAEJqG,kBAAkBjE,EAAS,MAAM,EACjD,EAEAD,6BAA8B,SAASzD,EAAWuD,EAAMC,GAMpD,IALA,IAAInC,EAAO1C,KAAK2C,MACZsG,EAAW5H,EAAU,GACrB6H,EAAgB,GAChBC,EAAOF,EAASG,WAAW1G,OAEtB2G,EAAY,EAAGA,EA7TX,EA6TuBF,EAAKnC,OAAyBqC,IAAa,CAC3E,IAAIC,EAAQzJ,EAAM0J,OAAON,EAASO,eAAtB3J,CAAsCsJ,EAAKE,EAAYF,EAAKnC,SACpEyC,EAAM,CACNC,KAAM7E,EAAoB,CACtB6E,KAAM7J,EAAMW,WAAWX,EAAM0J,OAAON,EAASU,cAAtB9J,CAAqCsJ,EAAKE,EAAYF,EAAKnC,UAClFzF,MAAO1B,EAAM0J,OAAON,EAASW,eAAtB/J,CAAsCsJ,EAAKE,EAAYF,EAAKnC,SACnE6C,MAAOZ,EAASY,MAChB1H,MAAO8G,EAAS9G,MAChB2H,KAAMb,EAASa,KACfR,MAAOA,IAEXS,UAAW,cACXT,MAAOA,GAGXG,EAAI1E,QAAUrC,EAAKsC,qBAAqB3D,EAAU2I,MAAM,GAAI,KAAMnF,EAAqB,KAAM,KAAMyE,GAEnGJ,EAAce,KAAKR,EACvB,CAEA,OAAOP,CACX,EAEAlE,qBAAsB,SAAS3D,EAAW0D,EAASF,EAAqBqF,GAGpE,OAFWlK,KAAK2C,MAEJqC,qBAAqB3D,EAAW0D,EAASF,EAAqBqF,GAAY,EAC1F,EAEAjF,oBAAqB,SAASpC,GAG1B,OAFW7C,KAAK2C,MAEJK,qBAAqBH,GA7VpB,CA8VjB,EAEAqC,sBAAuB,SAASrC,GAE5B,OADW7C,KAAK2C,MACJK,qBAAqBH,GAjWjB,CAkWpB,EAEAuC,qBAAsB,SAASC,EAAOC,EAAOC,EAAOC,EAAYnC,EAAOoC,GAKnE,IAJA,IAAI/C,EAAO1C,KAAK2C,MACZwH,EAAa5E,EAAMlC,MAAMgF,MACzB+B,EAAW7E,EAAME,IAAI4C,MAEhBgC,EAAI9E,EAAMlC,MAAMgF,MAAOgC,GAAK9E,EAAME,IAAI4C,MAAOgC,IAAK,CACvD,IAAIC,EAAc/E,EAAMe,WAAWiE,OAAOF,GACtCG,EAAYlF,EAAMmF,cAAcH,EAAYjH,MAAOiH,EAAYjH,OAAO,GAAM,GAE5EuC,EAAaP,EAAMQ,MAAM,CACzBxC,MAAOgH,IAAMF,EAAa9G,EAAQiH,EAAYpG,YAC9CuB,IAAK4E,IAAMD,EAAW3E,EAAM6E,EAAY3E,UACxC3D,KAAMqI,IAAMD,GAAY7E,EAAMvD,KAC9BR,KAAM6I,IAAMF,GAAc5E,EAAM/D,OAEpCkB,EAAK0C,qBAAqBoF,EAAW9H,EAAKqD,oBAAoBH,GAAaN,EAC/E,CACJ,EAEAU,eAAgB,SAASX,EAAOC,EAAOC,EAAOC,EAAYnC,EAAOoC,GAK7D,IAJA,IAAI/C,EAAO1C,KAAK2C,MACZwH,EAAa5E,EAAMlC,MAAMgF,MACzB+B,EAAW7E,EAAME,IAAI4C,MAEhBgC,EAAI9E,EAAMlC,MAAMgF,MAAOgC,GAAK9E,EAAME,IAAI4C,MAAOgC,IAAK,CACvD,IAAIC,EAAc/E,EAAMe,WAAWiE,OAAOF,GACtCG,EAAYlF,EAAMmF,cAAcH,EAAYjH,MAAOiH,EAAYjH,OAAO,GAAM,GAE5EuC,EAAaP,EAAMQ,MAAM,CACzBxC,MAAOgH,IAAMF,EAAa9G,EAAQiH,EAAYpG,YAC9CuB,IAAK4E,IAAMD,EAAW3E,EAAM6E,EAAY3E,UACxC3D,KAAMqI,IAAMD,GAAY7E,EAAMvD,KAC9BR,KAAM6I,IAAMF,GAAc5E,EAAM/D,OAEpCkB,EAAKsD,eAAewE,EAAW9H,EAAKqD,oBAAoBH,GAAaN,EACzE,CACJ,EAEAW,uBAAwB,SAASC,EAAYC,EAAWjC,GAMpD,IALA,IAAIxB,EAAO1C,KAAK2C,MAGZc,EAAsBf,EAAKgB,uBAEtBgH,EAAY,EAAGA,EAhZR,EAgZiCA,IAC7C,IAAK,IAAIrE,EAAW,EAAGA,EAlZd,EAkZmCA,IAAY,CACpD,IAAI/B,EAAa,EAGbkC,EADWL,EADS1C,EAAsBiH,EAAYrE,GAErCI,SACjBC,EAAiB,EAEhBhE,EAAKgB,yBACNgD,EAAiBgE,GAGrB,IAAK,IAAI/D,EAAYD,EAAiBR,EAAYS,GAAaD,EAAiB,GAAKR,EAAYS,IAAa,CAC1G,IAKIL,EALAnD,EA7ZA,EA6ZakD,EAA0BqE,EAEvC9D,EAAOJ,EADY/C,EAAsBkD,EAAaN,EAAWH,EAAcS,GAE/EgE,EAAoBlH,EAAsBkD,EAAYrC,EACtDgB,EAAQ5C,EAAK6B,OAAOoG,GAGpBrE,EADc,IAAdoE,EACapF,EAAMiB,qBAAqB1G,EAAMa,KAAKqD,QAAQG,EAAWf,GAAYtD,EAAMa,KAAKqD,QAAQG,EAAWf,EApahH,IAsaamC,EAAMsF,oBAAoBvE,GAG3C3D,EAAKmE,WAAWP,EAAYM,EAAM1C,EAAWf,GAC7CmB,GACJ,CACJ,CAER,EAEAwC,wBAAyB,SAASC,EAAS8D,EAAUC,GACjD,IAAIpI,EAAO1C,KAAK2C,MAEhB,OAAIkI,GAAYnI,EAAKgB,uBACVqD,EAAUrE,EAAK6B,OAAOyC,OAAS,EAAI,EAGvC8D,CACX,EAEA7D,kBAAmB,SAAS1B,GACxB,IACI2B,EAAMG,EAAKE,EAAOE,EAAQE,EAD1BjF,EAAO1C,KAAK2C,MAGhB,GAAID,EAAKgB,uBACTwD,EAAO3B,EAAM4B,YAAYC,WACzBC,EAAM9B,EAAMlC,MAAMiE,UAClBC,EAAQhC,EAAM4B,YAAY4D,YAC1BtD,EAASlC,EAAMyC,UAAUV,UAAY/B,EAAM4B,YAAY6D,aAAezF,EAAM4B,YAAYG,UAAY,EACpGK,EAAOvH,EAAcwH,GAAGX,kBAAkBY,KAAKnF,EAAMwE,EAAMG,EAAKE,EAAOE,GAEvE/E,EAAKoF,kBAAkBH,QAEnB,IAAK,IAAIsD,EAAU1F,EAAM4B,YAAYkB,MAAO4C,GAAW1F,EAAMyC,UAAUK,MAAO4C,IAAW,CACrF,IAAIC,EAAO3F,EAAMe,WAAWiE,OAAOU,GACnC/D,EAAOgE,EAAK9D,WACZC,EAAM6D,EAAK5D,UACXC,EAAQ2D,EAAKH,YACbtD,EAASyD,EAAKF,aAAe,EAC7BrD,EAAOvH,EAAcwH,GAAGX,kBAAkBY,KAAKnF,EAAMwE,EAAMG,EAAKE,EAAOE,GAEvE/E,EAAKoF,kBAAkBH,EAC3B,CAER,EAEAI,gBAAiB,SAASxC,EAAOF,GAK7B,IAJA,IAAI3C,EAAO1C,KAAK2C,MACZwE,EAAY5B,EAAM4B,YAClBa,EAAUzC,EAAMyC,UAEXiD,EAAU9D,EAAUkB,MAAO4C,GAAWjD,EAAQK,MAAO4C,IAAW,CACrE,IAAIC,EAAO3F,EAAMe,WAAWiE,OAAOU,GAC/BtD,EAAOjF,EAAKqD,oBAAoBV,EAAMQ,MAAM,CAAE7D,KAAMuD,EAAMvD,KAAMR,KAAM+D,EAAM/D,QAEhFmG,EAAKM,IAAI,CACLf,KAAMgE,EAAK9D,WACXC,IAAK6D,EAAK5D,UAAY4D,EAAKhD,iBAC3BT,OAAsC,SAA7B/E,EAAKyF,QAAQC,YAA0B,GAAK1F,EAAKyF,QAAQC,YAClEb,MAAO2D,EAAKH,YAAc,IAG9BpD,EAAKW,SAAS,qBAEVjD,EAAMkD,cACNZ,EAAKW,SAAS1H,GAGlB8B,EAAK8F,gBAAgBb,EACzB,CACJ,IAytCJ,SAASwD,EAAc7B,EAAO8B,EAAKC,GAC/B,IAEIC,EAIJ,OAFAA,EAAUhC,IAJE8B,GAMeE,GALfD,CAMhB,CA9tCAxL,EAAMM,GAAGoL,UAAUhJ,iBAAmBA,EACtC1C,EAAMM,GAAGoL,UAAU9C,uBAAyBA,EAE5CtI,EAAGqL,UAAYpL,EAAcE,OAAO,CAChCmC,KAAM,SAASgJ,EAAStD,GACpB,IAAIuD,EAAO1L,KAGkB,IAAzBmI,EAAQwD,eACRxD,EAAQwD,aAAe,GAIC,IAAxBxD,EAAQC,cACRD,EAAQC,YAAc,GAIO,IAA7BD,EAAQyD,mBACRzD,EAAQyD,iBAAmB,GAII,iBAAxBzD,EAAQC,aAAoD,SAAxBD,EAAQC,cACnDD,EAAQC,YAAc,IAIE,SAAxBD,EAAQC,cACRD,EAAQ0D,oBAAqB,GAGjCzL,EAAcwH,GAAGnF,KAAKoF,KAAK6D,EAAMD,EAAStD,GAC1CuD,EAAKI,aAAeJ,EAAKK,kBAGzB,IAAIC,EAAkBhM,KAAKiM,mBACvBJ,EAAqB7L,KAAKmI,QAAQ0D,mBAClCzD,EAAcpI,KAAKmI,QAAQC,YAE/B,IAAwB,IAApB4D,IAAmD,IAAvBH,EAC5B,MAAM,IAAIK,MAAM,iEAGpB,IAAwB,IAApBF,GAA4C,SAAhB5D,EAC5B,MAAM,IAAI8D,MAAM,8DAGpBR,EAAKvJ,MAAQuJ,EAAKvD,QAAQhG,MAE1BuJ,EAAKS,aAELT,EAAKU,YAELV,EAAKW,cAAcX,EAAKvD,QAAQzH,MAEhCgL,EAAKY,SACT,EAEAxC,KAAM,QAENiC,gBAAiB,WACb,OAAI/L,KAAKiM,mBACE,IAAIpM,EAAMM,GAAGoL,UAAU9C,uBAAuBzI,MAE9C,IAAIH,EAAMM,GAAGoL,UAAUhJ,iBAAiBvC,KAEvD,EAEAuM,iBAAkB,SAASC,EAAWC,EAAQC,EAAU3F,EAAS8D,GAC7D,GAAI6B,EAAU,CACV,IAAIvF,EAAYsF,EAAO,GAAGpJ,MACtB2E,EAAUyE,EAAOA,EAAOzF,OAAS,GAAGvB,IACpCkH,EAAaxF,EAAUkB,QAAUL,EAAQK,MACzCuE,EAAmBzF,EAAU0F,kBAAoB7E,EAAQ6E,iBAGzDhC,EACmB8B,GAAcC,GAAqBA,EAEpCD,GAAcC,KAIhCJ,EAAUM,SAAW/F,EAE7B,CACJ,EAEAgG,YAAa,SAASP,EAAWtB,EAAM8B,GACnC,IACIC,EAAa5E,EADb/C,EAAQtF,KAAKuE,OAAOiI,EAAUlI,YAGlC,GAAI0I,GAIA,GAHAC,EAAc3H,EAAM4H,gBAAgB5H,EAAM6H,2BAC1C9E,EAAQ6C,EAAK2B,gBAAkB,IAElB,EACT,OAAOI,EAAY5E,GAAOkC,OAAO0C,EAAY5E,GAAOkC,OAAOvD,OAAS,OAErE,CAKH,IAJAiG,EAAc3H,EAAM4H,gBAAgB5H,EAAM6H,2BAC1C9E,EAAQ6C,EAAK2B,gBAAkB,IAGLI,EAAY5E,GAAOkC,OAF7B,GAGZ,OAAO0C,EAAY5E,GAAOkC,OAHd,EAKpB,CACJ,EAEA6C,wBAAyB,SAAS9H,EAAO+H,EAAQC,GAC7C,IAAIC,EAAavN,KAAK0D,uBAKtB,OAHA4J,EAAgBnG,UAAY7B,EAAM+H,GAAQC,EAAgBnG,UAAWoG,GACrED,EAAgBtF,QAAU1C,EAAM+H,GAAQC,EAAgBtF,QAASuF,GAE1DD,CACX,EAEAE,sBAAuB,SAASlI,EAAO+H,EAAQI,EAAef,GAC1D,IAAIa,EAAavN,KAAK0D,wBAA0B1D,KAAKiM,mBAKrD,OAHAwB,EAActG,UAAY7B,EAAM+H,GAAQI,EAActG,UAAWuF,EAAUa,GAC3EE,EAAczF,QAAU1C,EAAM+H,GAAQI,EAAczF,QAAS0E,EAAUa,GAEhEE,CACX,EAEAC,kBAAmB,SAASlB,EAAWzF,EAAS8D,GAC5C,IACI8C,EAAUC,EADVC,EAAMhD,EAAW,EAAI,EAUzB,OAPI9D,IACA8G,IAAQ,GAGZF,EAAW9N,EAAMa,KAAKqD,QAAQyI,EAAUnJ,MAAOwK,GAC/CD,EAAS/N,EAAMa,KAAKqD,QAAQyI,EAAU/G,IAAKoI,IAEvC7N,KAAK8N,WAAWH,EAAUC,KAI9BpB,EAAUnJ,MAAQsK,EAClBnB,EAAU/G,IAAMmI,IAEX/C,GAAaA,GAAY7K,KAAK0D,0BAC/B8I,EAAUlI,WAAatE,KAAK8L,aAAahF,wBAAwBC,EAAS8D,EAAU2B,EAAUlI,aAGlGkI,EAAUuB,OAAS,IAEZ,EACX,EAEAC,gBAAiB,SAASxB,EAAWC,EAAQ1F,GACzC,IAAIsB,EAAQmE,EAAUM,SAAW,EAAIL,EAAOzF,OAAS,EAGrD,OAFYhH,KAAKuE,OAAOiI,EAAUlI,YAErB2J,eAAexB,EAAOpE,GAAOhF,MAAO0D,EACrD,EAEAmH,yBAA0B,SAAS1B,EAAWyB,EAAgBvB,EAAU3F,GACpE,IAAK2F,EAAU,CACX,IAAIpI,EAAakI,EAAUlI,WACvB6J,EAAiBnO,KAAKuE,OAAOyC,OAAS,EACtC6D,EAAW7K,KAAK0D,uBAChB4B,EAAQtF,KAAKuE,OAAOD,IAEnB2J,GAAkBpD,GAEnBoD,EAAiB3I,EAAMyB,EAAU,WAAa,eAE9CzC,GAAeyC,GAAW,EAAI,GAEvBkH,IAAmBpD,IAC1BvG,EAAayC,EAAUoH,EAAiB,IAGxC7J,EAAa,GAAKA,EAAa6J,KAC/B7J,EAAayC,EAAUoH,EAAiB,EACxCF,EAAiB,MAGrBzB,EAAUlI,WAAaA,CAC3B,CAEA,OAAO2J,CACX,EAEAG,8BAA+B,SAAS5B,EAAWC,EAAQ1F,GASvD,OANIA,EACO0F,EAAO,GAAGpJ,MAEVoJ,EAAOA,EAAOzF,OAAS,GAAGvB,GAIzC,EAEA4I,4BAA6B,SAAS7B,EAAWC,GAS7C,OANID,EAAUM,SACHL,EAAO,GAAGpJ,MAEVoJ,EAAOA,EAAOzF,OAAS,GAAGvB,GAIzC,EAEA0G,WAAY,WACR,IAAIhE,EAAUnI,KAAKmI,QACfmG,EAAWhO,EAAO,CAAC,EAAGT,EAAM0O,SAAUpG,EAAQqG,kBAElDxO,KAAKyO,cAAgB5O,EAAMiB,SAASE,GACpChB,KAAK0O,YAAc7O,EAAMiB,SAASqH,EAAQuG,YAAaJ,GACvDtO,KAAK6E,oBAAsBhF,EAAMiB,SAASqH,EAAQtD,oBAAqByJ,EAC3E,EAEAK,aAAc,WACV,OAAO9O,EAAM+O,OAAO5O,KAAKmI,QAAQ0G,mBAAoB7O,KAAK8O,iBAAkB9O,KAAK+O,gBACrF,EAEAC,kBAAmB,WACf,OAAOnP,EAAM+O,OAAO5O,KAAKmI,QAAQ8G,wBAAyBjP,KAAK8O,iBAAkB9O,KAAK+O,gBAC1F,EAEAG,mBAAoB,WAChB,OAAOrP,EAAM+O,OAAO5O,KAAKmI,QAAQgH,yBAA0BnP,KAAK8O,iBAAkB9O,KAAK+O,gBAC3F,EAEAK,mBAAoB,WAChB,OAAOpP,KAAK2O,eAAeU,MAAM,MAAM,EAC3C,EAEAC,SAAU,WACN,OAAOzP,EAAMa,KAAKgE,QAAQ1E,KAAK+O,gBACnC,EAEAQ,aAAc,WACV,OAAO1P,EAAMa,KAAK8O,YAAYxP,KAAK8O,iBACvC,EAEA5K,UAAW,WACP,OAAOlE,KAAKyP,UAChB,EAEA9J,QAAS,WACL,OAAO3F,KAAK0P,QAChB,EAEArD,cAAe,SAAS3L,GACpB,IAAIgL,EAAO1L,KAEXA,KAAK8O,iBAAmBjP,EAAMa,KAAKiP,gBAAgBjP,GAEnDV,KAAK+O,gBAAkBlP,EAAMa,KAAKkP,eAAelP,GAEjDV,KAAKyP,WAo8Bb,SAA8B/O,EAAMmP,GAChC,IAAIC,EAAWD,EAAaC,SACxBC,EAAkB,IAAIjK,KAAKpF,EAAKsP,cAAetP,EAAKuP,WAAY,EAAGvP,EAAKwP,WAAYxP,EAAKyP,aAAczP,EAAK0P,aAAc1P,EAAK2P,mBAEnI,KAAON,EAAgBO,UAAYR,GAC/BjQ,EAAMa,KAAK6P,QAAQR,GAAkB,EAAIpP,GAG7C,OAAOoP,CACX,CA78B0BS,CAAqB9P,EAAMV,KAAK6P,gBAElD7P,KAAKyQ,aAAazQ,KAAK0Q,WAEvB1Q,KAAK2Q,WAEL3Q,KAAK4Q,kBAEL5Q,KAAK6Q,mBAEL7Q,KAAK8Q,gBAED9Q,KAAK+Q,kBACL/Q,KAAKgR,oBAGThR,KAAKiE,QAAQgN,GAAG,QAAU5Q,EAAI,6BAA6B,SAAS6Q,GAChE,IAAIC,EAASlR,EAAEiR,EAAEE,eAAeD,SAC5BjG,EAAOQ,EAAK2F,gBAAgBF,EAAOjK,KAAMiK,EAAO9J,KAEpD6J,EAAEI,iBACF5F,EAAK6F,QAAQ,WAAY,CAAE7O,KAAM,MAAOhC,KAAMwK,EAAKhH,aACvD,IAEAlE,KAAKwR,SACT,EAEApF,UAAW,WACHpM,KAAKmI,QAAQsJ,WACTzR,KAAK0R,YACL1R,KAAK2R,iBAEL3R,KAAK4R,iBAIjB,EAEAA,eAAgB,WACZ,IAAIlG,EAAO1L,KACX0L,EAAKD,QAAQwF,GAAG,QAAU5Q,EAAI,mGAAmG,SAAS6Q,GACtIxF,EAAK6F,QAAQ,SAAU,CAAEpQ,IAAKlB,EAAED,MAAM6R,QAAQ,YAAYvQ,KAAKzB,EAAMyB,KAAK,UAC1E4P,EAAEI,gBACN,KAEqC,IAAjC5F,EAAKvD,QAAQsJ,SAASK,QACtBpG,EAAKD,QAAQwF,GAAG,WAAa5Q,EAAI,kDAAkD,SAAS6Q,GACxF,IAAIC,EAASlR,EAAEiR,EAAEE,eAAeD,SAC5BjG,EAAOQ,EAAK2F,gBAAgBF,EAAOjK,KAAMiK,EAAO9J,KAEpD,GAAI6D,EAAM,CACN,IAAI6G,EAAerG,EAAKsG,gBAAgB9G,GACxCQ,EAAK6F,QAAQ,MAAO,CAAEU,UAAW3R,EAAO,CAAE4R,UAAU,EAAM7O,MAAO6H,EAAKhH,YAAauB,IAAKyF,EAAKhH,aAAe6N,IAChH,CAEAb,EAAEI,gBACN,KAGiC,IAAjC5F,EAAKvD,QAAQsJ,SAASU,QACtBzG,EAAKD,QAAQwF,GAAG,WAAa5Q,EAAI,mCAAmC,SAAS6Q,GACzExF,EAAK6F,QAAQ,OAAQ,CAAEpQ,IAAKlB,EAAED,MAAM6R,QAAQ,YAAYvQ,KAAKzB,EAAMyB,KAAK,UACxE4P,EAAEI,gBACN,GAER,EAEAK,eAAgB,WACZ,IAAIjG,EAAO1L,KACPoS,EAAY,EAEZvS,EAAMwS,QAAQC,SAASC,UACvBH,EAAY,IAGqB,IAAjC1G,EAAKvD,QAAQsJ,SAASK,SACtBpG,EAAK8G,eAAiB,IAAI3S,EAAM4S,WAAW/G,EAAKD,QAAS,CACrD2G,UAAWA,EACXM,eAAgB7S,EAAMwS,QAAQM,QAAQC,KACtCC,OAAQ,iDACRC,IAAK,SAAS5B,GACV,IAAIxF,EAAKqH,WAAT,CAGA,IAAI5B,EAASlR,EAAEiR,EAAE8B,QAAQ7B,SACrBjG,EAAOQ,EAAK2F,gBAAgBF,EAAOjK,KAAMiK,EAAO9J,KAEpD,GAAI6D,EAAM,CACN,IAAI6G,EAAerG,EAAKsG,gBAAgB9G,GACxCQ,EAAK6F,QAAQ,MAAO,CAAEU,UAAW3R,EAAO,CAAE4R,UAAU,EAAM7O,MAAO6H,EAAKhH,YAAauB,IAAKyF,EAAKhH,aAAe6N,IAChH,CAEAb,EAAEI,gBATF,CAUJ,IAGZ,EAEA2B,mBAAoB,SAASrM,GACzB,IAAIuK,EAASlR,EAAE2G,GAAMuK,SACrB,OAAOnR,KAAKqR,gBAAgBF,EAAOjK,KAAMiK,EAAO9J,IACpD,EAEArE,qBAAsB,SAASH,GAC3B,IAAIqQ,EAAclT,KAAKmT,aAAatQ,GACpC,OAAOqQ,EAAcA,EAAYlM,OAAS,CAC9C,EAEAlE,kBAAmB,SAASD,GACxB,IAAIuQ,EAAWpT,KAAKqT,UAAUxQ,GAC9B,OAAOuQ,EAAWA,EAASpM,OAAS,CACxC,EAEA2J,SAAU,WACN,IAAIhN,EAAO,UACP2P,EAAqB,EACrBC,EAAcvT,KAAK8L,aACnBzK,EAAYrB,KAAKwT,iBAEjBnS,EAAU2F,QACNhH,KAAK0D,yBACL4P,EAAqBC,EAAY3Q,0BAA0BvB,EAAU2F,OAAS,IAItF,IAAK,IAAIyM,EAAmB,EAAGA,EAAmBH,EAAoBG,IAClE9P,GAAQ3D,KAAK0T,gBAAgBD,GAC7BzT,KAAK2T,kBAAoBF,EAG7B9P,GAAQ,WAER3D,KAAKiE,QAAQ2P,KAAK,SAASjQ,KAAKA,EACpC,EAEAkQ,gBAAiB,WACb,IACIlQ,EAAO,GAEXA,GAAQ3D,KAAK0T,kBAAkB1T,KAAK2T,mBAHzB3T,KAKNiE,QAAQ2P,KAAK,eAAeE,OAAOnQ,GAL7B3D,KAON4Q,iBACT,EAEAmD,gBAAiB,SAASpI,GACtB,IAKIqI,EALA7L,EAAUnI,KAAKmI,QACfC,EAAcD,EAAQC,YACtB6L,EAAe9L,EAAQ8L,aACvBrI,EAAmBzD,EAAQyD,iBAC3BsI,EAAYlU,KAAKiE,QAAQ2P,KAAK,eAAe,GAGjD,GAAoB,SAAhBxL,GAA2B8L,EAM/B,OAFAF,EAAaE,EAAUC,WAEhBC,KAAKC,MAENH,EAAUlJ,aAAekJ,EAAUxM,aAGrCsM,EAAW1M,UAGX0M,EAAWhJ,aAv4BE,EA64BXW,EAAevD,GAAoBuD,EAAe,GAAMsI,GA74B7C,EAg5BUrI,GAh5BV,EAq5BrB,EAEAgF,gBAAiB,WACb,IAKI0D,EALAnM,EAAUnI,KAAKmI,QACfwD,EAAexD,EAAQwD,aACvBvD,EAAcD,EAAQC,YACtBmM,EAAWvU,KAAK0R,YAChB8C,EAAQxU,KAAKiE,QAAQ2P,KAAK,SAG1BW,GAIuB,iBAAhBnM,IACPkM,EAAYtU,KAAK+T,gBAAgBpI,GAEjC6I,EAAMZ,KAAK,MAAMnM,OAAQ6M,GAIjC,EAEAG,eAAgB,SAASvJ,GACrBA,EAAKwJ,UAAUC,MAAK,SAASC,EAAOC,GAChC,OAAOD,EAAME,MAAQD,EAAOC,KAChC,GACJ,EAEAC,kBAAmB,SAASzP,GACxB,IAAIoG,EAAO1L,KACPmI,EAAUnI,KAAKmI,QACfC,EAAcD,EAAQC,YACtB6L,EAAe9L,EAAQ8L,aACvBrI,EAAmBzD,EAAQyD,kBAEG,IAA9B5L,KAAKgV,sBAIG1P,EAAMsF,oBAEZqK,SAAQ,SAASC,GACnB,IAAInH,EAASmH,EAAKC,QACdC,EAAa,EACbC,EAAQH,EAAK3K,OACb+K,EAAYD,EAAM,GAClBE,EAAgBD,EAAU7J,QAAQnE,UAClCkO,EAAa,EAGjBH,EAAMJ,SAAQ,SAAS/J,GACdA,EAAKwJ,UAINxJ,EAAKuK,iBAAmBvK,EAAKwJ,UAAU1N,QAHvCkE,EAAKwJ,UAAY,GACjBxJ,EAAKuK,iBAAmB,EAIhC,IAGAJ,EAAMJ,SAAQ,SAAS/J,EAAMwK,GAEzB,IAAK,IAAIrL,EAAI,EAAGA,EAAIa,EAAKwJ,UAAU1N,OAAQqD,IAAK,CAC5C,IAAIsL,EAAOzK,EAAKwJ,UAAUrK,GAE1B,GAAIsL,EAAKxL,aAAeuL,EACpB,OAIJ,GAAIC,EAAKxL,aAAewL,EAAKvL,SACzB,OAIJiL,EAAMrL,MAAM0L,EAAWC,EAAKvL,SAAW,GAAG6K,SAAQ,SAASW,GAEvD,IAAIC,EAAUD,EAAQlB,UAElBmB,EAAQC,QAAQH,IAAS,IAK7BE,EAAQA,EAAQ7O,QAAUkE,EAAKwJ,UAAUrK,GACzCuL,EAAQH,iBAAmBI,EAAQ7O,OACnC4O,EAAQG,OAAQ,EACpB,GACJ,EAGmB,IAAf7K,EAAK6K,QACLrK,EAAK+I,eAAevJ,UACbA,EAAK6K,MAGpB,IAEoB,SAAhB3N,GACAiN,EAAMJ,SAAQ,SAAS/J,EAAMwK,GACzB,IAAIM,EAAa9K,EAAK+K,cAAgB/K,EAAKhD,iBA1/BtC,EA2/BL,IAAK,IAAImC,EAAI,EAAGA,EAAIa,EAAKwJ,UAAU1N,OAAQqD,IAAK,CAC5C,IAAIsL,EAAOzK,EAAKwJ,UAAUrK,GAC1BsL,EAAKtO,IAAM+M,KAAK/I,IAAIsK,EAAKtO,IAAKkO,EAAgBS,GAC9CA,EAAcL,EAAKtO,IAAMkO,EAAiBtB,EAAe0B,EAAKlO,MAClE,CACJ,IAIJ4N,EAAMJ,SAAQ,SAAS/J,EAAMwK,GACzB,IAAIM,EAAa9K,EAAK+K,cAAgB/K,EAAKhD,iBArgClC,EAugCT,IAAK,IAAImC,EAAI,EAAGA,EAAIa,EAAKwJ,UAAU1N,OAAQqD,IAAK,CAC5C,IAAIsL,EAAOzK,EAAKwJ,UAAUrK,GAC1BsL,EAAKtO,IAAM+M,KAAK/I,IAAIsK,EAAKtO,IAAKkO,EAAgBS,GAC9CA,EAAcL,EAAKtO,IAAMkO,EAAiBtB,EAAe0B,EAAKlO,OAE1DkO,EAAKxL,aAAeuL,IACpB3H,EAAOqH,GAAY3J,QAAQ,GAAGyK,MAAM7O,IAAMsO,EAAKtO,IAAM,KACrD+N,IAER,CAEIlK,EAAKwJ,UAAU1N,OAAS,GACxBgP,GAAc/B,EACd+B,GAphCK,GAshCLA,GAA+B,SAAhB5N,EAAyB,GAAKA,EAG7C8C,EAAKiL,OACLjL,EAAKiL,KAAK,GAAGD,MAAM7O,IAAMkO,EAAgBS,EAAa,KACtDA,GA3hCK,EA2hC8BpK,GAGvC4J,EAAapB,KAAK/I,IAAImK,EAAYQ,EAAa,EAEnD,IAGAV,EAAU7J,QAAQ2K,WAAWF,MAAMzO,OAAS+N,EAAa,KACzDH,EAAMJ,SAAQ,SAAS/J,GACnBA,EAAK5D,UAAYiO,EACjBrK,EAAKF,aAAewK,EACpBtK,EAAKxD,aAAe8N,EAAa,CACrC,GAEJ,GACJ,EAEA3E,iBAAkB,WACd,IAAInF,EAAO1L,KACPqW,EAAQ3K,EAAK2K,MACbC,EAAc5K,EAAK6K,wBACnBC,EAAa9K,EAAKzH,QAAQ,GAE1BoS,IAAUC,GACVD,EAAM5O,OAAO+O,EAAW9O,aAEhC,EAEAgM,gBAAiB,SAASlQ,GACtB,IAAIH,EAAQrD,KAAKkE,YAGbuS,EAAiB,CAACpT,GAClBM,EAAO,GACPJ,EAAuB,EACvBE,EAAsBzD,KAAK0D,uBAC3B6P,EAAcvT,KAAK8L,aAEnBzK,EAAYrB,KAAKwT,iBAEjBnS,EAAU2F,SACLvD,IACDF,EAAuBgQ,EAAYxQ,8BAA8B1B,EAAU2F,OAAS,KAI5FhH,KAAK0W,aAAe,CAAC,EAIrB,IAFA,IAAIC,EAAqBpD,EAAYtQ,uBAnmCrB,EAilCA6F,IAoBP8N,EAAS,EAAGA,EAASD,EAAoBC,IAAU,CACxDjT,GAAQ,OAER8S,EAAexM,KAAK5G,GAEpB,IAAIC,EA1mCQ,EA0mCGsT,EAEfjT,GAAQ4P,EAAYnQ,YAAYC,EAAOC,EAAUC,EAAsBC,GACvEH,EAAQkQ,EAAYzP,iBAAiBT,EAAOuT,IAAWD,EAAqB,GAE5EhT,GAAQ,OACZ,CAKA,OAHA3D,KAAK6W,gBAAkBJ,EACvBzW,KAAK0P,SAAW7P,EAAMa,KAAK8O,YAAYnM,GAEhCM,CACX,EAEAE,WAAY,SAASK,EAAWZ,EAAUJ,EAAaoB,GAanD,IAZA,IAAIoH,EAAO1L,KACPoL,EAAMM,EAAKoD,iBACXzD,EAAMK,EAAKqD,gBACX9K,EAAUyH,EAAKgD,YACfoI,EAAU,GACVnT,EAAO,GACP4P,EAAcvT,KAAK8L,aAEnBzK,EAAY,WACZ,OAAOqK,EAAKsG,gBAAgB,CAAE1N,WAAYA,GAC9C,EAESyE,EAAU,EAAGA,EAAU7F,EAAa6F,IACzC+N,EAAU,GAENjX,EAAMa,KAAKqW,QAAQ7S,KACnB4S,GAAW,WAGVjX,EAAMa,KAAKyK,cAAcjH,EAAWkH,EAAKC,KAC1CyL,GAAW,kBAGfnT,GAAQ,OAEQ,KAAZmT,IACAnT,GAAQ,UAAYmT,EAAU,KAGlCnT,GAAQ,IACRA,GAAQ4P,EAAYvP,YAAYC,EAASC,EAAW7C,EAAW0H,GAC/DpF,GAAQ,QAER+H,EAAKgL,aAAajW,EAAQyD,GAAW8S,WAAa1T,EAAWyF,EAE7D7E,EAAYqP,EAAY9O,mBAAmBP,GAG/C,OAAOP,CACX,EAEA+M,QAAS,WACL,IASI9L,EATAiL,EAAe7P,KAAK6P,eAMpBoH,EA6gBZ,SAAoBC,EAAOC,GACvB,OAAOD,EAAMlN,MAAMmN,GAAKC,OAAOF,EAAMlN,MAAM,EAAGmN,GAClD,CA/gBoBE,CAJOrX,KAAK0R,YAAc7B,EAAayH,KAAKC,WAAWC,KAAI,SAAS1N,GAC5E,OAAOA,EAAK,EAChB,IAAK+F,EAAayH,KAAKL,MAEcpH,EAAaC,UAC9C/K,EAAU9E,EAAEuX,IAAIP,GAAO,SAAS3N,GAAS,MAAO,CAAEI,KAAMJ,EAAS,IACjEjI,EAAYrB,KAAKwT,iBAEjBD,EAAcvT,KAAK8L,aAEvB,GAAIzK,EAAU2F,OACV,GAAIhH,KAAK0D,uBAAwB,CAE7B,IADA,IAAI+T,EAAQ,GACHN,EAAM,EAAGA,EAAM,EAAGA,IACvBM,EAAMxN,KAAK,CAAEP,KAAM,oBAAqBK,UAAW,yBAEvDnF,EAAO2O,EAAY5O,kBAAkBtD,EAAWoW,EAAOzX,KAAK6E,oBAAqBE,GACjFA,EAAUwO,EAAYzO,6BAA6BzD,EAAWoW,EAAOzX,KAAK6E,oBAAqBE,EAEnG,MACIA,EAAUwO,EAAYvO,qBAAqB3D,EAAW0D,EAAS/E,KAAK6E,oBAAqBE,GAIjG,MAAO,CACHA,QAASA,EACTH,KAAMA,EAEd,EAEAmB,oBAAqB,SAASV,GAC1B,IAAI8C,EAAUnI,KAAKmI,QACfsJ,EAAWtJ,EAAQsJ,SAEnB8C,EAAWvU,KAAK0R,YAEpBrM,EAAMxD,WAAa4P,IAAiC,IAArBA,EAAS1P,UAAsBwS,EAC9DlP,EAAMpD,UAAYwP,IAAgC,IAApBA,EAASiG,SAAqBnD,EAC5DlP,EAAMnE,GAAKrB,EAAMqB,GACjBmE,EAAMhE,UAAYrB,KAAK2X,eAAetS,GACtCA,EAAMkD,cAAe,EACrBlD,EAAMvD,SAAWqG,EAAQrG,UAAY,CAAEC,QAAS,UAEhD,IAAI0J,EAAUxL,EAAED,KAAKyO,cAAcxO,EAAEK,OAAO,CAAC,EAAG+E,EAAO,CACnDjE,UAAWpB,KAAK4X,sBAAsBvS,EAAMlD,MAAOkD,EAAMhC,MAAOgC,EAAMI,IAAKJ,EAAM6M,UACjFpR,SAAUd,KAAKmI,QAAQsG,kBAK3B,OAFA5O,EAAMgY,+BAA+BpM,EAAS,CAAC,mBAAoB,iBAE5DA,CACX,EAEAqM,cAAe,SAASzS,GACpB,IAAKrF,KAAKuE,QAAiC,IAAvBvE,KAAKuE,OAAOyC,OAC5B,OAAO,EAGX,IAAIzC,EAASvE,KAAKuE,OAAO,GACrBwT,EAAYxT,EAAO+Q,YAAYjS,MAC/B2U,EAAUzT,EAAO0T,WAAWxS,IAAM,EAElCyS,EAAYrY,EAAMa,KAAKyX,UAAU9S,EAAMhC,OACvC+U,EAAUvY,EAAMa,KAAKyX,UAAU9S,EAAMI,KAEzC,OAAQ0F,EAAc+M,EAAWH,EAAWC,IACxC7M,EAAciN,EAASL,EAAWC,IAClC7M,EAAc4M,EAAWG,EAAWE,IACpCjN,EAAc6M,EAASE,EAAWE,OAChCjN,EAAciN,EAASL,EAAWA,IAAc5M,EAAciN,EAASF,EAAWA,IAAc7S,EAAM6M,SAChH,EAEAmG,WAAY,SAAS3X,GACjB,OAAOV,KAAK0W,aAAajW,EAAQC,GAAMsW,UAC3C,EAEA5R,qBAAsB,SAASkT,EAAW7M,EAASnG,GAC/C,IAGI8B,EAHAD,EAAYmR,EAAUjV,MACtBkV,EAAUvY,KAAKwU,MAAMZ,KAAK,2CAA2C,GACrE4E,EAAYxY,KAAKwU,MAAMZ,KAAK,wBAAwB,GAGpD0E,EAAUjV,MAAM+D,WAAakR,EAAU7S,IAAI2B,aAC5CD,EAAYmR,EAAU7S,KAGzB,IAAI0E,EAAamO,EAAUjV,MAAMgF,MAC7B+B,EAAWD,EAGX4D,EAAS3N,EAAcqY,gBAAgBH,EAAUvK,SAAU5D,EAAYC,GAE3E2D,EAAO9D,KAAK,CAAEwB,QAASA,EAASpI,MAAO8G,EAAY1E,IAAK2E,IAExD,IAAIxF,EAAOxE,EAAcsY,WAAW3K,GAEhC7C,EAAOoN,EAAUhS,WAAWqS,GAAGxO,GAE/ByO,EAAY1N,EAAK0N,UAEhBA,IAGGxR,EAFApH,KAAK6Y,QAAUL,EAAUM,YAAcN,EAAUO,YAEpC5R,EAAUC,YAAcmR,EAAQO,YAAcN,EAAUM,aAAe,KAEvE3R,EAAUC,WAAa,KAGxCwR,EAAY3Y,EAAE,0CAA0CgI,IAAI,CACxDZ,IAAKF,EAAUG,UAAYH,EAAU8O,cAAgB9O,EAAUe,iBAAmB,KAClFhB,KAAME,EACNG,MAAOJ,EAAU4D,YAAc,OAGnCG,EAAK0N,UAAYA,EAEjB5Y,KAAKiE,QAAQ,GAAG+U,YAAYJ,EAAU,KAGtChU,EAAKoC,QA9BQ,IA+BbsR,EAAUW,SAAS,CAAExN,QAASA,EAASpI,MAAO8G,EAAY1E,IAAK2E,EAAU9F,WAAY6C,EAAU7C,aAE/FgB,EAAM4T,kBAAkBjP,KAAK,CACzBwB,QAASA,EACTtK,IAAKsK,EAAQnK,KAAKzB,EAAMyB,KAAK,QAC7B+B,MAAOiV,EAAUjV,MACjBoC,IAAK6S,EAAU7S,MAGnBmT,EAAU,GAAGI,YAAYvN,EAAQ,IAEzC,EAEAzF,eAAgB,SAASsS,EAAW7M,EAASnG,GACzC,IAAI8C,EAAcpI,KAAKmI,QAAQC,YAC3B6L,EAAejU,KAAKmI,QAAQ8L,aAC5B9M,EAAYmR,EAAUjV,MAEtBiV,EAAUjV,MAAM+D,WAAakR,EAAU7S,IAAI2B,aAC3CD,EAAYmR,EAAU7S,KAG1B,IAAI0E,EAAamO,EAAUjV,MAAMgF,MAC7B+B,EAAWkO,EAAU7S,IAAI4C,MACzB8Q,EAAahS,EAAUgS,WACvBpL,EAAS3N,EAAcqY,gBAAgBH,EAAUvK,SAAU5D,EAAYC,GACvEgP,EAAcjP,IAAeC,EAAW,EAAI,EAEhD2D,EAAO9D,KAAK,CAAEwB,QAASA,EAASpI,MAAO8G,EAAY1E,IAAK2E,IAIxD,IAFA,IAAIxF,EAAOxE,EAAcsY,WAAW3K,GAE3BoJ,EAAM,EAAGnQ,EAASoN,KAAKhJ,IAAIxG,EAAKoC,OAAQmS,GAAahC,EAAMnQ,EAAQmQ,IAaxE,IAZA,IAAIkC,EAAYzU,EAAKuS,GAAKpJ,OACtBuL,EAA4B,SAAhBlR,EACV,GAEEjB,EAAUG,UACVH,EAAU8O,cACV9O,EAAUe,iBA7yCL,EA+yCLiP,GAAO/O,EAAc6L,GACrB,KAGCsF,EAAI,EAAGC,EAAcH,EAAUrS,OAAQuS,EAAIC,EAAaD,IAC7DF,EAAUE,GAAG9N,QAAQ,GAAGyK,MAAM7O,IAAMiS,EACpCD,EAAUE,GAAG9N,QAAQnK,KAAKzB,EAAMyB,KAAK,SAAU6V,GAIvD,GAAIvS,EAAKoC,OAASmS,EACd,IAAK,IAAIzD,EAAYvL,EAAYuL,GAAatL,EAAUsL,IAAa,CACjE,IAEIxK,EAFaoN,EAAUhS,WAELqS,GAAGjD,GAErBxK,EAAKiL,OAITjL,EAAKiL,KAAOlW,EAAEoC,KAAwB4F,IAAI,CACtCV,MAAO2D,EAAK4N,YAAc,EAC1B5R,KAAMgE,EAAK9D,WAAa,EACxBC,IAAsB,SAAhBe,EACA,GAEE8C,EAAK5D,UACL4D,EAAK+K,cACL/K,EAAKhD,iBA30CR,EA60CIiR,EAAa/Q,GACX+Q,EAAa,GAAKlF,EA90CxB,IAm1CTjU,KAAKiE,QAAQ,GAAG+U,YAAY9N,EAAKiL,KAAK,IAC1C,KACG,CACHmC,EAAUW,SAAS,CAAExN,QAASA,EAASpI,MAAO8G,EAAY1E,IAAK2E,EAAU9F,WAAY6C,EAAU7C,aAE/FmH,EAAQ,GAAGyK,MAAM3O,MAAQ+Q,EAAU9Q,aAAe4R,EAAc,KAChE3N,EAAQ,GAAGyK,MAAMhP,KAAOC,EAAUC,WAAa,EAAI,KACnDqE,EAAQ,GAAGyK,MAAMzO,OAA0B,SAAhBW,EAA0B,GAAKA,EAAc,KAExE9C,EAAM4T,kBAAkBjP,KAAK,CACzBwB,QAASA,EACTtK,IAAKsK,EAAQnK,KAAKzB,EAAMyB,KAAK,QAC7B+B,MAAOiV,EAAUjV,MACjBoC,IAAK6S,EAAU7S,IACfqP,MAAO2E,SAAShO,EAAQnK,KAAKzB,EAAMyB,KAAK,UAAW,MAGvDmK,EAAQiO,SAAS1Z,KAAKiE,SAEtBjE,KAAK2Z,mBAAmBlO,GAGxB,IAAImO,EAAmBtB,EAAUjV,MAAMwJ,gBACnCgN,EAAkBvB,EAAUjV,MAAMgF,MAClCyR,EAAaxU,EAAMsF,oBAAoBgP,GAAkBrP,OAAOsP,GAE/DC,EAAWpF,YACZoF,EAAWpF,UAAY,IAG3BoF,EAAWpF,UAAUzK,KAAK,CACtBxC,OAAyB,SAAhBW,EAA0BqD,EAAQsO,cAAgB3R,EAC3Df,IAAK,EACL8C,WAAY0P,EACZzP,SAAUkO,EAAU7S,IAAI4C,MACxBlH,IAAKsK,EAAQnK,KAAKzB,EAAMyB,KAAK,QAC7BwT,MAAO2E,SAAShO,EAAQnK,KAAKzB,EAAMyB,KAAK,UAAW,KAE3D,CACJ,EAEA+P,gBAAiB,SAASjN,EAAGC,GACzB,IAAI8M,EAASnR,KAAKiE,QAAQkN,SAE1B/M,GAAK+M,EAAOjK,KACZ7C,GAAK8M,EAAO9J,IACZhD,GAAKrE,KAAKiE,QAAQ,GAAG+V,UACrB5V,GAAKpE,KAAKiE,QAAQ,GAAGgW,WAErB7V,EAAIgQ,KAAK8F,KAAK9V,GACdC,EAAI+P,KAAK8F,KAAK7V,GAEd,IAAK,IAAIC,EAAa,EAAGA,EAAatE,KAAKuE,OAAOyC,OAAQ1C,IAAc,CACpE,IAAI4G,EAAOlL,KAAK8L,aAAa3H,uBAAuBC,EAAGC,EAAGC,GAE1D,GAAI4G,EACA,OAAOA,CAEf,CAEA,OAAO,IACX,EAEApD,kBAAmB,SAASH,GACxBA,EAAK+R,SAAS1Z,KAAKiE,SAEnBjE,KAAKma,YAAcna,KAAKma,YAAYC,IAAIzS,EAC5C,EAEA0S,kBAAmB,SAAShV,EAAOf,EAAY4T,EAAWE,GACtDpY,KAAKsa,oBAML,IAJA,IAEI7N,EAFQzM,KAAKuE,OAAOD,GAELmI,OAAOyL,EAAWE,GAAS,EAAM/S,EAAM6M,UAEjDxM,EAAa,EAAGA,EAAa+G,EAAOzF,OAAQtB,IACjD1F,KAAK8L,aAAa7E,kBAAkBwF,EAAO/G,IAG/C1F,KAAKma,YAAYvG,KAAK,gCAAgClK,KAAK,IAE3D1J,KAAKma,YAAYvF,QAAQtM,SAAS,WAAWsL,KAAK,gBAAgBlK,KAAK7J,EAAMkB,SAASlB,EAAM0a,SAASC,YAAYtC,GAAY,SAE7HlY,KAAKma,YAAYM,OAAOnS,SAAS,UAAUsL,KAAK,mBAAmBlK,KAAK7J,EAAMkB,SAASlB,EAAM0a,SAASC,YAAYpC,GAAU,QAChI,EAEAsC,gBAAiB,SAASrV,EAAOf,EAAYqW,GACzC,IAAItX,EAAQxD,EAAMa,KAAKyX,UAAU9S,EAAMhC,OAASsX,EAE5ClV,EAAMpC,EAAQgC,EAAMuV,WAIpBnO,EAFQzM,KAAKuE,OAAOD,GAELmI,OAAOpJ,EAAOoC,GAAK,EAAMJ,EAAM6M,UAElDlS,KAAK6a,gBAAgBxV,EAAMlE,KAE3B,IAAK,IAAIuE,EAAa,EAAGA,EAAa+G,EAAOzF,OAAQtB,IACjD1F,KAAK8L,aAAa/D,gBAAgB0E,EAAO/G,GAAaL,EAE9D,EAEAmD,gBAAiB,SAASb,GACtBA,EAAK+R,SAAS1Z,KAAKiE,SAEnBjE,KAAK8a,UAAY9a,KAAK8a,UAAUV,IAAIzS,EACxC,EAEA2E,QAAS,WACL,IAAIpG,EAAalG,KAAK4I,cAClBzC,EAAYnG,KAAKiE,QAAQ,GAAG8W,qBAAqB,MACjD7W,EAAYlE,KAAKkE,YACrBlE,KAAKuE,OAAS,GAEd,IAAK,IAAI4S,EAAM,EAAGA,EAAMjR,EAAYiR,IAChCnX,KAAKgb,iBAAiB7D,GAG1BnX,KAAK8L,aAAa7F,uBAAuBC,EAAYC,EAAWjC,EACpE,EAGA2C,WAAY,SAASP,EAAYM,EAAM1C,EAAWf,GAC9C,IAAIE,EAAQxD,EAAMa,KAAKqD,QAAQG,EAAWf,GACtCsC,EAAM5F,EAAMa,KAAKC,WACjBgL,EAAe3L,KAAKmI,QAAQwD,aAE5BzH,EAAUgM,aAAe7M,EAAM6M,aAC/BzK,IAAQvB,EAAUgM,WAAa7M,EAAM6M,YAAcrQ,EAAMa,KAAKua,aAIlExV,GADApC,EAAQxD,EAAMa,KAAKyX,UAAU9U,GAG7BiD,EAAWO,WAAWD,EAAMvD,EAAOoC,EAAKkG,EAC5C,EAEAuP,OAAQ,SAASnN,GACb/N,KAAKiE,QAAQwC,SAAS,+CAA+C0U,SAErEnb,KAAKob,cAAgBrN,EAErB/N,KAAKsM,UAELyB,EAAS,IAAIlO,EAAMsJ,KAAKkS,MAAMtN,GACzB4G,KAAK,CAAC,CAAE9K,MAAO,QAASyR,IAAK,OAAQ,CAAEzR,MAAO,MAAOyR,IAAK,UAC1DC,UACA1I,OAAO,SAASxN,GACb,OAAOrF,KAAK8X,cAAczS,EAC9B,EAAEmW,KAAKxb,OAEX,IAAIqB,EAAYrB,KAAKwT,iBACjBe,EAAWvU,KAAK0R,YAChB1F,EAAkBhM,KAAKiM,mBACvBJ,EAAqB7L,KAAKmI,QAAQ0D,mBAEtC7L,KAAKgV,sBAAoC,IAAbT,IAAyC,IAApBvI,GAAiD,IAArB3K,EAAU2F,SAAuC,IAAvB6E,EAEnGxK,EAAU2F,OACVhH,KAAKyb,cAAc1N,EAAQ1M,EAAW,EAAG,GAEzCrB,KAAK0b,cAAc3N,EAAQ,GAG/B/N,KAAK8Q,gBACL9Q,KAAK2b,eAAe5N,GAEpB/N,KAAKuR,QAAQ,WACjB,EAEAmK,cAAe,SAAS3N,EAAQzJ,GAC5B,IAAIgB,EAAQtF,KAAKuE,OAAOD,GAEpBiQ,EADOvU,KAAK8L,aAAanJ,MACT+O,YAEfpM,IAIAA,EAAM4T,oBACP5T,EAAM4T,kBAAoB,IAG1B3E,EAEAxG,EAAOkH,QAAQ,SAAS5P,GAUpB,IATA,IAAIoH,EAASnH,EAAMsW,WAAWvW,GAAO,GACjCE,EAAQkH,EAAO,GACfpJ,EAAQkC,EAAMlC,MAAMA,MACpBoC,EAAMF,EAAME,IAAIA,IAChBoW,EAAa,IAAI/V,KAAKP,EAAMlC,MAAMA,OAClCyY,EAAWrP,EAAOA,EAAOzF,OAAS,GAAGvB,IAAIA,IACzCkI,EAAW,IAAI7H,KAAK+V,GACpBjO,EAAS,IAAI9H,KAAKL,GAEfoW,EAAW7E,WAAa8E,GAC3BzW,EAAMI,KAAO5F,EAAM0a,SAASC,YAAYqB,IACxCxW,EAAMhC,OAASxD,EAAM0a,SAASC,YAAYsB,IAAW,CACrD,IAAItR,EAAYlF,EAAMmF,cAAckD,EAASqJ,UAAWpJ,EAAOoJ,WAAW,GAAM,GAChFpJ,EAAOmO,QAAQnO,EAAOnN,UAAY,GAClCkN,EAASoO,QAAQpO,EAASlN,UAAY,GAElC+J,IACAA,EAAUxI,KAAO,KACjBwI,EAAU/I,OAAS,KACnB+I,EAAUhJ,KAAO,KACjBxB,KAAK8L,aAAa1G,qBAAqBC,EAAOC,EAAOkF,EAAW,EAAGnH,EAAOoC,EAAK,IAGnFoW,EAAahc,EAAMa,KAAKqD,QAAQ8X,EAAY,EAChD,CAEJ,EAAEL,KAAKxb,QAIP+N,EAAOkH,QAAQ,SAAS5P,GAOpB,IANA,IAAIE,EACAlC,EAAQgC,EAAMhC,MACdoC,EAAMJ,EAAMI,IACZgH,EAASnH,EAAMsW,WAAWvW,GAAO,GACjCG,EAAaiH,EAAOzF,OAEftB,EAAa,EAAGA,EAAaF,EAAYE,IAC9CH,EAAQkH,EAAO/G,GAEf1F,KAAK8L,aAAa9F,eAAeX,EAAOC,EAAOC,EAAOC,EAAYnC,EAAOoC,EAAKC,EAGtF,EAAE8V,KAAKxb,QAE2B,IAA9BA,KAAKgV,sBACLhV,KAAK+U,kBAAkBzP,IAInC,EAEAmW,cAAe,SAAS1N,EAAQ1M,EAAW8P,EAAQ+B,EAAa8I,GAC5D,IAAI/S,EAAW5H,EAAU,GAEzB,GAAI4H,EAAU,CACV,IAAIvG,EAAOuG,EAASG,WAAW1G,OAE/BA,EAAOA,EAAKmQ,QAAO,SAASoJ,GACxB,IAAIC,EAAkBrc,EAAM0J,OAAON,EAASkT,qBAAtBtc,CAA4Coc,GAElE,OAAOC,SAA6DA,IAAoBF,CAC5F,IAEA,IAAK,IAAII,EAAU,EAAGA,EAAU1Z,EAAKsE,OAAQoV,IAAW,CACpD,IAAI9S,EAAQtJ,KAAKqc,eAAepT,EAAUvG,EAAK0Z,IAE3CE,EAAM,IAAIzc,EAAMsJ,KAAKkS,MAAMtN,GAAQ8E,OAAO,CAAEhJ,MAAOZ,EAASY,MAAO0S,SAAUnc,EAAcoc,cAAclT,KAAUiS,UAEnHla,EAAU2F,OAAS,EACnBmK,EAASnR,KAAKyb,cAAca,EAAKjb,EAAU2I,MAAM,GAAImH,IAAU+B,EAAc,EAAG5J,GAEhFtJ,KAAK0b,cAAcY,EAAKnL,IAEhC,CACJ,CACA,OAAOA,CACX,EAEAvI,YAAa,WACT,IAAIvH,EAAYrB,KAAKwT,iBACjBD,EAAcvT,KAAK8L,aAEvB,OAAIzK,EAAU2F,OACNhH,KAAK0D,uBACE6P,EAAYtO,oBAAoB5D,EAAU2F,OAAS,GAEnDuM,EAAYrO,sBAAsB7D,EAAU2F,QAGpD,CACX,EAEA7B,yBAA0B,SAASkD,GAC/B,OAAOrI,KAAKgD,qBAAqBqF,GAASrI,KAAKgD,qBAAqBqF,EAAQ,EAChF,EAEAtG,QAAS,WACD/B,KAAKwU,OACLxU,KAAKwU,MAAMiI,YAAY,yBAGvBzc,KAAKiE,SACLjE,KAAKiE,QAAQyY,IAAIrc,GAGjBL,KAAKyL,SACLzL,KAAKyL,QAAQiR,IAAIrc,GAGrBD,EAAcwH,GAAG7F,QAAQ8F,KAAK7H,MAE1BA,KAAK0R,aAAe1R,KAAKmI,QAAQsJ,WACI,IAAjCzR,KAAKmI,QAAQsJ,SAASK,QACtB9R,KAAKwS,eAAezQ,SAGhC,EAEAgM,OAAQ,CAAC,SAAU,MAAO,OAAQ,YAElC5F,QAAS,CACLhG,MAAO,QACP2H,KAAM,QACN1B,YAAa,GACbwD,iBAAkB,GAClB6F,UAAU,EACV5C,mBAAoB,QACpBI,wBAAyB,QACzBE,yBAA0B,WAC1BtK,oBAAqB,EAAG6E,UAAWA,EACnCgF,YAAa7N,EACb4N,cAAevM,EACfyJ,aAAc,EACdE,oBAAoB,EACpBoI,aAAc,EACd0I,cAAe,CACXC,SAAU,KACVC,SAAS,EACTC,eAAgB,OA8B/B,CAxtDD,CAwtDG5c,OAAOL,MAAMkd,QAChB,IAAIC,EAAUnd,MAEdP,EAAQ2d,SApuDS,CACbC,GAAI,sBACJpT,KAAM,uBACNqT,SAAU,MACVC,YAAa,2BACbC,QAAS,CAAE,iBAAkB,SAC7BC,QAAQ,GA+tDZhe,EAAQie,QAAUP,EAElBQ,OAAOC,eAAene,EAAS,aAAc,CAAEgK,OAAO,GAEzD","ignoreList":[],"sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('kendo.scheduler.view.js'), require('kendo.icons.js')) :\n    typeof define === 'function' && define.amd ? define(['exports', 'kendo.scheduler.view', 'kendo.icons'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory((global.kendo = global.kendo || {}, global.kendo._globals = global.kendo._globals || {}, global.kendo._globals.SchedulerMonthview = {})));\n})(this, (function (exports) {\n    const __meta__ = {\n        id: \"scheduler.monthview\",\n        name: \"Scheduler Month View\",\n        category: \"web\",\n        description: \"The Scheduler Month View\",\n        depends: [ \"scheduler.view\", \"icons\" ],\n        hidden: true\n    };\n\n    (function($) {\n        var kendo = window.kendo,\n            ui = kendo.ui,\n            SchedulerView = ui.SchedulerView,\n            NS = \".kendoMonthView\",\n            extend = $.extend,\n            encode = kendo.htmlEncode,\n            getDate = kendo.date.getDate,\n            MS_PER_DAY = kendo.date.MS_PER_DAY,\n            NUMBER_OF_ROWS = 6,\n            NUMBER_OF_COLUMNS = 7,\n            INVERSE_COLOR_CLASS = \"k-event-inverse\",\n            DAY_TEMPLATE = kendo.template(({ date }) => `<span class=\"k-link k-nav-day\">${encode(kendo.toString(date, \"dd\"))}</span>`),\n            EVENT_WRAPPER_STRING = (task) =>\n                `<div role=\"button\" data-${task.ns}uid=\"${task.uid}\" aria-label=\"${encode(task.ariaLabel)}\" ` +\n                (task.resources[0] ? `${kendo.attr(\"style-background-color\")}=\"${task.resources[0].color}\" ${kendo.attr(\"style-border-color\")}=\"${task.resources[0].color}\" class=\"k-event\">` : 'class=\"k-event\">') +\n                    '<span class=\"k-event-actions\">' +\n                        `${task.tail || task.middle ? kendo.ui.icon(\"caret-alt-left\") : ''}` +\n                        `${task.isException() ? kendo.ui.icon(\"arrows-no-repeat\") :\n                        (task.isRecurring() ? kendo.ui.icon(\"arrow-rotate-cw\") : '')}` +\n                    '</span>' +\n                    `${kendo.template(task.template)(task)}` +\n                    '<span class=\"k-event-actions\">' +\n                        `${task.showDelete ? `<a href=\"#\" class=\"k-link k-event-delete\" title=\"${task.messages.destroy}\" aria-label=\"${task.messages.destroy}\">${kendo.ui.icon(\"x\")}</a>` : ''}` +\n                        `${task.head || task.middle ? kendo.ui.icon(\"caret-alt-right\") : ''}` +\n                    '</span>' +\n                    (task.resizable && !task.tail && !task.middle ? '<span class=\"k-resize-handle k-resize-w\"></span>' : '') +\n                    (task.resizable && !task.head && !task.middle ? '<span class=\"k-resize-handle k-resize-e\"></span>' : '') +\n                '</div>',\n            EVENT_TEMPLATE = kendo.template(({ title }) => `<div title=\"${title.replace(/\"/g,\"&#34;\")}\">` +\n                        `<div class=\"k-event-template\">${encode(title)}</div>` +\n                    '</div>');\n\n        var CELL_INNER_SPACING = 2;\n\n        var MORE_BUTTON_TEMPLATE = kendo.template(() =>\n            `<div role=\"button\" aria-label=\"Show all events in Day view.\" class=\"k-more-events k-button k-button-md k-rounded-md k-button-solid k-button-solid-base\">${kendo.ui.icon({ icon: \"more-horizontal\", iconClass: \"k-button-icon\" })}</div>`\n        );\n\n        var MonthGroupedView = kendo.Class.extend({\n            init: function(view) {\n                this._view = view;\n            },\n\n            _verticalRowCountForLevel: function(level) {\n                var view = this._view;\n\n                return view._rowCountForLevel(level);\n            },\n\n            _horizontalGroupCountForLevel: function(level) {\n                var view = this._view;\n\n                return view._columnCountForLevel(level);\n            },\n\n            _getCalendarRowsLength: function(cellsPerRow, cellCount) {\n                return cellCount / cellsPerRow;\n            },\n\n            _createRows: function(start, startIdx, horizontalGroupCount, verticalGroupIndex) {\n                var view = this._view;\n                var cellsPerRow = NUMBER_OF_COLUMNS;\n                var isVerticallyGrouped = view._isVerticallyGrouped();\n                var html = \"\";\n\n                for (var groupIdx = 0; groupIdx < horizontalGroupCount; groupIdx++) {\n                    html += view._createRow(start, startIdx, cellsPerRow, isVerticallyGrouped ? verticalGroupIndex : groupIdx);\n                }\n\n                return html;\n            },\n\n            _adjustStartDate: function(start) {\n                return kendo.date.addDays(start, NUMBER_OF_COLUMNS);\n            },\n\n            _getContent: function(content, startDate, resources) {\n                return content({ date: startDate, resources: resources });\n            },\n\n            _getTimeSlotByPosition: function(x, y, groupIndex) {\n                var group = this._view.groups[groupIndex];\n\n                return group.daySlotByPosition(x, y);\n            },\n\n            _nextSlotStartDate: function(startDate) {\n                return kendo.date.nextDay(startDate);\n            },\n\n            _createRowsLayout: function(resources, rows, groupHeaderTemplate) {\n                var view = this._view;\n\n                return view._createRowsLayout(resources, rows, groupHeaderTemplate);\n            },\n\n            _createVerticalColumnsLayout: function(resources, rows, groupHeaderTemplate, columns) {\n\n                return columns;\n            },\n\n            _createColumnsLayout: function(resources, columns, groupHeaderTemplate) {\n                var view = this._view;\n\n                return view._createColumnsLayout(resources, columns, groupHeaderTemplate);\n            },\n\n            _verticalGroupCount: function(level) {\n                var view = this._view;\n\n                return view._rowCountForLevel(level);\n            },\n\n            _horizontalGroupCount: function(level) {\n                var view = this._view;\n\n                return view._columnCountForLevel(level) / view._columnOffsetForResource(level);\n            },\n\n            _positionMobileEvent: function(event, group, range, rangeCount, start, end, rangeIndex) {\n                var view = this._view;\n\n                if (rangeCount > 1) {\n                    if (rangeIndex === 0) {\n                        end = range.end.endDate();\n                    } else if (rangeIndex == rangeCount - 1) {\n                        start = range.start.startDate();\n                    } else {\n                        start = range.start.startDate();\n                        end = range.end.endDate();\n                    }\n                }\n\n                var occurrence = event.clone({ start: new Date(start), end: new Date(end), head: range.head, tail: range.tail });\n\n                view._positionMobileEvent(range, view._createEventElement(occurrence), group);\n            },\n\n            _positionEvent: function(event, group, range, rangeCount, start, end, rangeIndex) {\n                var view = this._view;\n\n                if (rangeCount > 1) {\n                    if (rangeIndex === 0) {\n                        end = range.end.endDate();\n                    } else if (rangeIndex == rangeCount - 1) {\n                        start = range.start.startDate();\n                    } else {\n                        start = range.start.startDate();\n                        end = range.end.endDate();\n                    }\n                }\n\n                var occurrence = event.clone({ start: start, end: end, head: range.head, tail: range.tail });\n\n                view._positionEvent(range, view._createEventElement(occurrence), group);\n            },\n\n            _addDaySlotCollections: function(groupCount, tableRows, startDate) {\n                var view = this._view;\n                var columnCount = NUMBER_OF_COLUMNS;\n                var rowCount = NUMBER_OF_ROWS;\n\n                for (var groupIndex = 0; groupIndex < groupCount; groupIndex++) {\n                    var cellCount = 0;\n                    var rowMultiplier = 0;\n\n                    if (view._isVerticallyGrouped()) {\n                        rowMultiplier = groupIndex;\n                    }\n\n                    for (var rowIndex = rowMultiplier * rowCount; rowIndex < (rowMultiplier + 1) * rowCount; rowIndex++) {\n                        var group = view.groups[groupIndex];\n                        var collection = group.addDaySlotCollection(kendo.date.addDays(startDate, cellCount), kendo.date.addDays(startDate, cellCount + columnCount));\n\n                        var tableRow = tableRows[rowIndex];\n                        var cells = tableRow.children;\n                        var cellMultiplier = 0;\n\n                        if (!view._isVerticallyGrouped()) {\n                            cellMultiplier = groupIndex;\n                        }\n\n                        for (var cellIndex = cellMultiplier * columnCount; cellIndex < (cellMultiplier + 1) * columnCount; cellIndex++) {\n                            var cell = cells[cellIndex];\n\n                            view.addDaySlot(collection, cell, startDate, cellCount);\n                            cellCount++;\n                        }\n                    }\n                }\n            },\n\n            _changePeriodGroupIndex: function(reverse) {\n                var view = this._view;\n\n                return reverse ? view.groups.length - 1 : 0;\n            },\n\n            _createResizeHint: function(range) {\n                var view = this._view;\n                var left = range.startSlot().offsetLeft;\n                var top = range.start.offsetTop;\n                var width = range.innerWidth();\n                var height = range.start.clientHeight - 2;\n                var hint = SchedulerView.fn._createResizeHint.call(view, left, top, width, height);\n\n                view._appendResizeHint(hint);\n            },\n\n            _createMoveHint: function(range, event) {\n                var view = this._view;\n                var startSlot = range.startSlot();\n                var endSlot = range.endSlot();\n                var hint = view._createEventElement(event.clone({ head: range.head, tail: range.tail }));\n\n                hint.css({\n                    left: startSlot.offsetLeft + 2,\n                    top: startSlot.offsetTop + startSlot.firstChildHeight,\n                    height: (view.options.eventHeight === \"auto\") ? 25 : view.options.eventHeight,\n                    width: range.innerWidth() - (startSlot.index !== endSlot.index ? 3 : 2)\n                });\n\n                hint.addClass(\"k-event-drag-hint\");\n\n                if (event.inverseColor) {\n                    hint.addClass(INVERSE_COLOR_CLASS);\n                }\n\n                view._appendMoveHint(hint);\n            }\n        });\n\n        var MonthGroupedByDateView = kendo.Class.extend({\n            init: function(view) {\n                this._view = view;\n            },\n\n            _verticalRowCountForLevel: function() {\n                return 1;\n            },\n\n            _horizontalGroupCountForLevel: function(level) {\n                var view = this._view;\n\n                return view._columnCountForLevel(level + 1) / NUMBER_OF_COLUMNS;\n            },\n\n            _createRows: function(start, startIdx, horizontalGroupCount) {\n                var view = this._view;\n                var cellsPerRow = NUMBER_OF_COLUMNS;\n                var isVerticallyGrouped = view._isVerticallyGrouped();\n                var html = \"\";\n                var dateIdx = 0;\n\n                if (isVerticallyGrouped) {\n                    var verticalStart = new Date(start);\n                    var groupCount = view._groupCount();\n                    for (dateIdx; dateIdx < NUMBER_OF_ROWS; dateIdx++) {\n                        html += view._createRow(verticalStart, startIdx, groupCount, dateIdx);\n\n                        verticalStart = kendo.date.addDays(verticalStart, cellsPerRow);\n                    }\n                    start = kendo.date.nextDay(start);\n                } else {\n                    for (dateIdx; dateIdx < cellsPerRow; dateIdx++) {\n                        html += view._createRow(start, startIdx, horizontalGroupCount, dateIdx);\n                        start = kendo.date.nextDay(start);\n                    }\n                    start = kendo.date.addDays(start, cellsPerRow);\n                }\n\n                return html;\n            },\n\n            _adjustStartDate: function(start, isLastRow) {\n                var view = this._view;\n                var isVerticallyGrouped = view._isVerticallyGrouped();\n\n                if (isVerticallyGrouped) {\n                    if (isLastRow) {\n                        return kendo.date.addDays(start, NUMBER_OF_COLUMNS * (NUMBER_OF_ROWS - 1) + 1);\n                    } else {\n                        return kendo.date.nextDay(start);\n                    }\n                }\n\n                return kendo.date.addDays(start, NUMBER_OF_COLUMNS);\n            },\n\n            _getContent: function(content, startDate, resources, cellIdx) {\n                if (cellIdx === 0) {\n                    return content({ date: startDate, resources: resources });\n                }\n                return \"\";\n            },\n\n            _getTimeSlotByPosition: function(x, y, groupIndex) {\n                var group = this._view.groups[groupIndex];\n\n                return group.daySlotByPosition(x, y, true);\n            },\n\n            _nextSlotStartDate: function(startDate) {\n                return startDate;\n            },\n\n            _getCalendarRowsLength: function() {\n                var view = this._view;\n                var isVerticallyGrouped = view._isVerticallyGrouped();\n\n                return isVerticallyGrouped ? NUMBER_OF_COLUMNS : NUMBER_OF_ROWS;\n            },\n\n            _createRowsLayout: function(resources, rows, groupHeaderTemplate, columns) {\n                var view = this._view;\n\n                return view._createDateLayout(columns, null, false);\n            },\n\n            _createVerticalColumnsLayout: function(resources, rows, groupHeaderTemplate) {\n                var view = this._view;\n                var resource = resources[0];\n                var configuration = [];\n                var data = resource.dataSource.view();\n\n                for (var dataIndex = 0; dataIndex < data.length * NUMBER_OF_ROWS; dataIndex++) {\n                    var value = kendo.getter(resource.dataValueField)(data[dataIndex % data.length]);\n                    var obj = {\n                        text: groupHeaderTemplate({\n                            text: kendo.htmlEncode(kendo.getter(resource.dataTextField)(data[dataIndex % data.length])),\n                            color: kendo.getter(resource.dataColorField)(data[dataIndex % data.length]),\n                            field: resource.field,\n                            title: resource.title,\n                            name: resource.name,\n                            value: value\n                        }),\n                        className: \"k-slot-cell\",\n                        value: value\n                    };\n\n                    obj.columns = view._createColumnsLayout(resources.slice(1), null, groupHeaderTemplate, null, null, value);\n\n                    configuration.push(obj);\n                }\n\n                return configuration;\n            },\n\n            _createColumnsLayout: function(resources, columns, groupHeaderTemplate, subColumns) {\n                var view = this._view;\n\n                return view._createColumnsLayout(resources, columns, groupHeaderTemplate, subColumns, true);\n            },\n\n            _verticalGroupCount: function(level) {\n                var view = this._view;\n\n                return view._columnCountForLevel(level) / NUMBER_OF_ROWS;\n            },\n\n            _horizontalGroupCount: function(level) {\n                var view = this._view;\n                return view._columnCountForLevel(level) / NUMBER_OF_COLUMNS;\n            },\n\n            _positionMobileEvent: function(event, group, range, rangeCount, start, end) {\n                var view = this._view;\n                var startIndex = range.start.index;\n                var endIndex = range.end.index;\n\n                for (var i = range.start.index; i <= range.end.index; i++) {\n                    var currentSlot = range.collection._slots[i];\n                    var dateRange = group.daySlotRanges(currentSlot.start, currentSlot.start, true)[0];\n\n                    var occurrence = event.clone({\n                        start: i === startIndex ? start : currentSlot.startDate(),\n                        end: i === endIndex ? end : currentSlot.endDate(),\n                        head: i !== endIndex || range.head,\n                        tail: i !== startIndex || range.tail });\n\n                    view._positionMobileEvent(dateRange, view._createEventElement(occurrence), group);\n                }\n            },\n\n            _positionEvent: function(event, group, range, rangeCount, start, end) {\n                var view = this._view;\n                var startIndex = range.start.index;\n                var endIndex = range.end.index;\n\n                for (var i = range.start.index; i <= range.end.index; i++) {\n                    var currentSlot = range.collection._slots[i];\n                    var dateRange = group.daySlotRanges(currentSlot.start, currentSlot.start, true)[0];\n\n                    var occurrence = event.clone({\n                        start: i === startIndex ? start : currentSlot.startDate(),\n                        end: i === endIndex ? end : currentSlot.endDate(),\n                        head: i !== endIndex || range.head,\n                        tail: i !== startIndex || range.tail });\n\n                    view._positionEvent(dateRange, view._createEventElement(occurrence), group);\n                }\n            },\n\n            _addDaySlotCollections: function(groupCount, tableRows, startDate) {\n                var view = this._view;\n                var columnCount = NUMBER_OF_COLUMNS;\n                var rowCount = NUMBER_OF_ROWS;\n                var isVerticallyGrouped = view._isVerticallyGrouped();\n\n                for (var dateIndex = 0; dateIndex < columnCount; dateIndex++) {\n                    for (var rowIndex = 0; rowIndex < rowCount; rowIndex++) {\n                        var groupIndex = 0;\n                        var currentTableIndex = isVerticallyGrouped ? dateIndex : rowIndex;\n                        var tableRow = tableRows[currentTableIndex];\n                        var cells = tableRow.children;\n                        var cellMultiplier = 0;\n\n                        if (!view._isVerticallyGrouped()) {\n                            cellMultiplier = dateIndex;\n                        }\n\n                        for (var cellIndex = cellMultiplier * groupCount; cellIndex < (cellMultiplier + 1) * groupCount; cellIndex++) {\n                            var cellCount = (rowIndex * columnCount) + dateIndex;\n                            var currentCellIndex = isVerticallyGrouped ? cellIndex + (rowIndex * groupCount) : cellIndex;\n                            var cell = cells[currentCellIndex];\n                            var currentGroupIndex = isVerticallyGrouped ? cellIndex : groupIndex;\n                            var group = view.groups[currentGroupIndex];\n                            var collection;\n                            if (dateIndex === 0) {\n                                collection = group.addDaySlotCollection(kendo.date.addDays(startDate, cellCount), kendo.date.addDays(startDate, cellCount + columnCount));\n                            } else {\n                                collection = group._daySlotCollections[rowIndex];\n                            }\n\n                            view.addDaySlot(collection, cell, startDate, cellCount);\n                            groupIndex++;\n                        }\n                    }\n                }\n            },\n\n            _changePeriodGroupIndex: function(reverse, vertical, selectionGroupIndex) {\n                var view = this._view;\n\n                if (vertical && view._isVerticallyGrouped()) {\n                    return reverse ? view.groups.length - 1 : 0;\n                }\n\n                return selectionGroupIndex;\n            },\n\n            _createResizeHint: function(range) {\n                var view = this._view;\n                var left, top, width, height, hint;\n\n                if (view._isVerticallyGrouped()) {\n                left = range.startSlot().offsetLeft;\n                top = range.start.offsetTop;\n                width = range.startSlot().offsetWidth;\n                height = range.endSlot().offsetTop + range.startSlot().offsetHeight - range.startSlot().offsetTop - 2;\n                hint = SchedulerView.fn._createResizeHint.call(view, left, top, width, height);\n\n                view._appendResizeHint(hint);\n                } else {\n                    for (var slotIdx = range.startSlot().index; slotIdx <= range.endSlot().index; slotIdx++) {\n                        var slot = range.collection._slots[slotIdx];\n                        left = slot.offsetLeft;\n                        top = slot.offsetTop;\n                        width = slot.offsetWidth;\n                        height = slot.offsetHeight - 2;\n                        hint = SchedulerView.fn._createResizeHint.call(view, left, top, width, height);\n\n                        view._appendResizeHint(hint);\n                    }\n                }\n            },\n\n            _createMoveHint: function(range, event) {\n                var view = this._view;\n                var startSlot = range.startSlot();\n                var endSlot = range.endSlot();\n\n                for (var slotIdx = startSlot.index; slotIdx <= endSlot.index; slotIdx++) {\n                    var slot = range.collection._slots[slotIdx];\n                    var hint = view._createEventElement(event.clone({ head: range.head, tail: range.tail }));\n\n                    hint.css({\n                        left: slot.offsetLeft,\n                        top: slot.offsetTop + slot.firstChildHeight,\n                        height: (view.options.eventHeight === \"auto\") ? 25 : view.options.eventHeight,\n                        width: slot.offsetWidth - 2\n                    });\n\n                    hint.addClass(\"k-event-drag-hint\");\n\n                    if (event.inverseColor) {\n                        hint.addClass(INVERSE_COLOR_CLASS);\n                    }\n\n                    view._appendMoveHint(hint);\n                }\n            }\n        });\n\n        kendo.ui.scheduler.MonthGroupedView = MonthGroupedView;\n        kendo.ui.scheduler.MonthGroupedByDateView = MonthGroupedByDateView;\n\n        ui.MonthView = SchedulerView.extend({\n            init: function(element, options) {\n                var that = this;\n\n                // Do not allow less than one event\n                if (options.eventsPerDay === 0) {\n                    options.eventsPerDay = 1;\n                }\n\n                // Do not allow 0 height events\n                if (options.eventHeight === 0) {\n                    options.eventHeight = 1;\n                }\n\n                // Do not allow 0 height more-button\n                if (options.moreButtonHeight === 0) {\n                    options.moreButtonHeight = 1;\n                }\n\n                // Do not allow string values other than auto\n                if (typeof options.eventHeight === \"string\" && options.eventHeight !== \"auto\") {\n                    options.eventHeight = 25;\n                }\n\n                // Set adaptiveSlotHeight to true if eventHeight is auto\n                if (options.eventHeight === \"auto\") {\n                    options.adaptiveSlotHeight = true;\n                }\n\n                SchedulerView.fn.init.call(that, element, options);\n                that._groupedView = that._getGroupedView();\n\n                // Exception handling for invalid combinations\n                var isGroupedByDate = this._isGroupedByDate();\n                var adaptiveSlotHeight = this.options.adaptiveSlotHeight;\n                var eventHeight = this.options.eventHeight;\n\n                if (isGroupedByDate === true && adaptiveSlotHeight === true) {\n                    throw new Error(\"Incompatible options: adaptive slot height and date grouping!\");\n                }\n\n                if (isGroupedByDate === true && eventHeight === \"auto\") {\n                    throw new Error(\"Incompatible options: auto event height and date grouping!\");\n                }\n\n                that.title = that.options.title;\n\n                that._templates();\n\n                that._editable();\n\n                that._renderLayout(that.options.date);\n\n                that._groups();\n            },\n\n            name: \"month\",\n\n            _getGroupedView: function() {\n                if (this._isGroupedByDate()) {\n                    return new kendo.ui.scheduler.MonthGroupedByDateView(this);\n                } else {\n                    return new kendo.ui.scheduler.MonthGroupedView(this);\n                }\n            },\n\n            _updateDirection: function(selection, ranges, multiple, reverse, vertical) {\n                if (multiple) {\n                    var startSlot = ranges[0].start;\n                    var endSlot = ranges[ranges.length - 1].end;\n                    var isSameSlot = startSlot.index === endSlot.index;\n                    var isSameCollection = startSlot.collectionIndex === endSlot.collectionIndex;\n                    var updateDirection;\n\n                    if (vertical) {\n                        updateDirection = (isSameSlot && isSameCollection) || isSameCollection;\n                    } else {\n                        updateDirection = isSameSlot && isSameCollection;\n                    }\n\n                    if (updateDirection) {\n                        selection.backward = reverse;\n                    }\n                }\n            },\n\n            _changeDate: function(selection, slot, previous) {\n                var group = this.groups[selection.groupIndex];\n                var collections, index;\n\n                if (previous) {\n                    collections = group._getCollections(group.daySlotCollectionCount());\n                    index = slot.collectionIndex - 1;\n\n                    if (index >= 0) {\n                        return collections[index]._slots[collections[index]._slots.length - 1];\n                    }\n                } else {\n                    collections = group._getCollections(group.daySlotCollectionCount());\n                    index = slot.collectionIndex + 1;\n                    var slotIndex = 0;\n\n                    if (collections[index] && collections[index]._slots[slotIndex]) {\n                        return collections[index]._slots[slotIndex];\n                    }\n                }\n            },\n\n            _getNextHorizontalRange: function(group, method, horizontalRange) {\n                var isVertical = this._isVerticallyGrouped();\n\n                horizontalRange.startSlot = group[method](horizontalRange.startSlot, isVertical);\n                horizontalRange.endSlot = group[method](horizontalRange.endSlot, isVertical);\n\n                return horizontalRange;\n            },\n\n            _getNextVerticalRange: function(group, method, verticalRange, multiple) {\n                var isVertical = this._isVerticallyGrouped() && this._isGroupedByDate();\n\n                verticalRange.startSlot = group[method](verticalRange.startSlot, multiple, isVertical);\n                verticalRange.endSlot = group[method](verticalRange.endSlot, multiple, isVertical);\n\n                return verticalRange;\n            },\n\n            _changeViewPeriod: function(selection, reverse, vertical) {\n                var pad = vertical ? 7 : 1;\n                var newStart, newEnd;\n\n                if (reverse) {\n                    pad *= -1;\n                }\n\n                newStart = kendo.date.addDays(selection.start, pad);\n                newEnd = kendo.date.addDays(selection.end, pad);\n\n                if (this._isInRange(newStart, newEnd)) {\n                    return false;\n                }\n\n                selection.start = newStart;\n                selection.end = newEnd;\n\n                if (!vertical || (vertical && this._isVerticallyGrouped())) {\n                    selection.groupIndex = this._groupedView._changePeriodGroupIndex(reverse, vertical, selection.groupIndex);\n                }\n\n                selection.events = [];\n\n                return true;\n            },\n\n            _continuousSlot: function(selection, ranges, reverse) {\n                var index = selection.backward ? 0 : ranges.length - 1;\n                var group = this.groups[selection.groupIndex];\n\n                return group.continuousSlot(ranges[index].start, reverse);\n            },\n\n            _changeGroupContinuously: function(selection, continuousSlot, multiple, reverse) {\n                if (!multiple) {\n                    var groupIndex = selection.groupIndex;\n                    var lastGroupIndex = this.groups.length - 1;\n                    var vertical = this._isVerticallyGrouped();\n                    var group = this.groups[groupIndex];\n\n                    if (!continuousSlot && vertical) {\n\n                        continuousSlot = group[reverse ? \"lastSlot\" : \"firstSlot\"]();\n\n                        groupIndex += (reverse ? -1 : 1);\n\n                    } else if (continuousSlot && !vertical) {\n                        groupIndex = reverse ? lastGroupIndex : 0;\n                    }\n\n                    if (groupIndex < 0 || groupIndex > lastGroupIndex) {\n                        groupIndex = reverse ? lastGroupIndex : 0;\n                        continuousSlot = null;\n                    }\n\n                    selection.groupIndex = groupIndex;\n                }\n\n                return continuousSlot;\n            },\n\n            _normalizeHorizontalSelection: function(selection, ranges, reverse) {\n                var slot;\n\n                if (reverse) {\n                    slot = ranges[0].start;\n                } else {\n                    slot = ranges[ranges.length - 1].end;\n                }\n\n                return slot;\n            },\n\n            _normalizeVerticalSelection: function(selection, ranges) {\n                var slot;\n\n                if (selection.backward) {\n                    slot = ranges[0].start;\n                } else {\n                    slot = ranges[ranges.length - 1].end;\n                }\n\n                return slot;\n            },\n\n            _templates: function() {\n                var options = this.options,\n                    settings = extend({}, kendo.Template, options.templateSettings);\n\n                this.eventTemplate = kendo.template(EVENT_WRAPPER_STRING);\n                this.dayTemplate = kendo.template(options.dayTemplate, settings);\n                this.groupHeaderTemplate = kendo.template(options.groupHeaderTemplate, settings);\n            },\n\n            dateForTitle: function() {\n                return kendo.format(this.options.selectedDateFormat, this._firstDayOfMonth, this._lastDayOfMonth);\n            },\n\n            shortDateForTitle: function() {\n                return kendo.format(this.options.selectedShortDateFormat, this._firstDayOfMonth, this._lastDayOfMonth);\n            },\n\n            mobileDateForTitle: function() {\n                return kendo.format(this.options.selectedMobileDateFormat, this._firstDayOfMonth, this._lastDayOfMonth);\n            },\n\n            mobileYearForTitle: function() {\n                return this.dateForTitle().split(', ')[1];\n            },\n\n            nextDate: function() {\n                return kendo.date.nextDay(this._lastDayOfMonth);\n            },\n\n            previousDate: function() {\n                return kendo.date.previousDay(this._firstDayOfMonth);\n            },\n\n            startDate: function() {\n                return this._startDate;\n            },\n\n            endDate: function() {\n                return this._endDate;\n            },\n\n            _renderLayout: function(date) {\n                var that = this;\n\n                this._firstDayOfMonth = kendo.date.firstDayOfMonth(date);\n\n                this._lastDayOfMonth = kendo.date.lastDayOfMonth(date);\n\n                this._startDate = firstVisibleMonthDay(date, this.calendarInfo());\n\n                this.createLayout(this._layout());\n\n                this._content();\n\n                this._initSlotHeight();\n\n                this._initTimesHeight();\n\n                this.refreshLayout();\n\n                if (this._isVirtualized()) {\n                    this._tryRenderContent();\n                }\n\n                this.content.on(\"click\" + NS, \".k-nav-day,.k-more-events\", function(e) {\n                    var offset = $(e.currentTarget).offset();\n                    var slot = that._slotByPosition(offset.left, offset.top);\n\n                    e.preventDefault();\n                    that.trigger(\"navigate\", { view: \"day\", date: slot.startDate() });\n                });\n\n                this._footer();\n            },\n\n            _editable: function() {\n                if (this.options.editable) {\n                    if (this._isMobile()) {\n                        this._touchEditable();\n                    } else {\n                        this._mouseEditable();\n                    }\n\n                }\n            },\n\n            _mouseEditable: function() {\n                var that = this;\n                that.element.on(\"click\" + NS, \".k-scheduler-monthview .k-event a:has(.k-i-x),.k-scheduler-monthview .k-event a:has(.k-svg-i-x)\", function(e) {\n                    that.trigger(\"remove\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                    e.preventDefault();\n                });\n\n                if (that.options.editable.create !== false) {\n                    that.element.on(\"dblclick\" + NS, \".k-scheduler-monthview .k-scheduler-content td\", function(e) {\n                        var offset = $(e.currentTarget).offset();\n                        var slot = that._slotByPosition(offset.left, offset.top);\n\n                        if (slot) {\n                            var resourceInfo = that._resourceBySlot(slot);\n                            that.trigger(\"add\", { eventInfo: extend({ isAllDay: true, start: slot.startDate(), end: slot.startDate() }, resourceInfo ) });\n                        }\n\n                        e.preventDefault();\n                    });\n                }\n\n                if (that.options.editable.update !== false) {\n                    that.element.on(\"dblclick\" + NS, \".k-scheduler-monthview .k-event\", function(e) {\n                        that.trigger(\"edit\", { uid: $(this).closest(\".k-event\").attr(kendo.attr(\"uid\")) });\n                        e.preventDefault();\n                    });\n                }\n            },\n\n            _touchEditable: function() {\n                var that = this;\n                var threshold = 0;\n\n                if (kendo.support.mobileOS.android) {\n                    threshold = 5;\n                }\n\n                if (that.options.editable.create !== false) {\n                    that._addUserEvents = new kendo.UserEvents(that.element, {\n                        threshold: threshold,\n                        useClickAsTap: !kendo.support.browser.edge,\n                        filter: \".k-scheduler-monthview .k-scheduler-content td\",\n                        tap: function(e) {\n                            if (that._scrolling) {\n                                return;\n                            }\n                            var offset = $(e.target).offset();\n                            var slot = that._slotByPosition(offset.left, offset.top);\n\n                            if (slot) {\n                                var resourceInfo = that._resourceBySlot(slot);\n                                that.trigger(\"add\", { eventInfo: extend({ isAllDay: true, start: slot.startDate(), end: slot.startDate() }, resourceInfo ) });\n                            }\n\n                            e.preventDefault();\n                        }\n                    });\n                }\n            },\n\n            selectionByElement: function(cell) {\n                var offset = $(cell).offset();\n                return this._slotByPosition(offset.left, offset.top);\n            },\n\n            _columnCountForLevel: function(level) {\n                var columnLevel = this.columnLevels[level];\n                return columnLevel ? columnLevel.length : 0;\n            },\n\n            _rowCountForLevel: function(level) {\n                var rowLevel = this.rowLevels[level];\n                return rowLevel ? rowLevel.length : 0;\n            },\n\n            _content: function() {\n                var html = '<tbody>';\n                var verticalGroupCount = 1;\n                var groupedView = this._groupedView;\n                var resources = this.groupedResources;\n\n                if (resources.length) {\n                    if (this._isVerticallyGrouped()) {\n                        verticalGroupCount = groupedView._verticalRowCountForLevel(resources.length - 1);\n                    }\n                }\n\n                for (var verticalGroupIdx = 0; verticalGroupIdx < verticalGroupCount; verticalGroupIdx++) {\n                    html += this._createCalendar(verticalGroupIdx);\n                    this._cachedGroupIndex = verticalGroupIdx;\n                }\n\n                html += \"</tbody>\";\n\n                this.content.find(\"table\").html(html);\n            },\n\n            _virtualContent: function() {\n                var that = this;\n                var html = '';\n\n                html += this._createCalendar(++this._cachedGroupIndex);\n\n                that.content.find(\"table tbody\").append(html);\n\n                that._initSlotHeight();\n            },\n\n            _calcSlotHeight: function(eventsPerDay) {\n                var options = this.options;\n                var eventHeight = options.eventHeight;\n                var eventSpacing = options.eventSpacing;\n                var moreButtonHeight = options.moreButtonHeight;\n                var firstCell = this.content.find(\"table tr td\")[0];\n                var dateHeader;\n\n                if (eventHeight === \"auto\" || !firstCell) {\n                    return undefined;\n                }\n\n                dateHeader = firstCell.firstChild;\n\n                return Math.round(\n                    // border of cell\n                    ( firstCell.offsetHeight - firstCell.clientHeight ) +\n\n                    // top padding\n                    dateHeader.offsetTop +\n\n                    // height of date header\n                    dateHeader.offsetHeight +\n\n                    // cell inner spacing\n                    CELL_INNER_SPACING +\n\n                    // all visible events and spacing\n                    ( eventsPerDay * eventHeight ) + ( ( eventsPerDay - 1 ) * eventSpacing ) +\n\n                    // leading space, more button\n                    ( CELL_INNER_SPACING + moreButtonHeight ) +\n\n                    // traling spacing\n                    CELL_INNER_SPACING\n                );\n            },\n\n            _initSlotHeight: function() {\n                var options = this.options;\n                var eventsPerDay = options.eventsPerDay;\n                var eventHeight = options.eventHeight;\n                var isMobile = this._isMobile();\n                var table = this.content.find(\"table\");\n                var rowHeight;\n\n                if (isMobile) {\n                    return;\n                }\n\n                if (typeof eventHeight === \"number\") {\n                    rowHeight = this._calcSlotHeight(eventsPerDay);\n\n                    table.find(\"tr\").height( rowHeight );\n\n                    // table.addClass(\"k-scheduler-table-auto\");\n                }\n            },\n\n            _sortEventMeta: function(slot) {\n                slot.eventMeta.sort(function(first, second) {\n                    return first.order - second.order;\n                });\n            },\n\n            _adjustSlotHeight: function(group) {\n                var that = this;\n                var options = this.options;\n                var eventHeight = options.eventHeight;\n                var eventSpacing = options.eventSpacing;\n                var moreButtonHeight = options.moreButtonHeight;\n\n                if (this._canAdjustSlotHeight !== true) {\n                    return;\n                }\n\n                var weeks = group._daySlotCollections;\n\n                weeks.forEach(function(week) {\n                    var events = week._events;\n                    var eventIndex = 0;\n                    var slots = week._slots;\n                    var firstSlot = slots[0];\n                    var weekOffsetTop = firstSlot.element.offsetTop;\n                    var weekHeight = 0;\n\n                    // Ensure event meta exists in each slot\n                    slots.forEach(function(slot) {\n                        if (!slot.eventMeta) {\n                            slot.eventMeta = [];\n                            slot.actualEventCount = 0;\n                        } else {\n                            slot.actualEventCount = slot.eventMeta.length;\n                        }\n                    });\n\n                    // Ensure spanning event meta is present in all related slots\n                    slots.forEach(function(slot, slotIndex) {\n\n                        for (let i = 0; i < slot.eventMeta.length; i++) {\n                            let meta = slot.eventMeta[i];\n                            // Skip events not starting in this slot\n                            if (meta.startIndex !== slotIndex) {\n                                return;\n                            }\n\n                            // Skip non-spanning events\n                            if (meta.startIndex === meta.endIndex) {\n                                return;\n                            }\n\n                            // Copy spanning event meta in all related slots\n                            slots.slice(slotIndex, meta.endIndex + 1).forEach(function(adjSlot) {\n\n                                var adjMeta = adjSlot.eventMeta;\n\n                                if (adjMeta.indexOf(meta) > -1) {\n                                    return;\n                                }\n\n                                // adjMeta.push(meta);\n                                adjMeta[adjMeta.length] = slot.eventMeta[i];\n                                adjSlot.actualEventCount = adjMeta.length;\n                                adjSlot.dirty = true;\n                            });\n                        }\n\n                        // Set correct order\n                        if (slot.dirty === true) {\n                            that._sortEventMeta(slot);\n                            delete slot.dirty;\n                        }\n\n                    });\n\n                    if (eventHeight === \"auto\") {\n                        slots.forEach(function(slot, slotIndex) {\n                            let slotHeight = slot.firstChildTop + slot.firstChildHeight + CELL_INNER_SPACING;\n                            for (let i = 0; i < slot.eventMeta.length; i++) {\n                                let meta = slot.eventMeta[i];\n                                meta.top = Math.max(meta.top, weekOffsetTop + slotHeight);\n                                slotHeight = (meta.top - weekOffsetTop) + eventSpacing + meta.height;\n                            }\n                        });\n                    }\n\n                    // Position events\n                    slots.forEach(function(slot, slotIndex) {\n                        var slotHeight = slot.firstChildTop + slot.firstChildHeight + CELL_INNER_SPACING;\n\n                        for (let i = 0; i < slot.eventMeta.length; i++) {\n                            let meta = slot.eventMeta[i];\n                            meta.top = Math.max(meta.top, weekOffsetTop + slotHeight);\n                            slotHeight = (meta.top - weekOffsetTop) + eventSpacing + meta.height;\n\n                            if (meta.startIndex === slotIndex) {\n                                events[eventIndex].element[0].style.top = meta.top + \"px\";\n                                eventIndex++;\n                            }\n                        }\n\n                        if (slot.eventMeta.length > 0) {\n                            slotHeight -= eventSpacing;\n                            slotHeight += CELL_INNER_SPACING;\n                        } else {\n                            slotHeight += (eventHeight === \"auto\" ? 25 : eventHeight);\n                        }\n\n                        if (slot.more) {\n                            slot.more[0].style.top = weekOffsetTop + slotHeight + \"px\";\n                            slotHeight += CELL_INNER_SPACING + moreButtonHeight;\n                        }\n\n                        weekHeight = Math.max(weekHeight, slotHeight + 1);\n\n                    });\n\n                    // Update slot size and meta\n                    firstSlot.element.parentNode.style.height = weekHeight + \"px\";\n                    slots.forEach(function(slot) {\n                        slot.offsetTop = weekOffsetTop;\n                        slot.offsetHeight = weekHeight;\n                        slot.clientHeight = weekHeight - 1;\n                    });\n\n                });\n            },\n\n            _initTimesHeight: function() {\n                var that = this;\n                var times = that.times;\n                var isSetHeight = that._isSchedulerHeightSet();\n                var contentDiv = that.content[0];\n\n                if (times && !isSetHeight) {\n                    times.height(contentDiv.clientHeight);\n                }\n            },\n\n            _createCalendar: function(verticalGroupIndex) {\n                var start = this.startDate();\n                var cellCount = NUMBER_OF_COLUMNS * NUMBER_OF_ROWS;\n                var cellsPerRow = NUMBER_OF_COLUMNS;\n                var weekStartDates = [start];\n                var html = '';\n                var horizontalGroupCount = 1;\n                var isVerticallyGrouped = this._isVerticallyGrouped();\n                var groupedView = this._groupedView;\n\n                var resources = this.groupedResources;\n\n                if (resources.length) {\n                    if (!isVerticallyGrouped) {\n                        horizontalGroupCount = groupedView._horizontalGroupCountForLevel(resources.length - 1);\n                    }\n                }\n\n                this._slotIndices = {};\n\n                var calendarRowsLength = groupedView._getCalendarRowsLength(cellsPerRow, cellCount);\n\n                for (var rowIdx = 0; rowIdx < calendarRowsLength; rowIdx++) {\n                    html += \"<tr>\";\n\n                    weekStartDates.push(start);\n\n                    var startIdx = rowIdx * cellsPerRow;\n\n                    html += groupedView._createRows(start, startIdx, horizontalGroupCount, verticalGroupIndex);\n                    start = groupedView._adjustStartDate(start, rowIdx === calendarRowsLength - 1);\n\n                    html += \"</tr>\";\n                }\n\n                this._weekStartDates = weekStartDates;\n                this._endDate = kendo.date.previousDay(start);\n\n                return html;\n            },\n\n            _createRow: function(startDate, startIdx, cellsPerRow, groupIndex) {\n                var that = this;\n                var min = that._firstDayOfMonth;\n                var max = that._lastDayOfMonth;\n                var content = that.dayTemplate;\n                var classes = \"\";\n                var html = \"\";\n                var groupedView = this._groupedView;\n\n                var resources = function() {\n                    return that._resourceBySlot({ groupIndex: groupIndex });\n                };\n\n                for (var cellIdx = 0; cellIdx < cellsPerRow; cellIdx++) {\n                    classes = \"\";\n\n                    if (kendo.date.isToday(startDate)) {\n                        classes += \"k-today\";\n                    }\n\n                    if (!kendo.date.isInDateRange(startDate, min, max)) {\n                        classes += \" k-other-month\";\n                    }\n\n                    html += \"<td \";\n\n                    if (classes !== \"\") {\n                        html += 'class=\"' + classes + '\"';\n                    }\n\n                    html += \">\";\n                    html += groupedView._getContent(content, startDate, resources, cellIdx);\n                    html += \"</td>\";\n\n                    that._slotIndices[getDate(startDate).getTime()] = startIdx + cellIdx;\n\n                    startDate = groupedView._nextSlotStartDate(startDate);\n                }\n\n                return html;\n            },\n\n            _layout: function() {\n                var calendarInfo = this.calendarInfo();\n\n                var weekDayNames = this._isMobile() ? calendarInfo.days.namesShort.map(function(name) {\n                    return name[0];\n                }) : calendarInfo.days.names;\n\n                var names = shiftArray(weekDayNames, calendarInfo.firstDay);\n                var columns = $.map(names, function(value) { return { text: value }; });\n                var resources = this.groupedResources;\n                var rows;\n                var groupedView = this._groupedView;\n\n                if (resources.length) {\n                    if (this._isVerticallyGrouped()) {\n                        var inner = []; //add hidden cells in order to sync the content rows\n                        for (var idx = 0; idx < 6; idx++) {\n                            inner.push({ text: \"<div>&nbsp;</div>\", className: \"k-hidden k-slot-cell\" });\n                        }\n                        rows = groupedView._createRowsLayout(resources, inner, this.groupHeaderTemplate, columns);\n                        columns = groupedView._createVerticalColumnsLayout(resources, inner, this.groupHeaderTemplate, columns);\n\n                    } else {\n                        columns = groupedView._createColumnsLayout(resources, columns, this.groupHeaderTemplate, columns);\n                    }\n                }\n\n                return {\n                    columns: columns,\n                    rows: rows\n                };\n            },\n\n            _createEventElement: function(event) {\n                var options = this.options;\n                var editable = options.editable;\n\n                var isMobile = this._isMobile();\n\n                event.showDelete = editable && editable.destroy !== false && !isMobile;\n                event.resizable = editable && editable.resize !== false && !isMobile;\n                event.ns = kendo.ns;\n                event.resources = this.eventResources(event);\n                event.inverseColor = false;\n                event.messages = options.messages || { destroy: \"Delete\" };\n\n                var element = $(this.eventTemplate($.extend({}, event, {\n                    ariaLabel: this._formatEventAriaLabel(event.title, event.start, event.end, event.isAllDay),\n                    template: this.options.eventTemplate\n                })));\n\n                kendo.applyStylesFromKendoAttributes(element, [\"background-color\", \"border-color\"]);\n\n                return element;\n            },\n\n            _isInDateSlot: function(event) {\n                if (!this.groups || this.groups.length === 0) {\n                    return false;\n                }\n\n                var groups = this.groups[0];\n                var slotStart = groups.firstSlot().start;\n                var slotEnd = groups.lastSlot().end - 1;\n\n                var startTime = kendo.date.toUtcTime(event.start);\n                var endTime = kendo.date.toUtcTime(event.end);\n\n                return (isInDateRange(startTime, slotStart, slotEnd) ||\n                    isInDateRange(endTime, slotStart, slotEnd) ||\n                    isInDateRange(slotStart, startTime, endTime) ||\n                    isInDateRange(slotEnd, startTime, endTime)) &&\n                    (!isInDateRange(endTime, slotStart, slotStart) || isInDateRange(endTime, startTime, startTime) || event.isAllDay );\n            },\n\n            _slotIndex: function(date) {\n                return this._slotIndices[getDate(date).getTime()];\n            },\n\n            _positionMobileEvent: function(slotRange, element, group) {\n                var startSlot = slotRange.start,\n                    tableEl = this.table.find(\".k-scheduler-content .k-scheduler-table\")[0],\n                    contentEl = this.table.find(\".k-scheduler-content\")[0],\n                    offsetLeft;\n\n                if (slotRange.start.offsetLeft > slotRange.end.offsetLeft) {\n                   startSlot = slotRange.end;\n                }\n\n                var startIndex = slotRange.start.index;\n                var endIndex = startIndex;\n\n                var eventCount = 3;\n                var events = SchedulerView.collidingEvents(slotRange.events(), startIndex, endIndex);\n\n                events.push({ element: element, start: startIndex, end: endIndex });\n\n                var rows = SchedulerView.createRows(events);\n\n                var slot = slotRange.collection.at(startIndex);\n\n                var container = slot.container;\n\n                if (!container) {\n                    if (this._isRtl && contentEl.clientWidth < contentEl.scrollWidth) {\n                        // RTL mobile rendering with horizontal scroll\n                        offsetLeft = startSlot.offsetLeft - (tableEl.clientWidth - contentEl.clientWidth) + \"px\";\n                    } else {\n                        offsetLeft = startSlot.offsetLeft + \"px\";\n                    }\n\n                    container = $('<div class=\"k-events-container\"></div>').css({\n                        top: startSlot.offsetTop + startSlot.firstChildTop + startSlot.firstChildHeight + \"px\",\n                        left: offsetLeft,\n                        width: startSlot.offsetWidth + \"px\"\n                    });\n\n                    slot.container = container;\n\n                    this.content[0].appendChild(container[0]);\n                }\n\n                if (rows.length <= eventCount) {\n                    slotRange.addEvent({ element: element, start: startIndex, end: endIndex, groupIndex: startSlot.groupIndex });\n\n                    group._continuousEvents.push({\n                        element: element,\n                        uid: element.attr(kendo.attr(\"uid\")),\n                        start: slotRange.start,\n                        end: slotRange.end\n                    });\n\n                    container[0].appendChild(element[0]);\n                }\n            },\n\n            _positionEvent: function(slotRange, element, group) {\n                var eventHeight = this.options.eventHeight;\n                var eventSpacing = this.options.eventSpacing;\n                var startSlot = slotRange.start;\n\n                if (slotRange.start.offsetLeft > slotRange.end.offsetLeft) {\n                    startSlot = slotRange.end;\n                }\n\n                var startIndex = slotRange.start.index;\n                var endIndex = slotRange.end.index;\n                var eventCount = startSlot.eventCount;\n                var events = SchedulerView.collidingEvents(slotRange.events(), startIndex, endIndex);\n                var rightOffset = startIndex !== endIndex ? 3 : 2;\n\n                events.push({ element: element, start: startIndex, end: endIndex });\n\n                var rows = SchedulerView.createRows(events);\n\n                for (var idx = 0, length = Math.min(rows.length, eventCount); idx < length; idx++) {\n                    var rowEvents = rows[idx].events;\n                    var eventTop = (eventHeight === \"auto\")\n                        ? \"\"\n                        : (\n                            startSlot.offsetTop +\n                            startSlot.firstChildTop +\n                            startSlot.firstChildHeight +\n                            CELL_INNER_SPACING +\n                            idx * (eventHeight + eventSpacing) +\n                            \"px\"\n                        );\n\n                    for (var j = 0, eventLength = rowEvents.length; j < eventLength; j++) {\n                        rowEvents[j].element[0].style.top = eventTop;\n                        rowEvents[j].element.attr(kendo.attr(\"order\"), idx);\n                    }\n                }\n\n                if (rows.length > eventCount) {\n                    for (var slotIndex = startIndex; slotIndex <= endIndex; slotIndex++) {\n                        var collection = slotRange.collection;\n\n                        var slot = collection.at(slotIndex);\n\n                        if (slot.more) {\n                            continue;\n                        }\n\n                        slot.more = $(MORE_BUTTON_TEMPLATE()).css({\n                            width: slot.clientWidth - 2,\n                            left: slot.offsetLeft + 2,\n                            top: (eventHeight === \"auto\")\n                                ? \"\"\n                                : (\n                                    slot.offsetTop +\n                                    slot.firstChildTop +\n                                    slot.firstChildHeight +\n                                    CELL_INNER_SPACING +\n                                    (eventCount * eventHeight) +\n                                    ( (eventCount - 1) * eventSpacing) +\n                                    CELL_INNER_SPACING\n                                )\n                        });\n\n                        this.content[0].appendChild(slot.more[0]);\n                    }\n                } else {\n                    slotRange.addEvent({ element: element, start: startIndex, end: endIndex, groupIndex: startSlot.groupIndex });\n\n                    element[0].style.width = slotRange.innerWidth() - rightOffset + \"px\";\n                    element[0].style.left = startSlot.offsetLeft + 2 + \"px\";\n                    element[0].style.height = (eventHeight === \"auto\") ? \"\" : eventHeight + \"px\";\n\n                    group._continuousEvents.push({\n                        element: element,\n                        uid: element.attr(kendo.attr(\"uid\")),\n                        start: slotRange.start,\n                        end: slotRange.end,\n                        order: parseInt(element.attr(kendo.attr(\"order\")), 10)\n                    });\n\n                    element.appendTo(this.content);\n\n                    this._inverseEventColor(element);\n\n                    // Add event meta to slot\n                    var _collectionIndex = slotRange.start.collectionIndex;\n                    var _startSlotIndex = slotRange.start.index;\n                    var _startSlot = group._daySlotCollections[_collectionIndex]._slots[_startSlotIndex];\n\n                    if (!_startSlot.eventMeta) {\n                        _startSlot.eventMeta = [];\n                    }\n\n                    _startSlot.eventMeta.push({\n                        height: (eventHeight === \"auto\") ? element.outerHeight() : eventHeight,\n                        top: 0,\n                        startIndex: _startSlotIndex,\n                        endIndex: slotRange.end.index,\n                        uid: element.attr(kendo.attr(\"uid\")),\n                        order: parseInt(element.attr(kendo.attr(\"order\")), 10)\n                    });\n                }\n            },\n\n            _slotByPosition: function(x, y) {\n                var offset = this.content.offset();\n\n                x -= offset.left;\n                y -= offset.top;\n                y += this.content[0].scrollTop;\n                x += this.content[0].scrollLeft;\n\n                x = Math.ceil(x);\n                y = Math.ceil(y);\n\n                for (var groupIndex = 0; groupIndex < this.groups.length; groupIndex++) {\n                    var slot = this._groupedView._getTimeSlotByPosition(x, y, groupIndex);\n\n                    if (slot) {\n                        return slot;\n                    }\n                }\n\n                return null;\n            },\n\n            _appendResizeHint: function(hint) {\n                hint.appendTo(this.content);\n\n                this._resizeHint = this._resizeHint.add(hint);\n            },\n\n            _updateResizeHint: function(event, groupIndex, startTime, endTime) {\n                this._removeResizeHint();\n\n                var group = this.groups[groupIndex];\n\n                var ranges = group.ranges(startTime, endTime, true, event.isAllDay);\n\n                for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                    this._groupedView._createResizeHint(ranges[rangeIndex]);\n                }\n\n                this._resizeHint.find(\".k-label-top,.k-label-bottom\").text(\"\");\n\n                this._resizeHint.first().addClass(\"k-first\").find(\".k-label-top\").text(kendo.toString(kendo.timezone.toLocalDate(startTime), \"M/dd\"));\n\n                this._resizeHint.last().addClass(\"k-last\").find(\".k-label-bottom\").text(kendo.toString(kendo.timezone.toLocalDate(endTime), \"M/dd\"));\n            },\n\n            _updateMoveHint: function(event, groupIndex, distance) {\n                var start = kendo.date.toUtcTime(event.start) + distance;\n\n                var end = start + event.duration();\n\n                var group = this.groups[groupIndex];\n\n                var ranges = group.ranges(start, end, true, event.isAllDay);\n\n                this._removeMoveHint(event.uid);\n\n                for (var rangeIndex = 0; rangeIndex < ranges.length; rangeIndex++) {\n                    this._groupedView._createMoveHint(ranges[rangeIndex], event);\n                }\n            },\n\n            _appendMoveHint: function(hint) {\n                hint.appendTo(this.content);\n\n                this._moveHint = this._moveHint.add(hint);\n            },\n\n            _groups: function() {\n                var groupCount = this._groupCount();\n                var tableRows = this.content[0].getElementsByTagName(\"tr\");\n                var startDate = this.startDate();\n                this.groups = [];\n\n                for (var idx = 0; idx < groupCount; idx++) {\n                    this._addResourceView(idx);\n                }\n\n                this._groupedView._addDaySlotCollections(groupCount, tableRows, startDate);\n            },\n\n\n            addDaySlot: function(collection, cell, startDate, cellCount) {\n                var start = kendo.date.addDays(startDate, cellCount);\n                var end = kendo.date.MS_PER_DAY;\n                var eventsPerDay = this.options.eventsPerDay;\n\n                if (startDate.getHours() !== start.getHours()) {\n                    end += (startDate.getHours() - start.getHours()) * kendo.date.MS_PER_HOUR;\n                }\n\n                start = kendo.date.toUtcTime(start);\n                end += start;\n\n                collection.addDaySlot(cell, start, end, eventsPerDay);\n            },\n\n            render: function(events) {\n                this.content.children(\".k-event,.k-more-events,.k-events-container\").remove();\n\n                this._cachedEvents = events;\n\n                this._groups();\n\n                events = new kendo.data.Query(events)\n                    .sort([{ field: \"start\", dir: \"asc\" },{ field: \"end\", dir: \"desc\" }])\n                    .toArray()\n                    .filter(function(event) {\n                        return this._isInDateSlot(event);\n                    }.bind(this));\n\n                var resources = this.groupedResources;\n                var isMobile = this._isMobile();\n                var isGroupedByDate = this._isGroupedByDate();\n                var adaptiveSlotHeight = this.options.adaptiveSlotHeight;\n\n                this._canAdjustSlotHeight = isMobile !== true && isGroupedByDate !== true && resources.length === 0 && adaptiveSlotHeight === true;\n\n                if (resources.length) {\n                    this._renderGroups(events, resources, 0, 1);\n                } else {\n                    this._renderEvents(events, 0);\n                }\n\n                this.refreshLayout();\n                this._ongoingEvents(events);\n\n                this.trigger(\"activate\");\n            },\n\n            _renderEvents: function(events, groupIndex) {\n                var group = this.groups[groupIndex];\n                var view = this._groupedView._view;\n                var isMobile = view._isMobile();\n\n                if (!group) {\n                    return;\n                }\n\n                if (!group._continuousEvents) {\n                    group._continuousEvents = [];\n                }\n\n                if (isMobile) {\n\n                    events.forEach(function(event) {\n                        var ranges = group.slotRanges(event, true);\n                        var range = ranges[0];\n                        var start = range.start.start;\n                        var end = range.end.end;\n                        var rangeStart = new Date(range.start.start);\n                        var rangeEnd = ranges[ranges.length - 1].end.end;\n                        var newStart = new Date(rangeStart);\n                        var newEnd = new Date(end);\n\n                        while (rangeStart.getTime() <= rangeEnd &&\n                            event.end >= kendo.timezone.toLocalDate(rangeStart) &&\n                            event.start <= kendo.timezone.toLocalDate(rangeEnd)) {\n                            var dateRange = group.daySlotRanges(newStart.getTime(), newEnd.getTime(), true)[0];\n                            newEnd.setDate(newEnd.getDate() + 1);\n                            newStart.setDate(newStart.getDate() + 1);\n\n                            if (dateRange) {\n                                dateRange.head = null;\n                                dateRange.middle = null;\n                                dateRange.tail = null;\n                                this._groupedView._positionMobileEvent(event, group, dateRange, 1, start, end, 0);\n                            }\n\n                            rangeStart = kendo.date.addDays(rangeStart, 1);\n                        }\n\n                    }.bind(this));\n\n                } else {\n\n                    events.forEach(function(event) {\n                        var range;\n                        var start = event.start;\n                        var end = event.end;\n                        var ranges = group.slotRanges(event, true);\n                        var rangeCount = ranges.length;\n\n                        for (var rangeIndex = 0; rangeIndex < rangeCount; rangeIndex++) {\n                            range = ranges[rangeIndex];\n\n                            this._groupedView._positionEvent(event, group, range, rangeCount, start, end, rangeIndex);\n                        }\n\n                    }.bind(this));\n\n                    if (this._canAdjustSlotHeight === true) {\n                        this._adjustSlotHeight(group);\n                    }\n\n                }\n            },\n\n            _renderGroups: function(events, resources, offset, columnLevel, parentValue) {\n                var resource = resources[0];\n\n                if (resource) {\n                    var view = resource.dataSource.view();\n\n                    view = view.filter(function(item) {\n                        var itemParentValue = kendo.getter(resource.dataParentValueField)(item);\n\n                        return itemParentValue === null || itemParentValue === undefined || itemParentValue === parentValue;\n                    });\n\n                    for (var itemIdx = 0; itemIdx < view.length; itemIdx++) {\n                        var value = this._resourceValue(resource, view[itemIdx]);\n\n                        var tmp = new kendo.data.Query(events).filter({ field: resource.field, operator: SchedulerView.groupEqFilter(value) }).toArray();\n\n                        if (resources.length > 1) {\n                            offset = this._renderGroups(tmp, resources.slice(1), offset++, columnLevel + 1, value);\n                        } else {\n                            this._renderEvents(tmp, offset++);\n                        }\n                    }\n                }\n                return offset;\n            },\n\n            _groupCount: function() {\n                var resources = this.groupedResources;\n                var groupedView = this._groupedView;\n\n                if (resources.length) {\n                    if (this._isVerticallyGrouped()) {\n                        return groupedView._verticalGroupCount(resources.length - 1);\n                    } else {\n                        return groupedView._horizontalGroupCount(resources.length);\n                    }\n                }\n                return 1;\n            },\n\n            _columnOffsetForResource: function(index) {\n                return this._columnCountForLevel(index) / this._columnCountForLevel(index - 1);\n            },\n\n            destroy: function() {\n                if (this.table) {\n                    this.table.removeClass(\"k-scheduler-monthview\");\n                }\n\n                if (this.content) {\n                    this.content.off(NS);\n                }\n\n                if (this.element) {\n                    this.element.off(NS);\n                }\n\n                SchedulerView.fn.destroy.call(this);\n\n                if (this._isMobile() && this.options.editable) {\n                    if (this.options.editable.create !== false) {\n                        this._addUserEvents.destroy();\n                    }\n                }\n            },\n\n            events: [\"remove\", \"add\", \"edit\", \"navigate\"],\n\n            options: {\n                title: \"Month\",\n                name: \"month\",\n                eventHeight: 25,\n                moreButtonHeight: 13,\n                editable: true,\n                selectedDateFormat: \"{0:y}\",\n                selectedShortDateFormat: \"{0:y}\",\n                selectedMobileDateFormat: \"{0:MMMM}\",\n                groupHeaderTemplate: ({ text }) => text,\n                dayTemplate: DAY_TEMPLATE,\n                eventTemplate: EVENT_TEMPLATE,\n                eventsPerDay: 2,\n                adaptiveSlotHeight: false,\n                eventSpacing: 3,\n                ongoingEvents: {\n                    cssClass: null,\n                    enabled: true,\n                    updateInterval: 60000\n                }\n            }\n        });\n\n\n        function shiftArray(array, idx) {\n            return array.slice(idx).concat(array.slice(0, idx));\n        }\n\n        function firstVisibleMonthDay(date, calendarInfo) {\n            var firstDay = calendarInfo.firstDay,\n                firstVisibleDay = new Date(date.getFullYear(), date.getMonth(), 0, date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n\n            while (firstVisibleDay.getDay() != firstDay) {\n                kendo.date.setTime(firstVisibleDay, -1 * MS_PER_DAY);\n            }\n\n            return firstVisibleDay;\n        }\n\n        function isInDateRange(value, min, max) {\n            var msMin = min,\n                msMax = max,\n                msValue;\n\n            msValue = value;\n\n            return msValue >= msMin && msValue <= msMax;\n        }\n    })(window.kendo.jQuery);\n    var kendo$1 = kendo;\n\n    exports.__meta__ = __meta__;\n    exports.default = kendo$1;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]}