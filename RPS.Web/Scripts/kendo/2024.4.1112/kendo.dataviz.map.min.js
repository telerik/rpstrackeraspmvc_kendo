/**
 * Kendo UI v2024.4.1112 (http://www.telerik.com/kendo-ui)
 * Copyright 2024 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.
 *
 * Kendo UI commercial licenses may be obtained at
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete
 * If you do not own a commercial license, this file shall be governed by the trial license terms.
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("kendo.data.js"),require("kendo.userevents.js"),require("kendo.tooltip.js"),require("kendo.mobile.scroller.js"),require("kendo.draganddrop.js"),require("kendo.dataviz.core.js"),require("kendo.drawing.js"),require("kendo.core.js"),require("kendo.icons.js")):"function"==typeof define&&define.amd?define(["exports","kendo.data","kendo.userevents","kendo.tooltip","kendo.mobile.scroller","kendo.draganddrop","kendo.dataviz.core","kendo.drawing","kendo.core.min","kendo.icons"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).kendo=t.kendo||{},t.kendo._globals=t.kendo._globals||{},t.kendo._globals.DatavizMap={}))}(this,(function(t){!function(){var t=window.kendo,e=t.deepExtend;var i=Date.now;i||(i=function(){return(new Date).getTime()}),e(t,{util:{now:i,renderPos:function(e){var i=[];if(e)for(var n=t.toHyphens(e).split("-"),o=0;o<n.length;o++)i.push("k-pos-"+n[o]);return i.join(" ")},renderSize:function(t){return"string"!=typeof t&&(t+="px"),t},sqr:function(t){return t*t},romanToArabic:function(t){t=t.toLowerCase();for(var e={i:1,v:5,x:10,l:50,c:100,d:500,m:1e3},i=0,n=0,o=0;o<t.length;++o){var a=e[t.charAt(o)];if(!a)return null;i+=a,a>n&&(i-=2*n),n=a}return i},arabicToRoman:function(t){for(var e={1:"i",10:"x",100:"c",2:"ii",20:"xx",200:"cc",3:"iii",30:"xxx",300:"ccc",4:"iv",40:"xl",400:"cd",5:"v",50:"l",500:"d",6:"vi",60:"lx",600:"dc",7:"vii",70:"lxx",700:"dcc",8:"viii",80:"lxxx",800:"dccc",9:"ix",90:"xc",900:"cm",1e3:"m"},i=[1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],n="";t>0;)t<i[0]?i.shift():(n+=e[i[0]],t-=i[0]);return n},memoize:function(t){var e=Object.create(null);return function(){for(var i="",n=arguments.length;--n>=0;)i+=":"+arguments[n];return i in e?e[i]:e[i]=t.apply(this,arguments)}},isUnicodeLetter:function(t){return n.test(t)},withExit:function(t,e){try{return t.call(e,(function(t){throw new i(t)}))}catch(t){if(t instanceof i)return t.value;throw t}function i(t){this.value=t}}}});var n=new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]")}(),function(){var t=Math,e=t.abs,i=t.atan,n=t.atan2,o=t.cos,a=t.max,r=t.min,s=t.sin,u=t.tan,h=window.kendo,l=h.Class,c=h.dataviz,d=h.deepExtend,p=h.drawing.util,m=p.defined,f=p.deg,_=p.rad,v=p.round,g=p.valueOrDefault,A=h.util.sqr,y=l.extend({init:function(t,e){1===arguments.length?(this.lat=t[0],this.lng=t[1]):(this.lat=t,this.lng=e)},DISTANCE_ITERATIONS:100,DISTANCE_CONVERGENCE:1e-12,DISTANCE_PRECISION:2,FORMAT:"{0:N6},{1:N6}",toArray:function(){return[this.lat,this.lng]},equals:function(t){return t&&t.lat===this.lat&&t.lng===this.lng},clone:function(){return new y(this.lat,this.lng)},round:function(t){return this.lng=v(this.lng,t),this.lat=v(this.lat,t),this},wrap:function(){return this.lng=this.lng%180,this.lat=this.lat%90,this},distanceTo:function(t,e){return this.greatCircleTo(t,e).distance},destination:function(e,i,a){i=_(i),a=a||c.map.datums.WGS84;var r=_(this.lat),u=_(this.lng),l=e/h.dataviz.map.datums.WGS84.a,d=t.asin(s(r)*o(l)+o(r)*s(l)*o(i)),p=u+n(s(i)*s(l)*o(r),o(l)-s(r)*s(d));return new y(f(d),f(p))},greatCircleTo:function(a,r){if(a=y.create(a),r=r||c.map.datums.WGS84,!a||this.clone().round(8).equals(a.clone().round(8)))return{distance:0,azimuthFrom:0,azimuthTo:0};for(var h,l,d,p,m,g,w,b,C=r.a,E=r.b,k=r.f,F=_(a.lng-this.lng),x=i((1-k)*u(_(this.lat))),D=s(x),B=o(x),T=i((1-k)*u(_(a.lat))),z=s(T),S=o(T),L=F,M=this.DISTANCE_ITERATIONS,O=!1;!O&&M-- >0;){l=s(L),d=o(L),p=t.sqrt(A(S*l)+A(B*z-D*S*d)),b=n(p,g=D*z+B*S*d);var P=B*S*l/p;w=0,0!==(m=1-A(P))&&(w=g-2*D*z/m),h=L;var I=k/16*m*(4+k*(4-3*m));L=F+(1-I)*k*P*(b+I*p*(w+I*g*(2*A(w)-1))),O=e(L-h)<=this.DISTANCE_CONVERGENCE}var j=m*(A(C)-A(E))/A(E),N=1+j/16384*(4096+j*(j*(320-175*j)-768)),R=j/1024*(256+j*(j*(74-47*j)-128)),V=R*p*(w+R/4*(g*(2*A(w)-1)-R/6*w*(4*A(p)-3)*(4*A(w)-3))),Z=n(S*l,B*z-D*S*d),q=n(B*l,-D*S+B*z*d);return{distance:v(E*N*(b-V),this.DISTANCE_PRECISION),azimuthFrom:f(Z),azimuthTo:f(q)}}});y.fn.toString=function(){return h.format(this.FORMAT,this.lat,this.lng)},y.fromLngLat=function(t){return new y(t[1],t[0])},y.fromLatLng=function(t){return new y(t[0],t[1])},y.create=function(t,e){if(m(t))return t instanceof y?t.clone():1===arguments.length&&2===t.length?y.fromLatLng(t):new y(t,e)};var w=l.extend({init:function(t,e){t=y.create(t),e=y.create(e),t.lng+180>e.lng+180&&t.lat+90<e.lat+90?(this.se=t,this.nw=e):(this.se=e,this.nw=t)},contains:function(t){var e=this.nw,i=this.se,n=g(t.lng,t[1]),o=g(t.lat,t[0]);return t&&n+180>=e.lng+180&&n+180<=i.lng+180&&o+90>=i.lat+90&&o+90<=e.lat+90},center:function(){var t=this.nw,e=this.se,i=t.lng+(e.lng-t.lng)/2,n=t.lat+(e.lat-t.lat)/2;return new y(n,i)},containsAny:function(t){for(var e=!1,i=0;i<t.length;i++)e=e||this.contains(t[i]);return e},include:function(t){var e=this.nw,i=this.se,n=g(t.lng,t[1]),o=g(t.lat,t[0]);e.lng=r(e.lng,n),e.lat=a(e.lat,o),i.lng=a(i.lng,n),i.lat=r(i.lat,o)},includeAll:function(t){for(var e=0;e<t.length;e++)this.include(t[e])},edges:function(){var t=this.nw,e=this.se;return{nw:this.nw,ne:new y(t.lat,e.lng),se:this.se,sw:new y(e.lat,t.lng)}},toArray:function(){var t=this.nw,e=this.se;return[t,new y(t.lat,e.lng),e,new y(e.lat,t.lng)]},overlaps:function(t){return this.containsAny(t.toArray())||t.containsAny(this.toArray())}});w.World=new w([90,-180],[-90,180]),w.create=function(t,e){return t instanceof w?t:t&&e?new w(t,e):t&&4===t.length&&!e?new w([t[0],t[1]],[t[2],t[3]]):void 0},d(c,{map:{Extent:w,Location:y}})}(window.kendo.jQuery),function(){var t=window.kendo,e=t.ui.Widget,i=t.template,n=t.drawing.util,o=n.valueOrDefault,a=n.defined,r=e.extend({init:function(t,i){e.fn.init.call(this,t,i),this._initOptions(i),this.items=[],this.element.addClass("k-attribution")},options:{name:"Attribution",separator:"&nbsp;|&nbsp;",itemTemplate:({text:t})=>t},filter:function(t,e){this._extent=t,this._zoom=e,this._render()},add:function(t){a(t)&&("string"==typeof t&&(t={text:t}),this.items.push(t),this._render())},remove:function(t){for(var e=[],i=0;i<this.items.length;i++){var n=this.items[i];n.text!==t&&e.push(n)}this.items=e,this._render()},clear:function(){this.items=[],this.element.empty()},_render:function(){for(var t=[],e=i(this.options.itemTemplate),n=0;n<this.items.length;n++){var o=this.items[n],a=this._itemText(o);""!==a&&t.push(e({text:a}))}t.length>0?this.element.empty().append(t.join(this.options.separator)).show():this.element.hide()},_itemText:function(t){var e="",i=this._inZoomLevel(t.minZoom,t.maxZoom),n=this._inArea(t.extent);return i&&n&&(e+=t.text),e},_inZoomLevel:function(t,e){return t=o(t,-Number.MAX_VALUE),e=o(e,Number.MAX_VALUE),this._zoom>t&&this._zoom<e},_inArea:function(t){var e=!0;return t&&(e=t.contains(this._extent)),e}});t.dataviz.ui.plugin(r)}(window.kendo.jQuery),function(t){var e=window.kendo,i=e.ui.Widget,n=e.keys;function o(t){const i={n:"up",s:"down",e:"right",w:"left"};return`<button class="k-button k-rounded-full k-button-flat k-button-flat-base k-icon-button k-navigator-${t}" aria-label="move ${i[t]}">`+e.ui.icon({icon:`caret-alt-${i[t]}`,iconClass:"k-button-icon"})+"</button>"}var a=o("n")+o("e")+o("s")+o("w"),r=i.extend({init:function(t,n){i.fn.init.call(this,t,n),this._initOptions(n),this.element.addClass("k-navigator").append(a).on("click.kendoNavigator",".k-button",this._click.bind(this));var o=this.element.parent().closest("["+e.attr("role")+"]");this._keyroot=o.length>0?o:this.element,this._tabindex(this._keyroot),this._keydown=this._keydown.bind(this),this._keyroot.on("keydown",this._keydown)},options:{name:"Navigator",panStep:1},events:["pan"],dispose:function(){this._keyroot.off("keydown",this._keydown)},_pan:function(t,e){var i=this.options.panStep;this.trigger("pan",{x:t*i,y:e*i})},_click:function(e){var i=0,n=0,o=t(e.currentTarget);o.is(".k-navigator-n")?n=1:o.is(".k-navigator-s")?n=-1:o.is(".k-navigator-e")?i=1:o.is(".k-navigator-w")&&(i=-1),this._pan(i,n),e.preventDefault()},_keydown:function(t){switch(t.which){case n.UP:this._pan(0,1),t.preventDefault();break;case n.DOWN:this._pan(0,-1),t.preventDefault();break;case n.RIGHT:this._pan(1,0),t.preventDefault();break;case n.LEFT:this._pan(-1,0),t.preventDefault()}}});e.dataviz.ui.plugin(r)}(window.kendo.jQuery),function(t){var e=window.kendo,i=e.ui.Widget,n=e.keys;function o(t,i){return`<button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base k-icon-button k-zoom-${t}" title="zoom-${t}" aria-label="zoom-${t}">${e.ui.icon({icon:i,iconClass:"k-button-icon"})}</button>`}var a=o("in","plus")+o("out","minus"),r=i.extend({init:function(t,n){i.fn.init.call(this,t,n),this._initOptions(n),this.element.addClass("k-zoom-control k-button-group k-group-horizontal k-button-group-solid").append(a).on("click.kendoZoomControl",".k-button",this._click.bind(this));var o=this.element.parent().closest("["+e.attr("role")+"]");this._keyroot=o.length>0?o:this.element,this._tabindex(this._keyroot),this._keydown=this._keydown.bind(this),this._keyroot.on("keydown",this._keydown)},options:{name:"ZoomControl",zoomStep:1},events:["change"],_change:function(t){var e=this.options.zoomStep;this.trigger("change",{delta:t*e})},_click:function(e){var i=1;t(e.currentTarget).is(".k-zoom-out")&&(i=-1),this._change(i),e.preventDefault()},_keydown:function(t){switch(t.which){case n.NUMPAD_PLUS:case 187:case 61:this._change(1);break;case n.NUMPAD_MINUS:case 189:case 173:this._change(-1)}}});e.dataviz.ui.plugin(r)}(window.kendo.jQuery),function(){var t=Math,e=t.atan,i=t.exp,n=t.pow,o=t.sin,a=t.log,r=t.tan,s=window.kendo,u=s.Class,h=s.dataviz,l=s.deepExtend,c=s.geometry,d=c.Point,p=h.map.Location,m=s.drawing.util,f=m.rad,_=m.deg,v=m.limitValue,g=t.PI,A=g/2,y=g/4,w=g/180,b={a:6378137,b:6356752.314245179,f:.0033528106647474805,e:.08181919084262149},C=u.extend({init:function(t){this._initOptions(t)},MAX_LNG:180,MAX_LAT:85.0840590501,INVERSE_ITERATIONS:15,INVERSE_CONVERGENCE:1e-12,options:{centralMeridian:0,datum:b},forward:function(t,e){var i=this,n=i.options,o=n.datum.a,a=n.centralMeridian,r=v(t.lat,-i.MAX_LAT,i.MAX_LAT),s=e?v(t.lng,-i.MAX_LNG,i.MAX_LNG):t.lng,u=f(s-a)*o,h=i._projectLat(r);return new d(u,h)},_projectLat:function(t){var e=this.options.datum,i=e.e,s=e.a,u=f(t),h=r(y+u/2),l=i*o(u),c=n((1-l)/(1+l),i/2);return s*a(h*c)},inverse:function(t,e){var i=this,n=i.options,o=n.datum.a,a=n.centralMeridian,r=t.x/(w*o)+a,s=v(i._inverseY(t.y),-i.MAX_LAT,i.MAX_LAT);return e&&(r=v(r,-i.MAX_LNG,i.MAX_LNG)),new p(s,r)},_inverseY:function(a){var r,s=this,u=s.options.datum,h=u.a,l=u.e,c=l/2,d=i(-a/h),p=A-2*e(d);for(r=0;r<=s.INVERSE_ITERATIONS;r++){var m=l*o(p),f=n((1-m)/(1+m),c),v=A-2*e(d*f)-p;if(p+=v,t.abs(v)<=s.INVERSE_CONVERGENCE)break}return _(p)}}),E=C.extend({MAX_LAT:85.0511287798,_projectLat:function(t){var e=this.options.datum.a,i=f(t),n=r(y+i/2);return e*a(n)},_inverseY:function(t){var n=this.options.datum.a,o=i(-t/n);return _(A-2*e(o))}}),k=u.extend({forward:function(t){return new d(t.lng,t.lat)},inverse:function(t){return new p(t.y,t.x)}}),F=u.extend({init:function(){var t=this._proj=new E,e=this.c=2*g*t.options.datum.a;this._tm=c.transform().translate(.5,.5).scale(1/e,-1/e),this._itm=c.transform().scale(e,-e).translate(-.5,-.5)},toPoint:function(t,e,i){return this._proj.forward(t,i).transform(this._tm).scale(e||1)},toLocation:function(t,e,i){return t=t.clone().scale(1/(e||1)).transform(this._itm),this._proj.inverse(t,i)}});l(h,{map:{crs:{EPSG3395:u.extend({init:function(){this._proj=new C},toPoint:function(t){return this._proj.forward(t)},toLocation:function(t){return this._proj.inverse(t)}}),EPSG3857:F,EPSG4326:u.extend({init:function(){this._proj=new k},toPoint:function(t){return this._proj.forward(t)},toLocation:function(t){return this._proj.inverse(t)}})},datums:{WGS84:b},projections:{Equirectangular:k,Mercator:C,SphericalMercator:E}}})}(window.kendo.jQuery),function(t){var e=window.kendo,i=e.Class,n=e.dataviz,o=e.deepExtend,a=n.map.Extent,r=e.drawing.util.defined;o(n,{map:{layers:{Layer:i.extend({init:function(e,i){this._initOptions(i),this.map=e,this.element=t("<div class='k-layer'></div>").css({zIndex:this.options.zIndex,opacity:this.options.opacity}).appendTo(e.scrollElement),this._beforeReset=this._beforeReset.bind(this),this._reset=this._reset.bind(this),this._resize=this._resize.bind(this),this._panEnd=this._panEnd.bind(this),this._activate(),this._updateAttribution()},destroy:function(){this._deactivate()},show:function(){this.reset(),this._activate(),this._applyExtent(!0)},hide:function(){this._deactivate(),this._setVisibility(!1)},reset:function(){this._beforeReset(),this._reset()},_reset:function(){this._applyExtent()},_beforeReset:t.noop,_resize:t.noop,_panEnd:function(){this._applyExtent()},_applyExtent:function(){var t=this.options,e=this.map.zoom(),i=!r(t.minZoom)||e>=t.minZoom,n=!r(t.maxZoom)||e<=t.maxZoom,o=a.create(t.extent),s=!o||o.overlaps(this.map.extent());this._setVisibility(i&&n&&s)},_setVisibility:function(t){this.element.css("display",t?"":"none")},_activate:function(){var t=this.map;this._deactivate(),t.bind("beforeReset",this._beforeReset),t.bind("reset",this._reset),t.bind("resize",this._resize),t.bind("panEnd",this._panEnd)},_deactivate:function(){var t=this.map;t.unbind("beforeReset",this._beforeReset),t.unbind("reset",this._reset),t.unbind("resize",this._resize),t.unbind("panEnd",this._panEnd)},_updateAttribution:function(){var t=this.map.attribution;t&&t.add(this.options.attribution)}})}}})}(window.kendo.jQuery),function(){var t=window.kendo,e=t.Class,i=t.data.DataSource,n=t.dataviz,o=t.deepExtend,a=t.geometry,r=t.drawing,s=r.Group,u=r.util.last,h=r.util.defined,l=n.map,c=l.Location,d=l.layers.Layer,p=d.extend({init:function(e,i){this._pan=this._pan.bind(this),d.fn.init.call(this,e,i),this.surface=r.Surface.create(this.element,{width:e.scrollElement.width(),height:e.scrollElement.height()}),this._initRoot(),this.movable=new t.ui.Movable(this.surface.element),this._markers=[],this._click=this._handler("shapeClick"),this.surface.bind("click",this._click),this._mouseenter=this._handler("shapeMouseEnter"),this.surface.bind("mouseenter",this._mouseenter),this._mouseleave=this._handler("shapeMouseLeave"),this.surface.bind("mouseleave",this._mouseleave),this._initDataSource()},options:{autoBind:!0},destroy:function(){d.fn.destroy.call(this),this.surface.destroy(),this.dataSource.unbind("change",this._dataChange)},setDataSource:function(e){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=t.data.DataSource.create(e),this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_reset:function(){d.fn._reset.call(this),this._translateSurface(),this._data&&this._load(this._data)},_initRoot:function(){this._root=new s,this.surface.draw(this._root)},_beforeReset:function(){this.surface.clear(),this._initRoot()},_resize:function(){this.surface.size(this.map.size())},_initDataSource:function(){var t=this.options.dataSource;this._dataChange=this._dataChange.bind(this),this.dataSource=i.create(t).bind("change",this._dataChange),t&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(t){this._data=t.sender.view(),this._load(this._data)},_load:function(t){this._clearMarkers(),this._loader||(this._loader=new m(this.map,this.options.style,this));for(var e=new s,i=0;i<t.length;i++){var n=this._loader.parse(t[i]);n&&e.append(n)}this._root.clear(),this._root.append(e)},shapeCreated:function(t){var e=!1;if(t instanceof r.Circle&&(e=h(this._createMarker(t))),!e){var i={layer:this,shape:t};e=this.map.trigger("shapeCreated",i)}return e},featureCreated:function(t){t.layer=this,this.map.trigger("shapeFeatureCreated",t)},_createMarker:function(t){var e=this.map.markers.bind({location:t.location},t.dataItem);return e&&this._markers.push(e),e},_clearMarkers:function(){for(var t=0;t<this._markers.length;t++)this.map.markers.remove(this._markers[t]);this._markers=[]},_pan:function(){this._panning||(this._panning=!0,this.surface.suspendTracking())},_panEnd:function(t){d.fn._panEnd.call(this,t),this._translateSurface(),this.surface.resumeTracking(),this._panning=!1},_translateSurface:function(){var t=this.map,e=t.locationToView(t.extent().nw);this.surface.translate&&(this.surface.translate(e),this.movable.moveTo({x:e.x,y:e.y}))},_handler:function(t){var e=this;return function(i){if(i.element){var n={layer:e,shape:i.element,originalEvent:i.originalEvent};e.map.trigger(t,n)}}},_activate:function(){d.fn._activate.call(this),this.map.bind("pan",this._pan)},_deactivate:function(){d.fn._deactivate.call(this),this.map.unbind("pan",this._pan)}}),m=e.extend({init:function(t,e,i){this.observer=i,this.locator=t,this.style=e},parse:function(t){var e=new s,i=!0;return"Feature"===t.type?(i=!1,this._loadGeometryTo(e,t.geometry,t),this._featureCreated(e,t)):this._loadGeometryTo(e,t,t),i&&e.children.length<2&&(e=e.children[0]),e},_shapeCreated:function(t){var e=!1;return this.observer&&this.observer.shapeCreated&&(e=this.observer.shapeCreated(t)),e},_featureCreated:function(t,e){this.observer&&this.observer.featureCreated&&this.observer.featureCreated({group:t,dataItem:e,properties:e.properties})},_loadGeometryTo:function(t,e,i){var n,o,a=e.coordinates;switch(e.type){case"LineString":o=this._loadPolygon(t,[a],i),this._setLineFill(o);break;case"MultiLineString":for(n=0;n<a.length;n++)o=this._loadPolygon(t,[a[n]],i),this._setLineFill(o);break;case"Polygon":this._loadPolygon(t,a,i);break;case"MultiPolygon":for(n=0;n<a.length;n++)this._loadPolygon(t,a[n],i);break;case"Point":this._loadPoint(t,a,i);break;case"MultiPoint":for(n=0;n<a.length;n++)this._loadPoint(t,a[n],i)}},_setLineFill:function(t){var e=t.segments;(e.length<4||!e[0].anchor().equals(u(e).anchor()))&&(t.options.fill=null)},_loadShape:function(t,e){return this._shapeCreated(e)||t.append(e),e},_loadPolygon:function(t,e,i){var n=this._buildPolygon(e);return n.dataItem=i,this._loadShape(t,n)},_buildPolygon:function(t){for(var e=new(t.length>1?r.MultiPath:r.Path)(this.style),i=0;i<t.length;i++)for(var n=0;n<t[i].length;n++){var o=this.locator.locationToView(c.fromLngLat(t[i][n]));0===n?e.moveTo(o.x,o.y):e.lineTo(o.x,o.y)}return e},_loadPoint:function(t,e,i){var n=c.fromLngLat(e),o=this.locator.locationToView(n),s=new a.Circle(o,10),u=new r.Circle(s,this.style);return u.dataItem=i,u.location=n,this._loadShape(t,u)}});o(t.data,{schemas:{geojson:{type:"json",data:function(t){return"FeatureCollection"===t.type?t.features:"GeometryCollection"===t.type?t.geometries:t}}},transports:{geojson:{read:{dataType:"json"}}}}),o(n,{map:{layers:{shape:p,ShapeLayer:p},GeoJSONLoader:m}})}(window.kendo.jQuery),function(){var t=window.kendo,e=t.getter,i=t.dataviz,n=t.deepExtend,o=t.geometry,a=t.drawing,r=a.util.defined,s=i.map,u=s.Location,h=s.layers.ShapeLayer.extend({options:{autoBind:!0,locationField:"location",valueField:"value",minSize:0,maxSize:100,scale:"sqrt",symbol:"circle"},_load:function(t){if(this.surface.clear(),0!==t.length){var i=this.options,n=e(i.valueField);(t=t.slice(0)).sort((function(t,e){return n(e)-n(t)}));for(var o,a=this._scaleType(),s=0;s<t.length;s++){var h=t[s],l=e(i.locationField)(h),c=e(i.valueField)(h);if(r(l)&&r(c)){o||(o=new a([0,c],[i.minSize,i.maxSize])),l=u.create(l);var d=this.map.locationToView(l),p=o.map(c),m=this._createSymbol({center:d,size:p,style:i.style,dataItem:h,location:l});m.dataItem=h,m.location=l,m.value=c,this._drawSymbol(m)}}}},_scaleType:function(){var e=this.options.scale;return t.isFunction(e)?e:i.map.scales[e]},_createSymbol:function(e){var n=this.options.symbol;return t.isFunction(n)||(n=i.map.symbols[n]),n(e)},_drawSymbol:function(t){var e={layer:this,shape:t};this.map.trigger("shapeCreated",e)||this.surface.draw(t)}}),l=t.Class.extend({init:function(t,e){this._domain=t,this._range=e;var i=Math.sqrt(t[1])-Math.sqrt(t[0]),n=e[1]-e[0];this._ratio=n/i},map:function(t){var e=(Math.sqrt(t)-Math.sqrt(this._domain[0]))*this._ratio;return this._range[0]+e}});n(i,{map:{layers:{bubble:h,BubbleLayer:h},scales:{sqrt:l},symbols:{circle:function(t){var e=new o.Circle(t.center,t.size/2);return new a.Circle(e,t.style)},square:function(t){var e=new a.Path(t.style),i=t.size/2,n=t.center;return e.moveTo(n.x-i,n.y-i).lineTo(n.x+i,n.y-i).lineTo(n.x+i,n.y+i).lineTo(n.x-i,n.y+i).close(),e}}}})}(window.kendo.jQuery),function(t){var e=Math,i=window.kendo,n=i.Class,o=i.template,a=i.dataviz,r=i.deepExtend,s=i.geometry.Point,u=a.map.layers.Layer,h=i.util,l=h.renderSize,c=i.drawing.util,d=c.round,p=c.limitValue,m=u.extend({init:function(t,e){u.fn.init.call(this,t,e),"string"==typeof this.options.subdomains&&(this.options.subdomains=this.options.subdomains.split(""));var i=this._viewType();this._view=new i(this.element,this.options)},destroy:function(){u.fn.destroy.call(this),this._view.destroy(),this._view=null},_beforeReset:function(){var t=this.map,e=t.locationToLayer(t.extent().nw).round();this._view.viewOrigin(e)},_reset:function(t){var e;e=t?t.tileTitle:"",u.fn._reset.call(this),this._updateView(),this._view.reset(e)},_viewType:function(){return f},_activate:function(){u.fn._activate.call(this),i.support.mobileOS||(this._pan||(this._pan=i.throttle(this._render.bind(this),100)),this.map.bind("pan",this._pan))},_deactivate:function(){u.fn._deactivate.call(this),this._pan&&this.map.unbind("pan",this._pan)},_updateView:function(){var t=this._view,e=this.map,i=e.extent(),n={nw:e.locationToLayer(i.nw).round(),se:e.locationToLayer(i.se).round()};t.center(e.locationToLayer(e.center())),t.extent(n),t.zoom(e.zoom())},_resize:function(){this._render()},_panEnd:function(t){u.fn._panEnd.call(this,t),this._render()},_render:function(){this._updateView(),this._view.render()}}),f=n.extend({init:function(t,e){this.element=t,this._initOptions(e),this.pool=new v},options:{tileSize:256,subdomains:["a","b","c"],urlTemplate:()=>""},center:function(t){this._center=t},extent:function(t){this._extent=t},viewOrigin:function(t){this._viewOrigin=t},zoom:function(t){this._zoom=t},pointToTileIndex:function(t){return new s(e.floor(t.x/this.options.tileSize),e.floor(t.y/this.options.tileSize))},tileCount:function(){var t=this.size(),i=this.pointToTileIndex(this._extent.nw),n=this._extent.nw,o=this.indexToPoint(i).translate(-n.x,-n.y);return{x:e.ceil((e.abs(o.x)+t.width)/this.options.tileSize),y:e.ceil((e.abs(o.y)+t.height)/this.options.tileSize)}},size:function(){var t=this._extent.nw,e=this._extent.se.clone().translate(-t.x,-t.y);return{width:e.x,height:e.y}},indexToPoint:function(t){var e=t.x,i=t.y;return new s(e*this.options.tileSize,i*this.options.tileSize)},subdomainText:function(){var t=this.options.subdomains;return t[this.subdomainIndex++%t.length]},destroy:function(){this.element.empty(),this.pool.empty()},reset:function(t){this._tileTitle=t,this.pool.reset(),this.subdomainIndex=0,this.render()},render:function(){var t,e,i,n=this.tileCount(),o=this.pointToTileIndex(this._extent.nw);for(e=0;e<n.x;e++)for(i=0;i<n.y;i++)(t=this.createTile({x:o.x+e,y:o.y+i})).visible||t.show()},createTile:function(t){var e=this.tileOptions(t),i=this.pool.get(this._center,e);return 0===i.element.parent().length&&this.element.append(i.element),i},tileOptions:function(t){var e=this.wrapIndex(t),i=this.indexToPoint(t),n=this._viewOrigin,o=i.clone().translate(-n.x,-n.y);return{index:e,currentIndex:t,point:i,offset:g(o),zoom:this._zoom,size:this.options.tileSize,subdomain:this.subdomainText(),urlTemplate:this.options.urlTemplate,errorUrlTemplate:this.options.errorUrlTemplate,tileTitle:this._tileTitle}},wrapIndex:function(t){var i=e.pow(2,this._zoom);return{x:this.wrapValue(t.x,i),y:p(t.y,0,i-1)}},wrapValue:function(t,i){var n=e.abs(t)%i;return t=t>=0?n:i-(0===n?i:n)}}),_=n.extend({init:function(t,e){this.id=t,this.visible=!0,this._initOptions(e),this.createElement(),this.show()},options:{urlTemplate:()=>"",errorUrlTemplate:()=>""},createElement:function(){this.element=t("<img alt='"+this.options.tileTitle+"' />").css({position:"absolute",display:"block",width:this.options.size,height:this.options.size}).on("error",function(t){this.errorUrl()?t.target.setAttribute("src",this.errorUrl()):t.target.removeAttribute("src")}.bind(this))},show:function(){var t=this.element[0];t.style.top=l(this.options.offset.y),t.style.left=l(this.options.offset.x);var e=this.url();e&&t.setAttribute("src",e),t.style.visibility="visible",this.visible=!0},hide:function(){this.element[0].style.visibility="hidden",this.visible=!1},url:function(){return o(this.options.urlTemplate)(this.urlOptions())},errorUrl:function(){return o(this.options.errorUrlTemplate)(this.urlOptions())},urlOptions:function(){var t=this.options;return{zoom:t.zoom,subdomain:t.subdomain,z:t.zoom,x:t.index.x,y:t.index.y,s:t.subdomain,quadkey:t.quadkey,q:t.quadkey,culture:t.culture,c:t.culture}},destroy:function(){this.element&&(this.element.remove(),this.element=null)}}),v=n.extend({init:function(){this._items=[]},options:{maxSize:100},get:function(t,e){return this._items.length>=this.options.maxSize&&this._remove(t),this._create(e)},empty:function(){for(var t=this._items,e=0;e<t.length;e++)t[e].destroy();this._items=[]},reset:function(){for(var t=this._items,e=0;e<t.length;e++)t[e].hide()},_create:function(t){for(var e,i=this._items,n=h.hashKey(t.point.toString()+t.offset.toString()+t.zoom+t.urlTemplate),o=0;o<i.length;o++)if(i[o].id===n){e=i[o];break}return e?e.show():(e=new _(n,t),this._items.push(e)),e},_remove:function(t){for(var e=this._items,i=-1,n=-1,o=0;o<e.length;o++){var a=e[o].options.point.distanceTo(t);a>i&&!e[o].visible&&(n=o,i=a)}-1!==n&&(e[n].destroy(),e.splice(n,1))}});function g(t){return new s(d(t.x),d(t.y))}r(a,{map:{layers:{tile:m,TileLayer:m,ImageTile:_,TilePool:v,TileView:f}}})}(window.kendo.jQuery),function(t){var e=window.kendo,i=e.dataviz,n=e.deepExtend,o=e.drawing.util.defined,a=i.map.Extent,r=i.map.Location,s=i.map.layers.TileLayer,u=i.map.layers.TileView,h=s.extend({init:function(t,e){this.options.baseUrl=this._scheme()+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/",s.fn.init.call(this,t,e),this._onMetadata=this._onMetadata.bind(this),this._fetchMetadata()},options:{imagerySet:"road"},_fetchMetadata:function(){var e=this.options;if(!e.key)throw new Error("Bing tile layer: API key is required");t.ajax({url:e.baseUrl+e.imagerySet,data:{output:"json",include:"ImageryProviders",key:e.key,uriScheme:this._scheme()},type:"get",dataType:"jsonp",jsonp:"jsonp",success:this._onMetadata})},_scheme:function(t){return"https"===(t=t||window.location.protocol).replace(":","")?"https":"http"},_onMetadata:function(t){var e=this;if(t&&t.resourceSets.length){var i=e.resource=t.resourceSets[0].resources[0];n(e._view.options,{urlTemplate:({subdomain:t,quadkey:i,culture:n})=>e.resource.imageUrl.replace("{subdomain}",t).replace("{quadkey}",i).replace("{culture}",n),subdomains:i.imageUrlSubdomains});var a=e.options;o(a.minZoom)||(a.minZoom=i.zoomMin),o(a.maxZoom)||(a.maxZoom=i.zoomMax),e._addAttribution(),"none"!==e.element.css("display")&&e._reset()}},_viewType:function(){return l},_addAttribution:function(){var t=this.map.attribution;if(t){var e=this.resource.imageryProviders;if(e)for(var i=0;i<e.length;i++)for(var n=e[i],o=0;o<n.coverageAreas.length;o++){var s=n.coverageAreas[o];t.add({text:n.attribution,minZoom:s.zoomMin,maxZoom:s.zoomMax,extent:new a(new r(s.bbox[2],s.bbox[1]),new r(s.bbox[0],s.bbox[3]))})}}},imagerySet:function(t){if(!t)return this.options.imagerySet;this.options.imagerySet=t,this.map.attribution.clear(),this._fetchMetadata()}}),l=u.extend({options:{culture:"en-US"},tileOptions:function(t){var e=u.fn.tileOptions.call(this,t);return e.culture=this.options.culture,e.quadkey=this.tileQuadKey(this.wrapIndex(t)),e},tileQuadKey:function(t){var e,i,n,o="";for(n=this._zoom;n>0;n--)e=0,i=1<<n-1,t.x&i&&e++,t.y&i&&(e+=2),o+=e;return o}});n(i,{map:{layers:{bing:h,BingLayer:h,BingView:l}}})}(window.kendo.jQuery),function(t){var e=document,i=Math,n=t.inArray,o=window.kendo,a=o.Class,r=o.data.DataSource,s=o.ui.Tooltip,u=o.dataviz,h=o.deepExtend,l=u.map,c=l.Location,d=l.layers.Layer,p=d.extend({init:function(t,e){d.fn.init.call(this,t,e),this._markerClick=this._markerClick.bind(this),this.element.on("click",".k-marker",this._markerClick),this.items=[],this._initDataSource()},destroy:function(){d.fn.destroy.call(this),this.element.off("click",".k-marker",this._markerClick),this.dataSource.unbind("change",this._dataChange),this.clear()},options:{zIndex:1e3,autoBind:!0,dataSource:{},locationField:"location",titleField:"title"},add:function(t){if(!Array.isArray(t))return this._addOne(t);for(var e=0;e<t.length;e++)this._addOne(t[e])},remove:function(t){t.destroy();var e=n(t,this.items);e>-1&&this.items.splice(e,1)},clear:function(){for(var t=0;t<this.items.length;t++)this.items[t].destroy();this.items=[]},update:function(t){var e=t.location();if(e){t.showAt(this.map.locationToView(e));var i={marker:t,layer:this};this.map.trigger("markerActivate",i)}},_reset:function(){d.fn._reset.call(this);for(var t=this.items,e=0;e<t.length;e++)this.update(t[e])},bind:function(t,e){var i=l.Marker.create(t,this.options);i.dataItem=e;var n={marker:i,layer:this};if(!this.map.trigger("markerCreated",n))return this.add(i),i},setDataSource:function(t){this.dataSource&&this.dataSource.unbind("change",this._dataChange),this.dataSource=o.data.DataSource.create(t),this.dataSource.bind("change",this._dataChange),this.options.autoBind&&this.dataSource.fetch()},_addOne:function(t){var e=m.create(t,this.options);return e.addTo(this),e},_initDataSource:function(){var t=this.options.dataSource;this._dataChange=this._dataChange.bind(this),this.dataSource=r.create(t).bind("change",this._dataChange),t&&this.options.autoBind&&this.dataSource.fetch()},_dataChange:function(t){this._load(t.sender.view())},_load:function(t){this._data=t,this.clear();for(var e=o.getter(this.options.locationField),i=o.getter(this.options.titleField),n=0;n<t.length;n++){var a=t[n];this.bind({location:e(a),title:i(a)},a)}},_markerClick:function(e){var i={marker:t(e.currentTarget).data("kendoMarker"),layer:this};this.map.trigger("markerClick",i)}}),m=a.extend({init:function(t){this.options=t||{}},addTo:function(t){this.layer=t.markers||t,this.layer.items.push(this),this.layer.update(this)},location:function(t){return t?(this.options.location=c.create(t).toArray(),this.layer&&this.layer.update(this),this):c.create(this.options.location)},showAt:function(t){this.render(),this.element.css({left:i.round(t.x),top:i.round(t.y)}),this.tooltip&&this.tooltip.popup&&this.tooltip.popup._position()},hide:function(){this.element&&(this.element.remove(),this.element=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)},destroy:function(){this.layer=null,this.hide()},render:function(){if(!this.element){let i=this.options,n=this.layer;this.element=t(e.createElement("span")).attr("title",i.title?o.htmlEncode(i.title):null).attr(i.attributes||{}).data("kendoMarker",this).css("zIndex",i.zIndex),i.shape?"pinTarget"===i.shape?o.ui.icon(this.element,{icon:"map-marker-target",iconClass:"k-marker",size:"xxlarge"}):"pin"===i.shape?o.ui.icon(this.element,{icon:"map-marker",iconClass:"k-marker",size:"xxlarge"}):this.element.addClass("k-marker k-icon k-i-marker-"+o.toHyphens(i.shape)):o.ui.icon(this.element,{icon:"map-marker",iconClass:"k-marker",size:"xxlarge"}),n&&n.element.append(this.element),this.renderTooltip()}},renderTooltip:function(){var t=this,e=t.options.title,i=t.options.tooltip||{};if(i&&s){var n=i.template;if(n){var a=o.template(n);i.content=function(e){return e.location=t.location(),e.marker=t,a(e)}}(e||i.content||i.contentUrl)&&(this.tooltip=new s(this.element,i),this.tooltip.marker=this)}}});m.create=function(t,e){return t instanceof m?t:new m(h({},e,t))},h(u,{map:{layers:{marker:p,MarkerLayer:p},Marker:m}})}(window.kendo.jQuery),function(t){var e=document,i=Math,n=i.min,o=i.pow,a=window.kendo,r=a.ui.Widget,s=a.deepExtend,u=a.dataviz,h=u.ui,l=a.geometry,c=l.Point,d=u.map,p=d.Extent,m=d.Location,f=d.crs.EPSG3857,_=a.util.renderPos,v=a.drawing.util,g=v.defined,A=v.limitValue,y=v.valueOrDefault,w=r.extend({init:function(t,i){a.destroy(t),r.fn.init.call(this,t),this._initOptions(i),this.bind(this.events,i),this.crs=new f,this.element.addClass("k-"+this.options.name.toLowerCase()).css("position","relative").empty().append(e.createElement("div")),this._viewOrigin=this._getOrigin(),this._initScroller(),this._initMarkers(),this._initControls(),this._initLayers(),this._reset(),this.scrollElement.parent().removeClass("km-widget"),this._mousewheel=this._mousewheel.bind(this),this.element.on("DOMMouseScroll mousewheel",this._mousewheel)},options:{name:"Map",controls:{attribution:!0,navigator:{panStep:100},zoom:!0},layers:[],layerDefaults:{shape:{style:{fill:{color:"#fff"},stroke:{color:"#aaa",width:.5}}},bubble:{style:{fill:{color:"#fff",opacity:.5},stroke:{color:"#aaa",width:.5}}},marker:{shape:"pinTarget",tooltip:{position:"top"}}},center:[0,0],zoom:3,minSize:256,minZoom:1,maxZoom:19,markers:[],markerDefaults:{shape:"pinTarget",tooltip:{position:"top"}},wraparound:!0,messages:{tileTitle:"Map tile"}},events:["beforeReset","click","markerActivate","markerClick","markerCreated","pan","panEnd","reset","shapeClick","shapeCreated","shapeFeatureCreated","shapeMouseEnter","shapeMouseLeave","zoomEnd","zoomStart"],destroy:function(){this.scroller.destroy(),this.navigator&&this.navigator.destroy(),this.attribution&&this.attribution.destroy(),this.zoomControl&&this.zoomControl.destroy(),this.markers.destroy();for(var t=0;t<this.layers.length;t++)this.layers[t].destroy();r.fn.destroy.call(this)},zoom:function(t){var e=this.options;return g(t)?(t=i.round(A(t,e.minZoom,e.maxZoom)),e.zoom!==t&&(e.zoom=t,this._reset()),this):e.zoom},center:function(t){return t?(this.options.center=m.create(t).toArray(),this._reset(),this):m.create(this.options.center)},extent:function(t){return t?(this._setExtent(t),this):this._getExtent()},setOptions:function(t){r.fn.setOptions.call(this,t),this._reset()},locationToLayer:function(t,e){var i=!this.options.wraparound;return t=m.create(t),this.crs.toPoint(t,this._layerSize(e),i)},layerToLocation:function(t,e){var i=!this.options.wraparound;return t=c.create(t),this.crs.toLocation(t,this._layerSize(e),i)},locationToView:function(t){t=m.create(t);var e=this.locationToLayer(this._viewOrigin);return this.locationToLayer(t).translateWith(e.scale(-1))},viewToLocation:function(t,e){var i=this.locationToLayer(this._getOrigin(),e);return t=(t=c.create(t)).clone().translateWith(i),this.layerToLocation(t,e)},eventOffset:function(t){var e,i,n,o=this.element.offset();if(t.x||t.y){var a="location";i=t.x[a]-o.left,n=t.y[a]-o.top,e=new l.Point(i,n)}else{var r=t.originalEvent||t;i=y(r.pageX,r.clientX)-o.left,n=y(r.pageY,r.clientY)-o.top,e=new l.Point(i,n)}return e},eventToView:function(t){var e=this.eventOffset(t);return this.locationToView(this.viewToLocation(e))},eventToLayer:function(t){return this.locationToLayer(this.eventToLocation(t))},eventToLocation:function(t){var e=this.eventOffset(t);return this.viewToLocation(e)},viewSize:function(){var t=this.element,e=this._layerSize(),i=t.width();return this.options.wraparound||(i=n(e,i)),{width:i,height:n(e,t.height())}},exportVisual:function(){return this._reset(),!1},_setOrigin:function(t,e){var i,n=this.viewSize();return t=this._origin=m.create(t),(i=this.locationToLayer(t,e)).x+=n.width/2,i.y+=n.height/2,this.options.center=this.layerToLocation(i,e).toArray(),this},_getOrigin:function(t){var e,i=this.viewSize();return!t&&this._origin||((e=this.locationToLayer(this.center())).x-=i.width/2,e.y-=i.height/2,this._origin=this.layerToLocation(e)),this._origin},_setExtent:function(t){var e=p.create(t),n=e.se.clone();this.options.wraparound&&n.lng<0&&t.nw.lng>0&&(n.lng=180+(180+n.lng)),t=new p(e.nw,n),this.center(t.center());for(var o=this.element.width(),a=this.element.height(),r=this.options.maxZoom;r>=this.options.minZoom;r--){var s=this.locationToLayer(t.nw,r),u=this.locationToLayer(t.se,r),h=i.abs(u.x-s.x),l=i.abs(u.y-s.y);if(h<=o&&l<=a)break}this.zoom(r)},_getExtent:function(){var t=this._getOrigin(),e=this.locationToLayer(t),i=this.viewSize();e.x+=i.width,e.y+=i.height;var n=this.layerToLocation(e);return new p(t,n)},_zoomAround:function(t,e){this._setOrigin(this.layerToLocation(t,e),e),this.zoom(e)},_initControls:function(){var t=this.options.controls;h.Attribution&&t.attribution&&this._createAttribution(t.attribution),a.support.mobileOS||(h.Navigator&&t.navigator&&this._createNavigator(t.navigator),h.ZoomControl&&t.zoom&&this._createZoomControl(t.zoom))},_createControlElement:function(e,i){var n=e.position||i,o="."+_(n).replace(" ","."),a=t(".k-map-controls"+o,this.element);return 0===a.length&&(a=t("<div>").addClass("k-map-controls "+_(n)).appendTo(this.element)),t("<div>").appendTo(a)},_createAttribution:function(t){var e=this._createControlElement(t,"bottomRight");this.attribution=new h.Attribution(e,t)},_createNavigator:function(t){var e=this._createControlElement(t,"topLeft"),i=this.navigator=new h.Navigator(e,t);this._navigatorPan=this._navigatorPan.bind(this),i.bind("pan",this._navigatorPan),this._navigatorCenter=this._navigatorCenter.bind(this),i.bind("center",this._navigatorCenter)},_navigatorPan:function(t){var e=this,i=e.scroller,n=i.scrollLeft+t.x,o=i.scrollTop-t.y,a=this._virtualSize,r=this.element.height(),s=this.element.width();n=A(n,a.x.min,a.x.max-s),o=A(o,a.y.min,a.y.max-r),e.scroller.one("scroll",(function(t){e._scrollEnd(t)})),e.scroller.scrollTo(-n,-o)},_navigatorCenter:function(){this.center(this.options.center)},_createZoomControl:function(t){var e=this._createControlElement(t,"topLeft"),i=this.zoomControl=new h.ZoomControl(e,t);this._zoomControlChange=this._zoomControlChange.bind(this),i.bind("change",this._zoomControlChange)},_zoomControlChange:function(t){this.trigger("zoomStart",{originalEvent:t})||(this.zoom(this.zoom()+t.delta),this.trigger("zoomEnd",{originalEvent:t}))},_initScroller:function(){var t=a.support.mobileOS?.93:.9,e=!1!==this.options.zoomable,i=this.scroller=new a.mobile.ui.Scroller(this.element.children(0),{friction:t,velocityMultiplier:5,zoom:e,mousewheelScrolling:!1,supportDoubleTap:!0});i.bind("scroll",this._scroll.bind(this)),i.bind("scrollEnd",this._scrollEnd.bind(this)),i.userEvents.bind("gesturestart",this._scaleStart.bind(this)),i.userEvents.bind("gestureend",this._scale.bind(this)),i.userEvents.bind("doubleTap",this._doubleTap.bind(this)),i.userEvents.bind("tap",this._tap.bind(this)),this.scrollElement=i.scrollElement},_initLayers:function(){for(var t=this.options.layers,e=this.layers=[],i=0;i<t.length;i++){var n=t[i],o=n.type||"shape",a=this.options.layerDefaults[o],r=u.map.layers[o];e.push(new r(this,s({},a,n)))}},_initMarkers:function(){this.markers=new d.layers.MarkerLayer(this,this.options.markerDefaults),this.markers.add(this.options.markers)},_scroll:function(t){var e=this.locationToLayer(this._viewOrigin).round(),i=t.sender.movable,n=new l.Point(i.x,i.y).scale(-1).scale(1/i.scale);e.x+=n.x,e.y+=n.y,this._scrollOffset=n,this._setOrigin(this.layerToLocation(e)),this.trigger("pan",{originalEvent:t,origin:this._getOrigin(),center:this.center()})},_scrollEnd:function(t){this._scrollOffset&&this._panComplete()&&(this._scrollOffset=null,this._panEndTS=new Date,this.trigger("panEnd",{originalEvent:t,origin:this._getOrigin(),center:this.center()}))},_panComplete:function(){return new Date-(this._panEndTS||0)>50},_scaleStart:function(t){if(this.trigger("zoomStart",{originalEvent:t})){var e=t.touches[1];e&&e.cancel()}},_scale:function(t){var e=this.scroller.movable.scale,i=this._scaleToZoom(e),n=new l.Point(t.center.x,t.center.y),o=this.viewToLocation(n,i),a=this.locationToLayer(o,i).translate(-n.x,-n.y);this._zoomAround(a,i),this.trigger("zoomEnd",{originalEvent:t})},_scaleToZoom:function(t){var e=this._layerSize()*t/this.options.minSize,n=i.log(e)/i.log(2);return i.round(n)},_reset:function(){this.attribution&&this.attribution.filter(this.center(),this.zoom()),this._viewOrigin=this._getOrigin(!0),this._resetScroller(),this.trigger("beforeReset"),this.trigger("reset",{tileTitle:this.options.messages.tileTitle})},_resetScroller:function(){var t=this.scroller,e=t.dimensions.x,i=t.dimensions.y,n=this._layerSize(),a=this.extent().nw,r=this.locationToLayer(a).round();t.movable.round=!0,t.reset(),t.userEvents.cancel();var s=this.zoom();t.dimensions.forcedMinScale=o(2,this.options.minZoom-s),t.dimensions.maxScale=o(2,this.options.maxZoom-s);var u={min:-r.x,max:n-r.x},h={min:-r.y,max:n-r.y};if(this.options.wraparound&&(u.max=20*n,u.min=-u.max),!1===this.options.pannable){var l=this.viewSize();u.min=h.min=0,u.max=l.width,h.max=l.height}e.makeVirtual(),i.makeVirtual(),e.virtualSize(u.min,u.max),i.virtualSize(h.min,h.max),this._virtualSize={x:u,y:h}},_renderLayers:function(){var t=this.options.layers,e=this.layers=[];this.scrollWrap.empty();for(var i=0;i<t.length;i++){var n=t[i],o=n.type||"shape",a=this.options.layerDefaults[o],r=u.map.layers[o];e.push(new r(this,s({},a,n)))}},_layerSize:function(t){return t=y(t,this.options.zoom),this.options.minSize*o(2,t)},_tap:function(t){if(this._panComplete()){var e=this.eventOffset(t);this.trigger("click",{originalEvent:t,location:this.viewToLocation(e)})}},_doubleTap:function(t){if(!1!==this.options.zoomable&&!this.trigger("zoomStart",{originalEvent:t})){var e=this.zoom()+1,i=this.eventOffset(t),n=this.viewToLocation(i),o=this.locationToLayer(n,e).translate(-i.x,-i.y);this._zoomAround(o,e),this.trigger("zoomEnd",{originalEvent:t})}},_mousewheel:function(t){t.preventDefault();var e=u.mwDelta(t)>0?-1:1,i=this.options,n=this.zoom(),o=A(n+e,i.minZoom,i.maxZoom);if(!1!==i.zoomable&&o!==n&&!this.trigger("zoomStart",{originalEvent:t})){var a=this.eventOffset(t),r=this.viewToLocation(a),s=this.locationToLayer(r,o).translate(-a.x,-a.y);this._zoomAround(s,o),this.trigger("zoomEnd",{originalEvent:t})}}});u.ui.plugin(w)}(window.kendo.jQuery);var e=kendo;t.__meta__={id:"dataviz.map",name:"Map",category:"dataviz",description:"The Kendo DataViz Map displays spatial data",depends:["data","userevents","tooltip","dataviz.core","drawing","mobile.scroller"]},t.default=e,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=kendo.dataviz.map.min.js.map
